"use strict";(self.webpackChunkdocumentation=self.webpackChunkdocumentation||[]).push([[792],{790:()=>{let _e=null,ss=!1,Jo=1;const Fn=Symbol("SIGNAL");function G(e){const t=_e;return _e=e,t}const n0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function ea(e){if(ss)throw new Error("");if(null===_e)return;_e.consumerOnSignalRead(e);const t=_e.nextProducerIndex++;kr(_e),t<_e.producerNode.length&&_e.producerNode[t]!==e&&os(_e)&&ta(_e.producerNode[t],_e.producerIndexOfThis[t]),_e.producerNode[t]!==e&&(_e.producerNode[t]=e,_e.producerIndexOfThis[t]=os(_e)?d0(e,_e,t):0),_e.producerLastReadVersion[t]=e.version}function r0(e){if((!os(e)||e.dirty)&&(e.dirty||e.lastCleanEpoch!==Jo)){if(!e.producerMustRecompute(e)&&!Bl(e))return e.dirty=!1,void(e.lastCleanEpoch=Jo);e.producerRecomputeValue(e),e.dirty=!1,e.lastCleanEpoch=Jo}}function s0(e){if(void 0===e.liveConsumerNode)return;const t=ss;ss=!0;try{for(const n of e.liveConsumerNode)n.dirty||a0(n)}finally{ss=t}}function a0(e){e.dirty=!0,s0(e),e.consumerMarkedDirty?.(e)}function Bl(e){kr(e);for(let t=0;t<e.producerNode.length;t++){const n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(r0(n),r!==n.version))return!0}return!1}function d0(e,t,n){if(p0(e),kr(e),0===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=d0(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function ta(e,t){if(p0(e),kr(e),1===e.liveConsumerNode.length)for(let r=0;r<e.producerNode.length;r++)ta(e.producerNode[r],e.producerIndexOfThis[r]);const n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){const r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];kr(i),i.producerIndexOfThis[r]=t}}function os(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function kr(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function p0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}let f0=function u_(){throw new Error};function m0(e,t){(function o0(){return!1!==_e?.consumerAllowSignalWrites})()||function h0(){f0()}(),e.equal(e.value,t)||(e.value=t,function c_(e){e.version++,function s_(){Jo++}(),s0(e)}(e))}const g0={...n0,equal:function t0(e,t){return Object.is(e,t)},value:void 0};function ye(e){return"function"==typeof e}function Hl(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const zl=Hl(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function Gl(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class at{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(ye(r))try{r()}catch(o){t=o instanceof zl?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{b0(o)}catch(l){t=t??[],l instanceof zl?t=[...t,...l.errors]:t.push(l)}}if(t)throw new zl(t)}}add(t){var n;if(t&&t!==this)if(this.closed)b0(t);else{if(t instanceof at){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Gl(n,t)}remove(t){const{_finalizers:n}=this;n&&Gl(n,t),t instanceof at&&t._removeParent(this)}}at.EMPTY=(()=>{const e=new at;return e.closed=!0,e})();const v0=at.EMPTY;function y0(e){return e instanceof at||e&&"closed"in e&&ye(e.remove)&&ye(e.add)&&ye(e.unsubscribe)}function b0(e){ye(e)?e():e.unsubscribe()}const or={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},na={setTimeout(e,t,...n){const{delegate:r}=na;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=na;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function C0(e){na.setTimeout(()=>{const{onUnhandledError:t}=or;if(!t)throw e;t(e)})}function Wl(){}const p_=Ql("C",void 0,void 0);function Ql(e,t,n){return{kind:e,value:t,error:n}}let ar=null;function ra(e){if(or.useDeprecatedSynchronousErrorHandling){const t=!ar;if(t&&(ar={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=ar;if(ar=null,n)throw r}}else e()}class Zl extends at{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,y0(t)&&t.add(this)):this.destination=y_}static create(t,n,r){return new Kl(t,n,r)}next(t){this.isStopped?Xl(function h_(e){return Ql("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?Xl(function f_(e){return Ql("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xl(p_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const g_=Function.prototype.bind;function Yl(e,t){return g_.call(e,t)}class E_{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){ia(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){ia(r)}else ia(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){ia(n)}}}class Kl extends Zl{constructor(t,n,r){let i;if(super(),ye(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&or.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Yl(t.next,o),error:t.error&&Yl(t.error,o),complete:t.complete&&Yl(t.complete,o)}):i=t}this.destination=new E_(i)}}function ia(e){or.useDeprecatedSynchronousErrorHandling?function m_(e){or.useDeprecatedSynchronousErrorHandling&&ar&&(ar.errorThrown=!0,ar.error=e)}(e):C0(e)}function Xl(e,t){const{onStoppedNotification:n}=or;n&&na.setTimeout(()=>n(e,t))}const y_={closed:!0,next:Wl,error:function v_(e){throw e},complete:Wl},Jl="function"==typeof Symbol&&Symbol.observable||"@@observable";function ur(e){return e}function D0(e){return 0===e.length?ur:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let xe=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function D_(e){return e&&e instanceof Zl||function C_(e){return e&&ye(e.next)&&ye(e.error)&&ye(e.complete)}(e)&&y0(e)}(n)?n:new Kl(n,r,i);return ra(()=>{const{operator:l,source:c}=this;o.add(l?l.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=w0(r))((i,o)=>{const l=new Kl({next:c=>{try{n(c)}catch(d){o(d),l.unsubscribe()}},error:o,complete:i});this.subscribe(l)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[Jl](){return this}pipe(...n){return D0(n)(this)}toPromise(n){return new(n=w0(n))((r,i)=>{let o;this.subscribe(l=>o=l,l=>i(l),()=>r(o))})}}return e.create=t=>new e(t),e})();function w0(e){var t;return null!==(t=e??or.Promise)&&void 0!==t?t:Promise}const w_=Hl(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let At=(()=>{class e extends xe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new _0(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new w_}next(n){ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ra(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?v0:(this.currentObservers=null,o.push(n),new at(()=>{this.currentObservers=null,Gl(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new xe;return n.source=this,n}}return e.create=(t,n)=>new _0(t,n),e})();class _0 extends At{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:v0}}class Tt extends At{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}function I0(e){return ye(e?.lift)}function $e(e){return t=>{if(I0(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Pe(e,t,n,r,i){return new __(e,t,n,r,i)}class __ extends Zl{constructor(t,n,r,i,o,l){super(t),this.onFinalize=o,this.shouldUnsubscribe=l,this._next=n?function(c){try{n(c)}catch(d){t.error(d)}}:super._next,this._error=i?function(c){try{i(c)}catch(d){t.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function X(e,t){return $e((n,r)=>{let i=0;n.subscribe(Pe(r,o=>{r.next(e.call(t,o,i++))}))})}const S0="https://g.co/ng/security#xss";class w extends Error{constructor(t,n){super(function qr(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}const sa=Symbol("InputSignalNode#UNSET"),M0={...g0,transformFn:void 0,applyValueToInputSignal(e,t){m0(e,t)}};function A0(e,t){const n=Object.create(M0);function r(){if(ea(n),n.value===sa)throw new w(-950,!1);return n.value}return n.value=e,n.transformFn=t?.transform,r[Fn]=n,r}function bn(e){return{toString:e}.toString()}const ie=globalThis;function se(e){for(let t in e)if(e[t]===se)return t;throw Error("Could not find renamed property on target object.")}function I_(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Fe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(Fe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function tc(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const S_=se({__forward_ref__:se});function fe(e){return e.__forward_ref__=fe,e.toString=function(){return Fe(this())},e}function O(e){return oa(e)?e():e}function oa(e){return"function"==typeof e&&e.hasOwnProperty(S_)&&e.__forward_ref__===fe}function T(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function $r(e){return{providers:e.providers||[],imports:e.imports||[]}}function aa(e){return x0(e,la)||x0(e,N0)}function x0(e,t){return e.hasOwnProperty(t)?e[t]:null}function ua(e){return e&&(e.hasOwnProperty(nc)||e.hasOwnProperty(R_))?e[nc]:null}const la=se({\u0275prov:se}),nc=se({\u0275inj:se}),N0=se({ngInjectableDef:se}),R_=se({ngInjectorDef:se});class A{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=T({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ac(e){return e&&!!e.\u0275providers}const as=se({\u0275cmp:se}),uc=se({\u0275dir:se}),lc=se({\u0275pipe:se}),O0=se({\u0275mod:se}),Cn=se({\u0275fac:se}),us=se({__NG_ELEMENT_ID__:se}),P0=se({__NG_ENV_ID__:se});function q(e){return"string"==typeof e?e:null==e?"":String(e)}function cc(e,t){throw new w(-201,!1)}var Z=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(Z||{});let dc;function F0(){return dc}function ut(e){const t=dc;return dc=e,t}function L0(e,t,n){const r=aa(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Z.Optional?null:void 0!==t?t:void cc()}const ls={},pc="__NG_DI_FLAG__",ca="ngTempTokenPath",q_=/\n/gm,k0="__source";let Hr;function kn(e){const t=Hr;return Hr=e,t}function U_(e,t=Z.Default){if(void 0===Hr)throw new w(-203,!1);return null===Hr?L0(e,void 0,t):Hr.get(e,t&Z.Optional?null:void 0,t)}function k(e,t=Z.Default){return(F0()||U_)(O(e),t)}function I(e,t=Z.Default){return k(e,da(t))}function da(e){return typeof e>"u"||"number"==typeof e?e:(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function fc(e){const t=[];for(let n=0;n<e.length;n++){const r=O(e[n]);if(Array.isArray(r)){if(0===r.length)throw new w(900,!1);let i,o=Z.Default;for(let l=0;l<r.length;l++){const c=r[l],d=B_(c);"number"==typeof d?-1===d?i=c.token:o|=d:i=c}t.push(k(i,o))}else t.push(k(r))}return t}function B_(e){return e[pc]}function lr(e,t){return e.hasOwnProperty(Cn)?e[Cn]:null}function zr(e,t){e.forEach(n=>Array.isArray(n)?zr(n,t):t(n))}function V0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function pa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function vt(e,t,n){let r=Gr(e,t);return r>=0?e[1|r]=n:(r=~r,function j0(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function Ec(e,t){const n=Gr(e,t);if(n>=0)return e[1|n]}function Gr(e,t){return function U0(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),l=e[o<<n];if(t===l)return o<<n;l>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Kt={},J=[],cr=new A(""),B0=new A("",-1),vc=new A("");class ha{get(t,n=ls){if(n===ls){const r=new Error(`NullInjectorError: No provider for ${Fe(t)}!`);throw r.name="NullInjectorError",r}return n}}var ma=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(ma||{}),kt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(kt||{}),de=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(de||{});function Z_(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}function yc(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],l=n[r++],c=n[r++];e.setAttribute(t,l,c,o)}else{const o=i,l=n[++r];H0(o)?e.setProperty(t,o,l):e.setAttribute(t,o,l),r++}}return r}function $0(e){return 3===e||4===e||6===e}function H0(e){return 64===e.charCodeAt(0)}function ds(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||z0(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function z0(e,t,n,r,i){let o=0,l=e.length;if(-1===t)l=-1;else for(;o<e.length;){const c=e[o++];if("number"==typeof c){if(c===t){l=-1;break}if(c>t){l=o-1;break}}}for(;o<e.length;){const c=e[o];if("number"==typeof c)break;if(c===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==l&&(e.splice(l,0,t),o=l+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const G0="ng-template";function Y_(e,t,n,r){let i=0;if(r){for(;i<t.length&&"string"==typeof t[i];i+=2)if("class"===t[i]&&-1!==Z_(t[i+1].toLowerCase(),n,0))return!0}else if(bc(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&"string"==typeof(o=t[i]);)if(o.toLowerCase()===n)return!0}return!1}function bc(e){return 4===e.type&&e.value!==G0}function K_(e,t,n){return t===(4!==e.type||n?e.value:G0)}function X_(e,t,n){let r=4;const i=e.attrs,o=null!==i?function tI(e){for(let t=0;t<e.length;t++)if($0(e[t]))return t;return e.length}(i):0;let l=!1;for(let c=0;c<t.length;c++){const d=t[c];if("number"!=typeof d){if(!l)if(4&r){if(r=2|1&r,""!==d&&!K_(e,d,n)||""===d&&1===t.length){if(qt(r))return!1;l=!0}}else if(8&r){if(null===i||!Y_(e,i,d,n)){if(qt(r))return!1;l=!0}}else{const p=t[++c],f=J_(d,i,bc(e),n);if(-1===f){if(qt(r))return!1;l=!0;continue}if(""!==p){let h;if(h=f>o?"":i[f+1].toLowerCase(),2&r&&p!==h){if(qt(r))return!1;l=!0}}}}else{if(!l&&!qt(r)&&!qt(d))return!1;if(l&&qt(d))continue;l=!1,r=d|1&r}}return qt(r)||l}function qt(e){return!(1&e)}function J_(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const l=t[i];if(l===e)return i;if(3===l||6===l)o=!0;else{if(1===l||2===l){let c=t[++i];for(;"string"==typeof c;)c=t[++i];continue}if(4===l)break;if(0===l){i+=4;continue}}i+=o?1:2}return-1}return function nI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function W0(e,t,n=!1){for(let r=0;r<t.length;r++)if(X_(e,t[r],n))return!0;return!1}function rI(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Q0(e,t){return e?":not("+t.trim()+")":t}function iI(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let l=e[n];if("string"==typeof l)if(2&r){const c=e[++n];i+="["+l+(c.length>0?'="'+c+'"':"")+"]"}else 8&r?i+="."+l:4&r&&(i+=" "+l);else""!==i&&!qt(l)&&(t+=Q0(o,i),i=""),r=l,o=o||!qt(r);n++}return""!==i&&(t+=Q0(o,i)),t}function $(e){return bn(()=>{const t=Y0(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===ma.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||kt.Emulated,styles:e.styles||J,_:null,schemas:e.schemas||null,tView:null,id:""};K0(n);const r=e.dependencies;return n.directiveDefs=ga(r,!1),n.pipeDefs=ga(r,!0),n.id=function cI(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of n)t=Math.imul(31,t)+i.charCodeAt(0)|0;return t+=2147483648,"c"+t}(n),n})}function aI(e){return W(e)||Le(e)}function uI(e){return null!==e}function ps(e){return bn(()=>({type:e.type,bootstrap:e.bootstrap||J,declarations:e.declarations||J,imports:e.imports||J,exports:e.exports||J,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Z0(e,t){if(null==e)return Kt;const n={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];let o,l,c=de.None;Array.isArray(i)?(c=i[0],o=i[1],l=i[2]??o):(o=i,l=i),t?(n[o]=c!==de.None?[r,c]:r,t[o]=l):n[o]=r}return n}function L(e){return bn(()=>{const t=Y0(e);return K0(t),t})}function ct(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function W(e){return e[as]||null}function Le(e){return e[uc]||null}function He(e){return e[lc]||null}function Ge(e,t){const n=e[O0]||null;if(!n&&!0===t)throw new Error(`Type ${Fe(e)} does not have '\u0275mod' property.`);return n}function Y0(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Kt,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||J,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Z0(e.inputs,t),outputs:Z0(e.outputs),debugInfo:null}}function K0(e){e.features?.forEach(t=>t(e))}function ga(e,t){if(!e)return null;const n=t?He:aI;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(uI)}function Wr(e){return{\u0275providers:e}}function dI(...e){return{\u0275providers:Cc(0,e),\u0275fromNgModule:!0}}function Cc(e,...t){const n=[],r=new Set;let i;const o=l=>{n.push(l)};return zr(t,l=>{const c=l;Ea(c,o,[],r)&&(i||=[],i.push(c))}),void 0!==i&&X0(i,o),n}function X0(e,t){for(let n=0;n<e.length;n++){const{ngModule:r,providers:i}=e[n];Dc(i,o=>{t(o,r)})}}function Ea(e,t,n,r){if(!(e=O(e)))return!1;let i=null,o=ua(e);const l=!o&&W(e);if(o||l){if(l&&!l.standalone)return!1;i=e}else{const d=e.ngModule;if(o=ua(d),!o)return!1;i=d}const c=r.has(i);if(l){if(c)return!1;if(r.add(i),l.dependencies){const d="function"==typeof l.dependencies?l.dependencies():l.dependencies;for(const p of d)Ea(p,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!c){let p;r.add(i);try{zr(o.imports,f=>{Ea(f,t,n,r)&&(p||=[],p.push(f))})}finally{}void 0!==p&&X0(p,t)}if(!c){const p=lr(i)||(()=>new i);t({provide:i,useFactory:p,deps:J},i),t({provide:vc,useValue:i,multi:!0},i),t({provide:cr,useValue:()=>k(i),multi:!0},i)}const d=o.providers;if(null!=d&&!c){const p=e;Dc(d,f=>{t(f,p)})}}}return i!==e&&void 0!==e.providers}function Dc(e,t){for(let n of e)ac(n)&&(n=n.\u0275providers),Array.isArray(n)?Dc(n,t):t(n)}const pI=se({provide:String,useValue:se});function wc(e){return null!==e&&"object"==typeof e&&pI in e}function dr(e){return"function"==typeof e}const _c=new A(""),va={},hI={};let Ic;function ya(){return void 0===Ic&&(Ic=new ha),Ic}class yt{}class Qr extends yt{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mc(t,l=>this.processProvider(l)),this.records.set(B0,Zr(void 0,this)),i.has("environment")&&this.records.set(yt,Zr(void 0,this));const o=this.records.get(_c);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vc,J,Z.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;const t=G(null);try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(t)}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=kn(this),r=ut(void 0);try{return t()}finally{kn(n),ut(r)}}get(t,n=ls,r=Z.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(P0))return t[P0](this);r=da(r);const o=kn(this),l=ut(void 0);try{if(!(r&Z.SkipSelf)){let d=this.records.get(t);if(void 0===d){const p=function yI(e){return"function"==typeof e||"object"==typeof e&&e instanceof A}(t)&&aa(t);d=p&&this.injectableDefInScope(p)?Zr(Sc(t),va):null,this.records.set(t,d)}if(null!=d)return this.hydrate(t,d)}return(r&Z.Self?ya():this.parent).get(t,n=r&Z.Optional&&n===ls?null:n)}catch(c){if("NullInjectorError"===c.name){if((c[ca]=c[ca]||[]).unshift(Fe(t)),o)throw c;return function $_(e,t,n,r){const i=e[ca];throw t[k0]&&i.unshift(t[k0]),e.message=function H_(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=Fe(t);if(Array.isArray(t))i=t.map(Fe).join(" -> ");else if("object"==typeof t){let o=[];for(let l in t)if(t.hasOwnProperty(l)){let c=t[l];o.push(l+":"+("string"==typeof c?JSON.stringify(c):Fe(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(q_,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e[ca]=null,e}(c,t,"R3InjectorError",this.source)}throw c}finally{ut(l),kn(o)}}resolveInjectorInitializers(){const t=G(null),n=kn(this),r=ut(void 0);try{const o=this.get(cr,J,Z.Self);for(const l of o)l()}finally{kn(n),ut(r),G(t)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(Fe(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new w(205,!1)}processProvider(t){let n=dr(t=O(t))?t:O(t&&t.provide);const r=function gI(e){return wc(e)?Zr(void 0,e.useValue):Zr(tm(e),va)}(t);if(!dr(t)&&!0===t.multi){let i=this.records.get(n);i||(i=Zr(void 0,va,!0),i.factory=()=>fc(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){const r=G(null);try{return n.value===va&&(n.value=hI,n.value=n.factory()),"object"==typeof n.value&&n.value&&function vI(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;const n=O(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function Sc(e){const t=aa(e),n=null!==t?t.factory:lr(e);if(null!==n)return n;if(e instanceof A)throw new w(204,!1);if(e instanceof Function)return function mI(e){if(e.length>0)throw new w(204,!1);const n=function N_(e){return e&&(e[la]||e[N0])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new w(204,!1)}function tm(e,t,n){let r;if(dr(e)){const i=O(e);return lr(i)||Sc(i)}if(wc(e))r=()=>O(e.useValue);else if(function em(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...fc(e.deps||[]));else if(function J0(e){return!(!e||!e.useExisting)}(e))r=()=>k(O(e.useExisting));else{const i=O(e&&(e.useClass||e.provide));if(!function EI(e){return!!e.deps}(e))return lr(i)||Sc(i);r=()=>new i(...fc(e.deps))}return r}function Zr(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mc(e,t){for(const n of e)Array.isArray(n)?Mc(n,t):n&&ac(n)?Mc(n.\u0275providers,t):t(n)}function Dn(e,t){e instanceof Qr&&e.assertNotDestroyed();const r=kn(e),i=ut(void 0);try{return t()}finally{kn(r),ut(i)}}const be=0,S=1,x=2,Ie=3,Vt=4,We=5,bt=6,Kr=7,he=8,Ne=9,jt=10,P=11,hs=12,im=13,Xr=14,De=15,ms=16,Jr=17,wn=18,gs=19,sm=20,Vn=21,Da=22,pr=23,V=25,Tc=1,Xt=7,ei=9,Se=10;var xc=function(e){return e[e.None=0]="None",e[e.HasTransplantedViews=2]="HasTransplantedViews",e}(xc||{});function Qe(e){return Array.isArray(e)&&"object"==typeof e[Tc]}function Ze(e){return Array.isArray(e)&&!0===e[Tc]}function Nc(e){return!!(4&e.flags)}function fr(e){return e.componentOffset>-1}function _a(e){return!(1&~e.flags)}function Ut(e){return!!e.template}function Rc(e){return!!(512&e[x])}class RI{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function lm(e,t,n,r){null!==t?t.applyValueToInputSignal(t,r):e[n]=r}function xt(){return cm}function cm(e){return e.type.prototype.ngOnChanges&&(e.setInput=PI),OI}function OI(){const e=pm(this),t=e?.current;if(t){const n=e.previous;if(n===Kt)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function PI(e,t,n,r,i){const o=this.declaredInputs[r],l=pm(e)||function FI(e,t){return e[dm]=t}(e,{previous:Kt,current:null}),c=l.current||(l.current={}),d=l.previous,p=d[o];c[o]=new RI(p&&p.currentValue,n,d===Kt),lm(e,t,i,n)}xt.ngInherit=!0;const dm="__ngSimpleChanges__";function pm(e){return e[dm]||null}const Jt=function(e,t,n){};let mm=!1;function ue(e){for(;Array.isArray(e);)e=e[be];return e}function vs(e,t){return ue(t[e])}function Je(e,t){return ue(t[e.index])}function ys(e,t){return e.data[t]}function Ct(e,t){const n=t[e];return Qe(n)?n:n[be]}function kc(e){return!(128&~e[x])}function en(e,t){return null==t?null:e[t]}function gm(e){e[Jr]=0}function UI(e){1024&e[x]||(e[x]|=1024,kc(e)&&bs(e))}function qc(e){return!!(9216&e[x]||e[pr]?.dirty)}function Vc(e){e[jt].changeDetectionScheduler?.notify(1),qc(e)?bs(e):64&e[x]&&(function kI(){return mm}()?(e[x]|=1024,bs(e)):e[jt].changeDetectionScheduler?.notify())}function bs(e){e[jt].changeDetectionScheduler?.notify();let t=hr(e);for(;null!==t&&!(8192&t[x])&&(t[x]|=8192,kc(t));)t=hr(t)}function Ia(e,t){if(!(256&~e[x]))throw new w(911,!1);null===e[Vn]&&(e[Vn]=[]),e[Vn].push(t)}function hr(e){const t=e[Ie];return Ze(t)?t[Ie]:t}const F={lFrame:xm(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ym(){return F.bindingsEnabled}function ni(){return null!==F.skipHydrationRootTNode}function D(){return F.lFrame.lView}function Y(){return F.lFrame.tView}function oe(){let e=_m();for(;null!==e&&64===e.type;)e=e.parent;return e}function _m(){return F.lFrame.currentTNode}function tn(e,t){const n=F.lFrame;n.currentTNode=e,n.isParent=t}function Uc(){return F.lFrame.isParent}function Bc(){F.lFrame.isParent=!1}function et(){const e=F.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Bt(){return F.lFrame.bindingIndex++}function YI(e,t){const n=F.lFrame;n.bindingIndex=n.bindingRootIndex=e,$c(t)}function $c(e){F.lFrame.currentDirectiveIndex=e}function zc(){return F.lFrame.currentQueryIndex}function Sa(e){F.lFrame.currentQueryIndex=e}function XI(e){const t=e[S];return 2===t.type?t.declTNode:1===t.type?e[We]:null}function Am(e,t,n){if(n&Z.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Z.Host||(i=XI(o),null===i||(o=o[Xr],10&i.type))););if(null===i)return!1;t=i,e=o}const r=F.lFrame=Tm();return r.currentTNode=t,r.lView=e,!0}function Gc(e){const t=Tm(),n=e[S];F.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function Tm(){const e=F.lFrame,t=null===e?null:e.child;return null===t?xm(e):t}function xm(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function Nm(){const e=F.lFrame;return F.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Rm=Nm;function Wc(){const e=Nm();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Ye(){return F.lFrame.selectedIndex}function mr(e){F.lFrame.selectedIndex=e}function me(){const e=F.lFrame;return ys(e.tView,e.selectedIndex)}let Pm=!0;function Ds(){return Pm}function nn(e){Pm=e}function Ma(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:l,ngAfterContentChecked:c,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:f}=o;l&&(e.contentHooks??=[]).push(-n,l),c&&((e.contentHooks??=[]).push(n,c),(e.contentCheckHooks??=[]).push(n,c)),d&&(e.viewHooks??=[]).push(-n,d),p&&((e.viewHooks??=[]).push(n,p),(e.viewCheckHooks??=[]).push(n,p)),null!=f&&(e.destroyHooks??=[]).push(n,f)}}function Aa(e,t,n){Fm(e,t,3,n)}function Ta(e,t,n,r){(3&e[x])===n&&Fm(e,t,n,r)}function Qc(e,t){let n=e[x];(3&n)===t&&(n&=16383,n+=1,e[x]=n)}function Fm(e,t,n,r){const o=r??-1,l=t.length-1;let c=0;for(let d=void 0!==r?65535&e[Jr]:0;d<l;d++)if("number"==typeof t[d+1]){if(c=t[d],null!=r&&c>=r)break}else t[d]<0&&(e[Jr]+=65536),(c<o||-1==o)&&(sS(e,n,t,d),e[Jr]=(4294901760&e[Jr])+d+2),d++}function Lm(e,t){Jt(4,e,t);const n=G(null);try{t.call(e)}finally{G(n),Jt(5,e,t)}}function sS(e,t,n,r){const i=n[r]<0,o=n[r+1],c=e[i?-n[r]:n[r]];i?e[x]>>14<e[Jr]>>16&&(3&e[x])===t&&(e[x]+=16384,Lm(c,o)):Lm(c,o)}const ri=-1;class ws{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function Yc(e){return e!==ri}function _s(e){return 32767&e}function Is(e,t){let n=function cS(e){return e>>16}(e),r=t;for(;n>0;)r=r[Xr],n--;return r}let Kc=!0;function xa(e){const t=Kc;return Kc=e,t}const km=255,qm=5;let dS=0;const rn={};function Na(e,t){const n=Vm(e,t);if(-1!==n)return n;const r=t[S];r.firstCreatePass&&(e.injectorIndex=t.length,Xc(r.data,e),Xc(t,null),Xc(r.blueprint,null));const i=Ra(e,t),o=e.injectorIndex;if(Yc(i)){const l=_s(i),c=Is(i,t),d=c[S].data;for(let p=0;p<8;p++)t[o+p]=c[l+p]|d[l+p]}return t[o+8]=i,o}function Xc(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Vm(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Ra(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Gm(i),null===r)return ri;if(n++,i=i[Xr],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ri}function Jc(e,t,n){!function pS(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(us)&&(r=n[us]),null==r&&(r=n[us]=dS++);const i=r&km;t.data[e+(i>>qm)]|=1<<i}(e,t,n)}function jm(e,t,n){if(n&Z.Optional||void 0!==e)return e;cc()}function Um(e,t,n,r){if(n&Z.Optional&&void 0===r&&(r=null),!(n&(Z.Self|Z.Host))){const i=e[Ne],o=ut(void 0);try{return i?i.get(t,r,n&Z.Optional):L0(t,r,n&Z.Optional)}finally{ut(o)}}return jm(r,0,n)}function Bm(e,t,n,r=Z.Default,i){if(null!==e){if(2048&t[x]&&!(r&Z.Self)){const l=function ES(e,t,n,r,i){let o=e,l=t;for(;null!==o&&null!==l&&2048&l[x]&&!(512&l[x]);){const c=$m(o,l,n,r|Z.Self,rn);if(c!==rn)return c;let d=o.parent;if(!d){const p=l[sm];if(p){const f=p.get(n,rn,r);if(f!==rn)return f}d=Gm(l),l=l[Xr]}o=d}return i}(e,t,n,r,rn);if(l!==rn)return l}const o=$m(e,t,n,r,rn);if(o!==rn)return o}return Um(t,n,r,i)}function $m(e,t,n,r,i){const o=function mS(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(us)?e[us]:void 0;return"number"==typeof t?t>=0?t&km:gS:t}(n);if("function"==typeof o){if(!Am(t,e,r))return r&Z.Host?jm(i,0,r):Um(t,n,r,i);try{let l;if(l=o(r),null!=l||r&Z.Optional)return l;cc()}finally{Rm()}}else if("number"==typeof o){let l=null,c=Vm(e,t),d=ri,p=r&Z.Host?t[De][We]:null;for((-1===c||r&Z.SkipSelf)&&(d=-1===c?Ra(e,t):t[c+8],d!==ri&&zm(r,!1)?(l=t[S],c=_s(d),t=Is(d,t)):c=-1);-1!==c;){const f=t[S];if(Hm(o,c,f.data)){const h=hS(c,t,n,l,r,p);if(h!==rn)return h}d=t[c+8],d!==ri&&zm(r,t[S].data[c+8]===p)&&Hm(o,c,t)?(l=f,c=_s(d),t=Is(d,t)):c=-1}}return i}function hS(e,t,n,r,i,o){const l=t[S],c=l.data[e+8],f=Oa(c,l,n,null==r?fr(c)&&Kc:r!=l&&!!(3&c.type),i&Z.Host&&o===c);return null!==f?gr(t,l,f,c):rn}function Oa(e,t,n,r,i){const o=e.providerIndexes,l=t.data,c=1048575&o,d=e.directiveStart,f=o>>20,m=i?c+f:e.directiveEnd;for(let g=r?c:c+f;g<m;g++){const E=l[g];if(g<d&&n===E||g>=d&&E.type===n)return g}if(i){const g=l[d];if(g&&Ut(g)&&g.type===n)return d}return null}function gr(e,t,n,r){let i=e[n];const o=t.data;if(function oS(e){return e instanceof ws}(i)){const l=i;l.resolving&&function F_(e,t){throw t&&t.join(" > "),new w(-200,e)}(function ee(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():q(e)}(o[n]));const c=xa(l.canSeeViewProviders);l.resolving=!0;const p=l.injectImpl?ut(l.injectImpl):null;Am(e,r,Z.Default);try{i=e[n]=l.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function iS(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const l=cm(t);(n.preOrderHooks??=[]).push(e,l),(n.preOrderCheckHooks??=[]).push(e,l)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}(n,o[n],t)}finally{null!==p&&ut(p),xa(c),l.resolving=!1,Rm()}}return i}function Hm(e,t,n){return!!(n[t+(e>>qm)]&1<<e)}function zm(e,t){return!(e&Z.Self||e&Z.Host&&t)}class qe{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Bm(this._tNode,this._lView,t,da(r),n)}}function gS(){return new qe(oe(),D())}function Ue(e){return bn(()=>{const t=e.prototype.constructor,n=t[Cn]||ed(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Cn]||ed(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ed(e){return oa(e)?()=>{const t=ed(O(e));return t&&t()}:lr(e)}function Gm(e){const t=e[S],n=t.type;return 2===n?t.declTNode:1===n?e[We]:null}function Km(e,t=null,n=null,r){const i=Xm(e,t,n,r);return i.resolveInjectorInitializers(),i}function Xm(e,t=null,n=null,r,i=new Set){const o=[n||J,dI(e)];return r=r||("object"==typeof e?void 0:Fe(e)),new Qr(o,t||ya(),r||null,i)}let dt=(()=>{class e{static{this.THROW_IF_NOT_FOUND=ls}static{this.NULL=new ha}static create(n,r){if(Array.isArray(n))return Km({name:""},r,n,"");{const i=n.name??"";return Km({name:i},n.parent,n.providers,i)}}static{this.\u0275prov=T({token:e,providedIn:"any",factory:()=>k(B0)})}static{this.__NG_ELEMENT_ID__=-1}}return e})();function nd(e){return e.ngOriginalError}class sn{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&nd(t);for(;n&&nd(n);)n=nd(n);return n||null}}const eg=new A("",{providedIn:"root",factory:()=>I(sn).handleError.bind(void 0)});let oi=(()=>{class e{static{this.__NG_ELEMENT_ID__=SS}static{this.__NG_ENV_ID__=n=>n}}return e})();class IS extends oi{constructor(t){super(),this._lView=t}onDestroy(t){return Ia(this._lView,t),()=>function jc(e,t){if(null===e[Vn])return;const n=e[Vn].indexOf(t);-1!==n&&e[Vn].splice(n,1)}(this._lView,t)}}function SS(){return new IS(D())}function ng(e,t){return A0(e,t)}const rg=(ng.required=function MS(e){return A0(sa,e)},ng);function AS(){return ai(oe(),D())}function ai(e,t){return new Dt(Je(e,t))}let Dt=(()=>{class e{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=AS}}return e})();function ig(e){return e instanceof Dt?e.nativeElement:e}function rd(e){return t=>{setTimeout(e,void 0,t)}}const we=class TS extends At{constructor(t=!1){super(),this.destroyRef=void 0,this.__isAsync=t,function nm(){return void 0!==F0()||null!=function j_(){return Hr}()}()&&(this.destroyRef=I(oi,{optional:!0})??void 0)}emit(t){const n=G(null);try{super.next(t)}finally{G(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),l=r;if(t&&"object"==typeof t){const d=t;i=d.next?.bind(d),o=d.error?.bind(d),l=d.complete?.bind(d)}this.__isAsync&&(o=rd(o),i&&(i=rd(i)),l&&(l=rd(l)));const c=super.subscribe({next:i,error:o,complete:l});return t instanceof at&&t.add(c),c}};function xS(){return this._results[Symbol.iterator]()}class id{get changes(){return this._changes??=new we}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const n=id.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=xS)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;const r=function lt(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function Q_(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}function Fa(e){return!(128&~e.flags)}const sd=new Map;let RS=0;const ad="__ngContext__";function Ke(e,t){Qe(t)?(e[ad]=t[gs],function PS(e){sd.set(e[gs],e)}(t)):e[ad]=t}function hg(e){return gg(e[hs])}function mg(e){return gg(e[Vt])}function gg(e){for(;null!==e&&!Ze(e);)e=e[Vt];return e}let ud;const ld=new A("",{providedIn:"root",factory:()=>XS}),XS="ng",_g=new A(""),Er=new A("",{providedIn:"platform",factory:()=>"unknown"}),Ig=new A("",{providedIn:"root",factory:()=>function jn(){if(void 0!==ud)return ud;if(typeof document<"u")return document;throw new w(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Sg=()=>null;function Ed(e,t,n=!1){return Sg(e,t,n)}const Ng=new A("",{providedIn:"root",factory:()=>!1});let za;function Fg(e){return function Dd(){if(void 0===za&&(za=null,ie.trustedTypes))try{za=ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return za}()?.createScriptURL(e)||e}class Lg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${S0})`}}function Un(e){return e instanceof Lg?e.changingThisBreaksApplicationSecurity:e}function Os(e,t){const n=function EM(e){return e instanceof Lg&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${S0})`)}return n===t}const CM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var di=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(di||{});function Md(e){const t=Fs();return t?t.sanitize(di.URL,e)||"":Os(e,"URL")?Un(e):function wd(e){return(e=String(e)).match(CM)?e:"unsafe:"+e}(q(e))}function zg(e){const t=Fs();if(t)return Fg(t.sanitize(di.RESOURCE_URL,e)||"");if(Os(e,"ResourceURL"))return Fg(Un(e));throw new w(904,!1)}function Fs(){const e=D();return e&&e[jt].sanitizer}function wt(e){return e instanceof Function?e():e}var Bn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Bn||{});let Nd;function Rd(e,t){return Nd(e,t)}function fi(e,t,n,r,i){if(null!=r){let o,l=!1;Ze(r)?o=r:Qe(r)&&(l=!0,r=r[be]);const c=ue(r);0===e&&null!==n?null==i?iE(t,n,c):vr(t,n,c,i||null,!0):1===e&&null!==n?vr(t,n,c,i||null,!0):2===e?function qs(e,t,n){const r=Ka(e,t);r&&function iA(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,c,l):3===e&&t.destroyNode(c),null!=o&&function aA(e,t,n,r,i){const o=n[Xt];o!==ue(n)&&fi(t,e,r,o,i);for(let c=Se;c<n.length;c++){const d=n[c];Ja(d[S],d,e,t,r,o)}}(t,e,o,n,i)}}function Za(e,t,n){return e.createElement(t,n)}function tE(e,t){t[jt].changeDetectionScheduler?.notify(1),Ja(e,t,t[P],2,null,null)}function nE(e,t){const n=e[ei],r=n.indexOf(t);n.splice(r,1)}function Ls(e,t){if(e.length<=Se)return;const n=Se+t,r=e[n];if(r){const i=r[ms];null!==i&&i!==e&&nE(i,r),t>0&&(e[n-1][Vt]=r[Vt]);const o=pa(e,Se+t);!function KM(e,t){tE(e,t),t[be]=null,t[We]=null}(r[S],r);const l=o[wn];null!==l&&l.detachView(o[S]),r[Ie]=null,r[Vt]=null,r[x]&=-129}return r}function Ya(e,t){if(!(256&t[x])){const n=t[P];n.destroyNode&&Ja(e,t,n,3,null,null),function JM(e){let t=e[hs];if(!t)return Fd(e[S],e);for(;t;){let n=null;if(Qe(t))n=t[hs];else{const r=t[Se];r&&(n=r)}if(!n){for(;t&&!t[Vt]&&t!==e;)Qe(t)&&Fd(t[S],t),t=t[Ie];null===t&&(t=e),Qe(t)&&Fd(t[S],t),n=t&&t[Vt]}t=n}}(t)}}function Fd(e,t){if(256&t[x])return;const n=G(null);try{t[x]&=-129,t[x]|=256,t[pr]&&function c0(e){if(kr(e),os(e))for(let t=0;t<e.producerNode.length;t++)ta(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}(t[pr]),function rA(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof ws)){const o=n[r+1];if(Array.isArray(o))for(let l=0;l<o.length;l+=2){const c=i[o[l]],d=o[l+1];Jt(4,c,d);try{d.call(c)}finally{Jt(5,c,d)}}else{Jt(4,i,o);try{o.call(i)}finally{Jt(5,i,o)}}}}}(e,t),function nA(e,t){const n=e.cleanup,r=t[Kr];if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const l=n[o+3];l>=0?r[l]():r[-l].unsubscribe(),o+=2}else n[o].call(r[n[o+1]]);null!==r&&(t[Kr]=null);const i=t[Vn];if(null!==i){t[Vn]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,t),1===t[S].type&&t[P].destroy();const r=t[ms];if(null!==r&&Ze(t[Ie])){r!==t[Ie]&&nE(r,t);const i=t[wn];null!==i&&i.detachView(e)}!function FS(e){sd.delete(e[gs])}(t)}finally{G(n)}}function Ld(e,t,n){return function rE(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[be];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===kt.None||o===kt.Emulated)return null}return Je(r,n)}}(e,t.parent,n)}function vr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function iE(e,t,n){e.appendChild(t,n)}function sE(e,t,n,r,i){null!==r?vr(e,t,n,r,i):iE(e,t,n)}function Ka(e,t){return e.parentNode(t)}function oE(e,t,n){return uE(e,t,n)}let kd,uE=function aE(e,t,n){return 40&e.type?Je(e,n):null};function Xa(e,t,n,r){const i=Ld(e,r,t),o=t[P],c=oE(r.parent||t[We],r,t);if(null!=i)if(Array.isArray(n))for(let d=0;d<n.length;d++)sE(o,i,n[d],c,!1);else sE(o,i,n,c,!1);void 0!==kd&&kd(o,r,t,n,i)}function ks(e,t){if(null!==t){const n=t.type;if(3&n)return Je(t,e);if(4&n)return qd(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return ks(e,r);{const i=e[t.index];return Ze(i)?qd(-1,i):ue(i)}}if(32&n)return Rd(t,e)()||ue(e[t.index]);{const r=cE(e,t);return null!==r?Array.isArray(r)?r[0]:ks(hr(e[De]),r):ks(e,t.next)}}return null}function cE(e,t){return null!==t?e[De][We].projection[t.projection]:null}function qd(e,t){const n=Se+e+1;if(n<t.length){const r=t[n],i=r[S].firstChild;if(null!==i)return ks(r,i)}return t[Xt]}function Vd(e,t,n,r,i,o,l){for(;null!=n;){const c=r[n.index],d=n.type;if(l&&0===t&&(c&&Ke(ue(c),r),n.flags|=2),32&~n.flags)if(8&d)Vd(e,t,n.child,r,i,o,!1),fi(t,e,i,c,o);else if(32&d){const p=Rd(n,r);let f;for(;f=p();)fi(t,e,i,f,o);fi(t,e,i,c,o)}else 16&d?pE(e,t,r,n,i,o):fi(t,e,i,c,o);n=l?n.projectionNext:n.next}}function Ja(e,t,n,r,i,o){Vd(n,r,e.firstChild,t,i,o,!1)}function pE(e,t,n,r,i,o){const l=n[De],d=l[We].projection[r.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++)fi(t,e,i,d[p],o);else{let p=d;const f=l[Ie];Fa(r)&&(p.flags|=128),Vd(e,t,p,f,i,o,!0)}}function fE(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function hE(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&yc(e,t,r),null!==i&&fE(e,t,i),null!==o&&function lA(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}const U={};function Nt(e=1){mE(Y(),D(),Ye()+e,!1)}function mE(e,t,n,r){if(!r)if(3&~t[x]){const o=e.preOrderHooks;null!==o&&Ta(t,o,0,n)}else{const o=e.preOrderCheckHooks;null!==o&&Aa(t,o,n)}mr(n)}function _(e,t=Z.Default){const n=D();return null===n?k(e,t):Bm(oe(),n,O(e),t)}function gE(e,t,n,r,i,o){const l=G(null);try{let c=null;i&de.SignalBased&&(c=t[r][Fn]),null!==c&&void 0!==c.transformFn&&(o=c.transformFn(o)),i&de.HasDecoratorInputTransform&&(o=e.inputTransforms[r].call(t,o)),null!==e.setInput?e.setInput(t,c,o,n,r):lm(t,c,r,o)}finally{G(l)}}function eu(e,t,n,r,i,o,l,c,d,p,f){const h=t.blueprint.slice();return h[be]=i,h[x]=204|r,(null!==p||e&&2048&e[x])&&(h[x]|=2048),gm(h),h[Ie]=h[Xr]=e,h[he]=n,h[jt]=l||e&&e[jt],h[P]=c||e&&e[P],h[Ne]=d||e&&e[Ne]||null,h[We]=o,h[gs]=function OS(){return RS++}(),h[bt]=f,h[sm]=p,h[De]=2==t.type?e[De]:h,h}function hi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function jd(e,t,n,r,i){const o=_m(),l=Uc(),d=e.data[t]=function vA(e,t,n,r,i,o){let l=t?t.injectorIndex:-1,c=0;return ni()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:l,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,l?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=d),null!==o&&(l?null==o.child&&null!==d.parent&&(o.child=d):null===o.next&&(o.next=d,d.prev=o)),d}(e,t,n,r,i),function ZI(){return F.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const l=function Cs(){const e=F.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===l?-1:l.injectorIndex}return tn(o,!0),o}function Vs(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function EE(e,t,n,r,i){const o=Ye(),l=2&r;try{mr(-1),l&&t.length>V&&mE(e,t,V,!1),Jt(l?2:0,i),n(r,i)}finally{mr(o),Jt(l?3:1,i)}}function Ud(e,t,n){if(Nc(t)){const r=G(null);try{const o=t.directiveEnd;for(let l=t.directiveStart;l<o;l++){const c=e.data[l];c.contentQueries&&c.contentQueries(1,n[l],l)}}finally{G(r)}}}function Bd(e,t,n){ym()&&(function IA(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;fr(n)&&function RA(e,t,n){const r=Je(t,e),i=vE(n);let l=16;n.signals?l=4096:n.onPush&&(l=64);const c=tu(e,eu(e,i,null,l,r,t,null,e[jt].rendererFactory.createRenderer(r,n),null,null,null));e[t.index]=c}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||Na(n,t),Ke(r,t);const l=n.initialInputs;for(let c=i;c<o;c++){const d=e.data[c],p=gr(t,e,c,n);Ke(p,t),null!==l&&OA(0,c-i,p,d,0,l),Ut(d)&&(Ct(n.index,t)[he]=gr(t,e,c,n))}}(e,t,n,Je(n,t)),!(64&~n.flags)&&wE(e,t,n))}function $d(e,t,n=Je){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const l=r[o+1],c=-1===l?n(t,e):e[l];e[i++]=c}}}function vE(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Hd(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Hd(e,t,n,r,i,o,l,c,d,p,f){const h=V+r,m=h+i,g=function pA(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:U);return n}(h,m),E="function"==typeof p?p():p;return g[S]={type:e,blueprint:g,template:n,queries:null,viewQuery:c,declTNode:t,data:g.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof l?l():l,firstChild:null,schemas:d,consts:E,incompleteFirstPass:!1,ssrId:f}}let yE=()=>null;function bE(e,t,n,r,i){for(let o in t){if(!t.hasOwnProperty(o))continue;const l=t[o];if(void 0===l)continue;r??={};let c,d=de.None;Array.isArray(l)?(c=l[0],d=l[1]):c=l;let p=o;if(null!==i){if(!i.hasOwnProperty(o))continue;p=i[o]}0===e?CE(r,n,p,c,d):CE(r,n,p,c)}return r}function CE(e,t,n,r,i){let o;e.hasOwnProperty(n)?(o=e[n]).push(t,r):o=e[n]=[t,r],void 0!==i&&o.push(i)}function ft(e,t,n,r,i,o,l,c){const d=Je(t,n);let f,p=t.inputs;!c&&null!=p&&(f=p[r])?(Zd(e,n,f,r,i),fr(t)&&function CA(e,t){const n=Ct(t,e);16&n[x]||(n[x]|=64)}(n,t.index)):3&t.type&&(r=function bA(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=l?l(i,t.value||"",r):i,o.setProperty(d,r,i))}function zd(e,t,n,r){if(ym()){const i=null===r?null:{"":-1},o=function MA(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const l=n[o];if(W0(t,l.selectors,!1))if(r||(r=[]),Ut(l))if(null!==l.findHostDirectiveDefs){const c=[];i=i||new Map,l.findHostDirectiveDefs(l,c,i),r.unshift(...c,l),Gd(e,t,c.length)}else r.unshift(l),Gd(e,t,0);else i=i||new Map,l.findHostDirectiveDefs?.(l,r,i),r.push(l)}return null===r?null:[r,i]}(e,n);let l,c;null===o?l=c=null:[l,c]=o,null!==l&&DE(e,t,n,l,i,c),i&&function AA(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new w(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=ds(n.mergedAttrs,n.attrs)}function DE(e,t,n,r,i,o){for(let p=0;p<r.length;p++)Jc(Na(n,t),e,r[p].type);!function xA(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let p=0;p<r.length;p++){const f=r[p];f.providersResolver&&f.providersResolver(f)}let l=!1,c=!1,d=Vs(e,t,r.length,null);for(let p=0;p<r.length;p++){const f=r[p];n.mergedAttrs=ds(n.mergedAttrs,f.hostAttrs),NA(e,n,t,d,f),TA(d,f,i),null!==f.contentQueries&&(n.flags|=4),(null!==f.hostBindings||null!==f.hostAttrs||0!==f.hostVars)&&(n.flags|=64);const h=f.type.prototype;!l&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!c&&(h.ngOnChanges||h.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),c=!0),d++}!function yA(e,t,n){const i=t.directiveEnd,o=e.data,l=t.attrs,c=[];let d=null,p=null;for(let f=t.directiveStart;f<i;f++){const h=o[f],m=n?n.get(h):null,E=m?m.outputs:null;d=bE(0,h.inputs,f,d,m?m.inputs:null),p=bE(1,h.outputs,f,p,E);const v=null===d||null===l||bc(t)?null:PA(d,f,l);c.push(v)}null!==d&&(d.hasOwnProperty("class")&&(t.flags|=8),d.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=c,t.inputs=d,t.outputs=p}(e,n,o)}function wE(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,l=function KI(){return F.lFrame.currentDirectiveIndex}();try{mr(o);for(let c=r;c<i;c++){const d=e.data[c],p=t[c];$c(c),(null!==d.hostBindings||0!==d.hostVars||null!==d.hostAttrs)&&SA(d,p)}}finally{mr(-1),$c(l)}}function SA(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Gd(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function TA(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Ut(t)&&(n[""]=e)}}function NA(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=lr(i.type)),l=new ws(o,Ut(i),_);e.blueprint[r]=l,n[r]=l,function wA(e,t,n,r,i){const o=i.hostBindings;if(o){let l=e.hostBindingOpCodes;null===l&&(l=e.hostBindingOpCodes=[]);const c=~t.index;(function _A(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(l)!=c&&l.push(c),l.push(n,r,o)}}(e,t,r,Vs(e,n,i.hostVars,U),i)}function on(e,t,n,r,i,o){const l=Je(e,t);!function Wd(e,t,n,r,i,o,l){if(null==o)e.removeAttribute(t,i,n);else{const c=null==l?q(o):l(o,r||"",i);e.setAttribute(t,i,c,n)}}(t[P],l,o,e.value,n,r,i)}function OA(e,t,n,r,i,o){const l=o[t];if(null!==l)for(let c=0;c<l.length;)gE(r,n,l[c++],l[c++],l[c++],l[c++])}function PA(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const l=e[o];for(let c=0;c<l.length;c+=3)if(l[c]===t){r.push(o,l[c+1],l[c+2],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function _E(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function IE(e,t){const n=e.contentQueries;if(null!==n){const r=G(null);try{for(let i=0;i<n.length;i+=2){const l=n[i+1];if(-1!==l){const c=e.data[l];Sa(n[i]),c.contentQueries(2,t[l],l)}}}finally{G(r)}}}function tu(e,t){return e[hs]?e[im][Vt]=t:e[hs]=t,e[im]=t,t}function Qd(e,t,n){Sa(0);const r=G(null);try{t(e,n)}finally{G(r)}}function SE(e){return e[Kr]||(e[Kr]=[])}function ME(e){return e.cleanup||(e.cleanup=[])}function nu(e,t){const n=e[Ne],r=n?n.get(sn,null):null;r&&r.handleError(t)}function Zd(e,t,n,r,i){for(let o=0;o<n.length;){const l=n[o++],c=n[o++],d=n[o++];gE(e.data[l],t[l],r,c,d,i)}}function FA(e,t){const n=Ct(t,e),r=n[S];!function LA(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n);const i=n[be];null!==i&&null===n[bt]&&(n[bt]=Ed(i,n[Ne])),Yd(r,n,n[he])}function Yd(e,t,n){Gc(t);try{const r=e.viewQuery;null!==r&&Qd(1,r,n);const i=e.template;null!==i&&EE(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[wn]?.finishViewCreation(e),e.staticContentQueries&&IE(e,t),e.staticViewQueries&&Qd(2,e.viewQuery,n);const o=e.components;null!==o&&function kA(e,t){for(let n=0;n<t.length;n++)FA(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[x]&=-5,Wc()}}function js(e,t,n,r){const i=G(null);try{const o=t.tView,d=eu(e,o,n,4096&e[x]?4096:16,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null);d[ms]=e[t.index];const f=e[wn];return null!==f&&(d[wn]=f.createEmbeddedView(o)),Yd(o,d,n),d}finally{G(i)}}function TE(e,t){const n=Se+t;if(n<e.length)return e[n]}function mi(e,t){return!t||null===t.firstChild||Fa(e)}function Us(e,t,n,r=!0){const i=t[S];if(function eA(e,t,n,r){const i=Se+r,o=n.length;r>0&&(n[i-1][Vt]=t),r<o-Se?(t[Vt]=n[i],V0(n,Se+r,t)):(n.push(t),t[Vt]=null),t[Ie]=n;const l=t[ms];null!==l&&n!==l&&function tA(e,t){const n=e[ei];t[De]!==t[Ie][Ie][De]&&(e[x]|=xc.HasTransplantedViews),null===n?e[ei]=[t]:n.push(t)}(l,t);const c=t[wn];null!==c&&c.insertView(e),Vc(t),t[x]|=128}(i,t,e,n),r){const l=qd(n,e),c=t[P],d=Ka(c,e[Xt]);null!==d&&function XM(e,t,n,r,i,o){r[be]=i,r[We]=t,Ja(e,r,n,1,i,o)}(i,e[We],c,t,d,l)}const o=t[bt];null!==o&&null!==o.firstChild&&(o.firstChild=null)}function Kd(e,t){const n=Ls(e,t);return void 0!==n&&Ya(n[S],n),n}function Bs(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];null!==o&&r.push(ue(o)),Ze(o)&&xE(o,r);const l=n.type;if(8&l)Bs(e,t,n.child,r);else if(32&l){const c=Rd(n,t);let d;for(;d=c();)r.push(d)}else if(16&l){const c=cE(t,n);if(Array.isArray(c))r.push(...c);else{const d=hr(t[De]);Bs(d[S],d,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function xE(e,t){for(let n=Se;n<e.length;n++){const r=e[n],i=r[S].firstChild;null!==i&&Bs(r[S],r,i,t)}e[Xt]!==e[be]&&t.push(e[Xt])}let NE=[];const UA={...n0,consumerIsAlwaysLive:!0,consumerMarkedDirty:e=>{bs(e.lView)},consumerOnSignalRead(){this.lView[pr]=this}},RE=100;function ru(e,t=!0,n=0){const r=e[jt],i=r.rendererFactory;i.begin?.();try{!function BA(e,t){Xd(e,t);let n=0;for(;qc(e);){if(n===RE)throw new w(103,!1);n++,Xd(e,1)}}(e,n)}catch(l){throw t&&nu(e,l),l}finally{i.end?.(),r.inlineEffectRunner?.flush()}}function $A(e,t,n,r){const i=t[x];if(!(256&~i))return;t[jt].inlineEffectRunner?.flush(),Gc(t);let l=null,c=null;(function HA(e){return 2!==e.type})(e)&&(c=function qA(e){return e[pr]??function VA(e){const t=NE.pop()??Object.create(UA);return t.lView=e,t}(e)}(t),l=function u0(e){return e&&(e.nextProducerIndex=0),G(e)}(c));try{gm(t),function Sm(e){return F.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&EE(e,t,n,2,r);const d=!(3&~i);if(d){const h=e.preOrderCheckHooks;null!==h&&Aa(t,h,null)}else{const h=e.preOrderHooks;null!==h&&Ta(t,h,0,null),Qc(t,0)}if(function zA(e){for(let t=hg(e);null!==t;t=mg(t)){if(!(t[x]&xc.HasTransplantedViews))continue;const n=t[ei];for(let r=0;r<n.length;r++){UI(n[r])}}}(t),OE(t,0),null!==e.contentQueries&&IE(e,t),d){const h=e.contentCheckHooks;null!==h&&Aa(t,h)}else{const h=e.contentHooks;null!==h&&Ta(t,h,1),Qc(t,1)}!function dA(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)mr(~i);else{const o=i,l=n[++r],c=n[++r];YI(l,o),c(2,t[o])}}}finally{mr(-1)}}(e,t);const p=e.components;null!==p&&FE(t,p,0);const f=e.viewQuery;if(null!==f&&Qd(2,f,r),d){const h=e.viewCheckHooks;null!==h&&Aa(t,h)}else{const h=e.viewHooks;null!==h&&Ta(t,h,2),Qc(t,2)}if(!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Da]){for(const h of t[Da])h();t[Da]=null}t[x]&=-73}catch(d){throw bs(t),d}finally{null!==c&&(function l0(e,t){if(G(t),e&&void 0!==e.producerNode&&void 0!==e.producerIndexOfThis&&void 0!==e.producerLastReadVersion){if(os(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)ta(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}(c,l),function jA(e){e.lView[pr]!==e&&(e.lView=null,NE.push(e))}(c)),Wc()}}function OE(e,t){for(let n=hg(e);null!==n;n=mg(n))for(let r=Se;r<n.length;r++)PE(n[r],t)}function GA(e,t,n){PE(Ct(t,e),n)}function PE(e,t){kc(e)&&Xd(e,t)}function Xd(e,t){const r=e[S],i=e[x],o=e[pr];let l=!!(0===t&&16&i);if(l||=!!(64&i&&0===t),l||=!!(1024&i),l||=!(!o?.dirty||!Bl(o)),o&&(o.dirty=!1),e[x]&=-9217,l)$A(r,e,r.template,e[he]);else if(8192&i){OE(e,1);const c=r.components;null!==c&&FE(e,c,1)}}function FE(e,t,n){for(let r=0;r<t.length;r++)GA(e,t[r],n)}function $s(e){for(e[jt].changeDetectionScheduler?.notify();e;){e[x]|=64;const t=hr(e);if(Rc(e)&&!t)return e;e=t}return null}class Hs{get rootNodes(){const t=this._lView,n=t[S];return Bs(n,t,n.firstChild,[])}constructor(t,n,r=!0){this._lView=t,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[he]}set context(t){this._lView[he]=t}get destroyed(){return!(256&~this._lView[x])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Ie];if(Ze(t)){const n=t[8],r=n?n.indexOf(this):-1;r>-1&&(Ls(t,r),pa(n,r))}this._attachedToViewContainer=!1}Ya(this._lView[S],this._lView)}onDestroy(t){Ia(this._lView,t)}markForCheck(){$s(this._cdRefInjectingView||this._lView)}detach(){this._lView[x]&=-129}reattach(){Vc(this._lView),this._lView[x]|=128}detectChanges(){this._lView[x]|=1024,ru(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new w(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,tE(this._lView[S],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new w(902,!1);this._appRef=t,Vc(this._lView)}}let An=(()=>{class e{static{this.__NG_ELEMENT_ID__=ZA}}return e})();const WA=An,QA=class extends WA{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n)}createEmbeddedViewImpl(t,n,r){const i=js(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:n,dehydratedView:r});return new Hs(i)}};function ZA(){return iu(oe(),D())}function iu(e,t){return 4&e.type?new QA(t,e,ai(e,t)):null}let UE=()=>null;function gi(e,t){return UE(e,t)}class ip{}class y2{}class BE{}class C2{resolveComponentFactory(t){throw function b2(e){const t=Error(`No component factory found for ${Fe(e)}.`);return t.ngComponent=e,t}(t)}}let lu=(()=>{class e{static{this.NULL=new C2}}return e})();class HE{}let Tn=(()=>{class e{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function D2(){const e=D(),n=Ct(oe().index,e);return(Qe(n)?n:e)[P]}()}}return e})(),w2=(()=>{class e{static{this.\u0275prov=T({token:e,providedIn:"root",factory:()=>null})}}return e})();const sp={},zE=new Set;function an(e){zE.has(e)||(zE.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}function GE(...e){}class le{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new we(!1),this.onMicrotaskEmpty=new we(!1),this.onStable=new we(!1),this.onError=new we(!1),typeof Zone>"u")throw new w(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function _2(){const e="function"==typeof ie.requestAnimationFrame;let t=ie[e?"requestAnimationFrame":"setTimeout"],n=ie[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&t&&n){const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function M2(e){const t=()=>{!function S2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ie,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ap(e),e.isCheckStableRunning=!0,op(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ap(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,l,c)=>{if(function A2(e){return!(!Array.isArray(e)||1!==e.length)&&!0===e[0].data?.__ignore_ng_zone__}(c))return n.invokeTask(i,o,l,c);try{return WE(e),n.invokeTask(i,o,l,c)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),QE(e)}},onInvoke:(n,r,i,o,l,c,d)=>{try{return WE(e),n.invoke(i,o,l,c,d)}finally{e.shouldCoalesceRunChangeDetection&&t(),QE(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,ap(e),op(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!le.isInAngularZone())throw new w(909,!1)}static assertNotInAngularZone(){if(le.isInAngularZone())throw new w(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,l=o.scheduleEventTask("NgZoneEvent: "+i,t,I2,GE,GE);try{return o.runTask(l,n,r)}finally{o.cancelTask(l)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const I2={};function op(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ap(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function WE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function QE(e){e._nesting--,op(e)}let Zs=(()=>{class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){const n=[...this.internalCallbacks];this.internalCallbacks.length=0;for(const r of n)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static{this.\u0275prov=T({token:e,providedIn:"root",factory:()=>new e})}}return e})();function du(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let l=0;l<t.length;l++){const c=t[l];"number"==typeof c?o=c:1==o?i=tc(i,c):2==o&&(r=tc(r,c+": "+t[++l]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}class tv extends lu{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=W(t);return new Xs(n,this.ngModule)}}function nv(e){const t=[];for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];void 0!==r&&t.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return t}class pu{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=da(r);const i=this.injector.get(t,sp,r);return i!==sp||n===sp?i:this.parentInjector.get(t,n,r)}}class Xs extends BE{get inputs(){const t=this.componentDef,n=t.inputTransforms,r=nv(t.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return nv(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function sI(e){return e.map(iI).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){const o=G(null);try{let l=(i=i||this.ngModule)instanceof yt?i:i?.injector;l&&null!==this.componentDef.getStandaloneInjector&&(l=this.componentDef.getStandaloneInjector(l)||l);const c=l?new pu(t,l):t,d=c.get(HE,null);if(null===d)throw new w(407,!1);const p=c.get(w2,null),m={rendererFactory:d,sanitizer:p,inlineEffectRunner:null,afterRenderEventManager:c.get(Zs,null),changeDetectionScheduler:c.get(ip,null)},g=d.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",v=r?function fA(e,t,n,r){const o=r.get(Ng,!1)||n===kt.ShadowDom,l=e.selectRootElement(t,o);return function hA(e){yE(e)}(l),l}(g,r,this.componentDef.encapsulation,c):Za(g,E,function P2(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(E));let y=512;this.componentDef.signals?y|=4096:this.componentDef.onPush||(y|=16);let b=null;null!==v&&(b=Ed(v,c,!0));const C=Hd(0,null,null,1,0,null,null,null,null,null,null),M=eu(null,C,null,y,null,null,m,g,c,null,b);let R,Q;Gc(M);try{const re=this.componentDef;let Be,Pn=null;re.findHostDirectiveDefs?(Be=[],Pn=new Map,re.findHostDirectiveDefs(re,Be,Pn),Be.push(re)):Be=[re];const n_=function L2(e,t){const n=e[S],r=V;return e[r]=t,hi(n,r,2,"#host",null)}(M,v),Pq=function k2(e,t,n,r,i,o,l){const c=i[S];!function q2(e,t,n,r){for(const i of e)t.mergedAttrs=ds(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(du(t,t.mergedAttrs,!0),null!==n&&hE(r,n,t))}(r,e,t,l);let d=null;null!==t&&(d=Ed(t,i[Ne]));const p=o.rendererFactory.createRenderer(t,n);let f=16;n.signals?f=4096:n.onPush&&(f=64);const h=eu(i,vE(n),null,f,i[e.index],e,o,p,null,null,d);return c.firstCreatePass&&Gd(c,e,r.length-1),tu(i,h),i[e.index]=h}(n_,v,re,Be,M,m,g);Q=ys(C,V),v&&function j2(e,t,n,r){if(r)yc(e,n,["ng-version","17.3.12"]);else{const{attrs:i,classes:o}=function oI(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!qt(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&yc(e,n,i),o&&o.length>0&&fE(e,n,o.join(" "))}}(g,re,v,r),void 0!==n&&function U2(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(Q,this.ngContentSelectors,n),R=function V2(e,t,n,r,i,o){const l=oe(),c=i[S],d=Je(l,i);DE(c,i,l,n,null,r);for(let f=0;f<n.length;f++)Ke(gr(i,c,l.directiveStart+f,l),i);wE(c,i,l),d&&Ke(d,i);const p=gr(i,c,l.directiveStart+l.componentOffset,l);if(e[he]=i[he]=p,null!==o)for(const f of o)f(p,t);return Ud(c,l,i),p}(Pq,re,Be,Pn,M,[B2]),Yd(C,M,null)}finally{Wc()}return new F2(this.componentType,R,ai(Q,M),M,Q)}finally{G(o)}}}class F2 extends y2{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Hs(i,void 0,!1),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const o=this._rootLView;Zd(o[S],o,i,t,n),this.previousInputValues.set(t,n),$s(Ct(this._tNode.index,o))}}get injector(){return new qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function B2(){const e=oe();Ma(D()[S],e)}let Ht=(()=>{class e{static{this.__NG_ELEMENT_ID__=$2}}return e})();function $2(){return sv(oe(),D())}const H2=Ht,rv=class extends H2{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ai(this._hostTNode,this._hostLView)}get injector(){return new qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Ra(this._hostTNode,this._hostLView);if(Yc(t)){const n=Is(t,this._hostLView),r=_s(t);return new qe(n[S].data[r+8],n)}return new qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=iv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Se}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const l=gi(this._lContainer,t.ssrId),c=t.createEmbeddedViewImpl(n||{},o,l);return this.insertImpl(c,i,mi(this._hostTNode,l)),c}createComponent(t,n,r,i,o){const l=t&&!function fs(e){return"function"==typeof e}(t);let c;if(l)c=n;else{const E=n||{};c=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const d=l?t:new Xs(W(t)),p=r||this.parentInjector;if(!o&&null==d.ngModule){const v=(l?p:this.parentInjector).get(yt,null);v&&(o=v)}const f=W(d.componentType??{}),h=gi(this._lContainer,f?.id??null),g=d.create(p,i,h?.firstChild??null,o);return this.insertImpl(g.hostView,c,mi(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){const i=t._lView;if(function jI(e){return Ze(e[Ie])}(i)){const c=this.indexOf(t);if(-1!==c)this.detach(c);else{const d=i[Ie],p=new rv(d,d[We],d[Ie]);p.detach(p.indexOf(t))}}const o=this._adjustIndex(n),l=this._lContainer;return Us(l,i,o,r),t.attachToViewContainerRef(),V0(dp(l),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=iv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Ls(this._lContainer,n);r&&(pa(dp(this._lContainer),n),Ya(r[S],r))}detach(t){const n=this._adjustIndex(t,-1),r=Ls(this._lContainer,n);return r&&null!=pa(dp(this._lContainer),n)?new Hs(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function iv(e){return e[8]}function dp(e){return e[8]||(e[8]=[])}function sv(e,t){let n;const r=t[e.index];return Ze(r)?n=r:(n=_E(r,t,null,e),t[e.index]=n,tu(t,n)),ov(n,t,e,r),new rv(n,e,t)}let ov=function uv(e,t,n,r){if(e[Xt])return;let i;i=8&n.type?ue(r):function z2(e,t){const n=e[P],r=n.createComment(""),i=Je(t,e);return vr(n,Ka(n,i),r,function sA(e,t){return e.nextSibling(t)}(n,i),!1),r}(t,n),e[Xt]=i},pp=()=>!1;class fp{constructor(t){this.queryList=t,this.matches=null}clone(){return new fp(this.queryList)}setDirty(){this.queryList.setDirty()}}class hp{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const r=null!==t.contentQueries?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){const l=n.getByIndex(o);i.push(this.queries[l.indexInDeclarationView].clone())}return new hp(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==yp(t,n).matches&&this.queries[n].setDirty()}}class lv{constructor(t,n,r=null){this.flags=n,this.read=r,this.predicate="string"==typeof t?function J2(e){return e.split(",").map(t=>t.trim())}(t):t}}class mp{constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new mp(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class gp{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new gp(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1&~this.metadata.flags){const n=this._declarationNodeIndex;let r=t.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(t,n,Z2(n,o)),this.matchTNodeWithReadOption(t,n,Oa(n,t,o,!1,!1))}else r===An?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Oa(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Dt||i===Ht||i===An&&4&n.type)this.addMatch(n.index,-2);else{const o=Oa(n,t,i,!1,!1);null!==o&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function Z2(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function K2(e,t,n,r){return-1===n?function Y2(e,t){return 11&e.type?ai(e,t):4&e.type?iu(e,t):null}(t,e):-2===n?function X2(e,t,n){return n===Dt?ai(t,e):n===An?iu(t,e):n===Ht?sv(t,e):void 0}(e,t,r):gr(e,e[S],n,t)}function cv(e,t,n,r){const i=t[wn].queries[r];if(null===i.matches){const o=e.data,l=n.matches,c=[];for(let d=0;null!==l&&d<l.length;d+=2){const p=l[d];c.push(p<0?null:K2(t,o[p],l[d+1],n.metadata.read))}i.matches=c}return i.matches}function Ep(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const l=cv(e,t,i,n);for(let c=0;c<o.length;c+=2){const d=o[c];if(d>0)r.push(l[c/2]);else{const p=o[c+1],f=t[-d];for(let h=Se;h<f.length;h++){const m=f[h];m[ms]===m[Ie]&&Ep(m[S],m,p,r)}if(null!==f[ei]){const h=f[ei];for(let m=0;m<h.length;m++){const g=h[m];Ep(g[S],g,p,r)}}}}}return r}function fv(e,t,n,r){const i=Y();if(i.firstCreatePass){const o=oe();(function hv(e,t,n){null===e.queries&&(e.queries=new mp),e.queries.track(new gp(t,n))})(i,new lv(t,n,r),o.index),function eT(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),!(2&~n)&&(i.staticContentQueries=!0)}return function dv(e,t,n){const r=new id(!(4&~n));return function EA(e,t,n,r){const i=SE(t);i.push(n),e.firstCreatePass&&ME(e).push(r,i.length-1)}(e,t,r,r.destroy),(t[wn]??=new hp).queries.push(new fp(r))-1}(i,D(),n)}function yp(e,t){return e.queries.getByIndex(t)}function mv(e,t){const n=e[S],r=yp(n,t);return r.crossesNgTemplate?Ep(n,e,t,[]):cv(n,e,r,t)}function ae(e){let t=function Tv(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(Ut(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new w(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const l=e;l.inputs=hu(e.inputs),l.inputTransforms=hu(e.inputTransforms),l.declaredInputs=hu(e.declaredInputs),l.outputs=hu(e.outputs);const c=i.hostBindings;c&&mT(e,c);const d=i.viewQuery,p=i.contentQueries;if(d&&fT(e,d),p&&hT(e,p),dT(e,i),I_(e.outputs,i.outputs),Ut(i)&&i.data.animation){const f=e.data;f.animation=(f.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let l=0;l<o.length;l++){const c=o[l];c&&c.ngInherit&&c(e),c===ae&&(n=!1)}}t=Object.getPrototypeOf(t)}!function pT(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=ds(i.hostAttrs,n=ds(n,i.hostAttrs))}}(r)}function dT(e,t){for(const n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;const r=t.inputs[n];if(void 0!==r&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n],null!==t.inputTransforms)){const i=Array.isArray(r)?r[0]:r;if(!t.inputTransforms.hasOwnProperty(i))continue;e.inputTransforms??={},e.inputTransforms[i]=t.inputTransforms[i]}}}function hu(e){return e===Kt?{}:e===J?[]:e}function fT(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function hT(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function mT(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Ov(e){const t=e.inputConfig,n={};for(const r in t)if(t.hasOwnProperty(r)){const i=t[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}e.inputTransforms=n}class br{}class Pv{}class Cp extends br{constructor(t,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new tv(this);const i=Ge(t);this._bootstrapComponents=wt(i.bootstrap),this._r3Injector=Xm(t,n,[{provide:br,useValue:this},{provide:lu,useValue:this.componentFactoryResolver},...r],Fe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Dp extends Pv{constructor(t){super(),this.moduleType=t}create(t){return new Cp(this.moduleType,t,[])}}class Fv extends br{constructor(t){super(),this.componentFactoryResolver=new tv(this),this.instance=null;const n=new Qr([...t.providers,{provide:br,useValue:this},{provide:lu,useValue:this.componentFactoryResolver}],t.parent||ya(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function wp(e,t,n=null){return new Fv({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}let Cr=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Tt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function un(e,t,n){return e[t]=n}function Me(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function vi(e,t,n,r,i,o,l,c){const d=D(),p=Y(),f=e+V,h=p.firstCreatePass?function AT(e,t,n,r,i,o,l,c,d){const p=t.consts,f=hi(t,e,4,l||null,en(p,c));zd(t,n,f,en(p,d)),Ma(t,f);const h=f.tView=Hd(2,f,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,p,null);return null!==t.queries&&(t.queries.template(t,f),h.queries=t.queries.embeddedTView(f)),f}(f,p,d,t,n,r,i,o,l):p.data[f];tn(h,!1);const m=Lv(p,d,h,e);Ds()&&Xa(p,d,m,h),Ke(m,d);const g=_E(m,d,m,h);return d[f]=g,tu(d,g),function av(e,t,n){return pp(e,t,n)}(g,h,d),_a(h)&&Bd(p,d,h),null!=l&&$d(d,h,c),vi}let Lv=function kv(e,t,n,r){return nn(!0),t[P].createComment("")};function ln(e,t,n,r){const i=D();return Me(i,Bt(),t)&&(Y(),on(me(),i,e,t,n,r)),ln}function Si(e,t,n,r){return Me(e,Bt(),n)?t+q(n)+r:U}function wu(e,t){return e<<17|t<<2}function Gn(e){return e>>17&32767}function Pp(e){return 2|e}function _r(e){return(131068&e)>>2}function Fp(e,t){return-131069&e|t<<2}function Lp(e){return 1|e}function hy(e,t,n,r){const i=e[n+1],o=null===t;let l=r?Gn(i):_r(i),c=!1;for(;0!==l&&(!1===c||o);){const p=e[l+1];hx(e[l],t)&&(c=!0,e[l+1]=r?Lp(p):Pp(p)),l=r?Gn(p):_r(p)}c&&(e[n+1]=r?Pp(i):Lp(i))}function hx(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Gr(e,t)>=0}function Ir(e,t,n){const r=D();return Me(r,Bt(),t)&&ft(Y(),me(),r,e,t,r[P],n,!1),Ir}function kp(e,t,n,r,i){const l=i?"class":"style";Zd(e,n,t.inputs[l],l,r)}function so(e,t){return function zt(e,t,n,r){const i=D(),o=Y(),l=function In(e){const t=F.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function wy(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Ye()],l=function Dy(e,t){return t>=e.expandoStartIndex}(e,n);(function My(e,t){return!!(e.flags&(t?8:16))})(o,r)&&null===t&&!l&&(t=!1),t=function wx(e,t,n,r){const i=function Hc(e){const t=F.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=oo(n=qp(null,e,t,n,r),t.attrs,r),o=null);else{const l=t.directiveStylingLast;if(-1===l||e[l]!==i)if(n=qp(i,e,t,n,r),null===o){let d=function _x(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==_r(r))return e[Gn(r)]}(e,t,r);void 0!==d&&Array.isArray(d)&&(d=qp(null,e,t,d[1],r),d=oo(d,t.attrs,r),function Ix(e,t,n,r){e[Gn(n?t.classBindings:t.styleBindings)]=r}(e,t,r,d))}else o=function Sx(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=oo(r,e[o].hostAttrs,n);return oo(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function px(e,t,n,r,i,o){let l=o?t.classBindings:t.styleBindings,c=Gn(l),d=_r(l);e[r]=n;let f,p=!1;if(Array.isArray(n)?(f=n[1],(null===f||Gr(n,f)>0)&&(p=!0)):f=n,i)if(0!==d){const m=Gn(e[c+1]);e[r+1]=wu(m,c),0!==m&&(e[m+1]=Fp(e[m+1],r)),e[c+1]=function cx(e,t){return 131071&e|t<<17}(e[c+1],r)}else e[r+1]=wu(c,0),0!==c&&(e[c+1]=Fp(e[c+1],r)),c=r;else e[r+1]=wu(d,0),0===c?c=r:e[d+1]=Fp(e[d+1],r),d=r;p&&(e[r+1]=Pp(e[r+1])),hy(e,f,r,!0),hy(e,f,r,!1),function fx(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Gr(o,t)>=0&&(n[r+1]=Lp(n[r+1]))}(t,f,e,r,o),l=wu(c,d),o?t.classBindings=l:t.styleBindings=l}(i,o,t,n,l,r)}}(o,e,l,r),t!==U&&Me(i,l,t)&&function Iy(e,t,n,r,i,o,l,c){if(!(3&t.type))return;const d=e.data,p=d[c+1],f=function dx(e){return!(1&~e)}(p)?Sy(d,t,n,i,_r(p),l):void 0;_u(f)||(_u(o)||function lx(e){return!(2&~e)}(p)&&(o=Sy(d,null,n,i,c,l)),function uA(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:Bn.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bn.Important),e.setStyle(n,r,i,o))}}(r,l,vs(Ye(),n),i,o))}(o,o.data[Ye()],i,i[P],e,i[l+1]=function xx(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=Fe(Un(e)))),e}(t,n),r,l)}(e,t,null,!0),so}function qp(e,t,n,r,i){let o=null;const l=n.directiveEnd;let c=n.directiveStylingLast;for(-1===c?c=n.directiveStart:c++;c<l&&(o=t[c],r=oo(r,o.hostAttrs,i),o!==e);)c++;return null!==e&&(n.directiveStylingLast=c),r}function oo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const l=t[o];"number"==typeof l?i=l:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),vt(e,l,!!n||t[++o]))}return void 0===e?null:e}function Sy(e,t,n,r,i,o){const l=null===t;let c;for(;i>0;){const d=e[i],p=Array.isArray(d),f=p?d[1]:d,h=null===f;let m=n[i+1];m===U&&(m=h?J:void 0);let g=h?Ec(m,r):f===r?m:void 0;if(p&&!_u(g)&&(g=Ec(d,r)),_u(g)&&(c=g,l))return c;const E=e[i+1];i=l?Gn(E):_r(E)}if(null!==t){let d=o?t.residualClasses:t.residualStyles;null!=d&&(c=Ec(d,r))}return c}function _u(e){return void 0!==e}class Ux{destroy(t){}updateValue(t,n){}swap(t,n){const r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){const l=this.detach(r);this.attach(r,o),this.attach(i,l)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}}function Vp(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function jp(e,t,n,r){return!(void 0===t||!t.has(r)||(e.attach(n,t.get(r)),t.delete(r),0))}function Ay(e,t,n,r,i){if(jp(e,t,r,n(r,i)))e.updateValue(r,i);else{const o=e.create(r,i);e.attach(r,o)}}function Ty(e,t,n,r){const i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}class xy{constructor(){this.kvMap=new Map,this._vMap=void 0}has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;const n=this.kvMap.get(t);return void 0!==this._vMap&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);void 0===this._vMap&&(this._vMap=new Map);const i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),void 0!==this._vMap){const i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}}class $x{constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Se}}class Gx{constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}}function Up(e,t,n,r,i,o,l,c,d,p,f,h,m){an("NgControlFlow");const g=void 0!==d,E=D(),v=c?l.bind(E[De][he]):l,y=new Gx(g,v);E[V+e]=y,vi(e+1,t,n,r,i,o),g&&vi(e+2,d,p,f,h,m)}class Wx extends Ux{constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Se}at(t){return this.getLView(t)[he].$implicit}attach(t,n){const r=n[bt];this.needsIndexUpdate||=t!==this.length,Us(this.lContainer,n,t,mi(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,function Qx(e,t){return Ls(e,t)}(this.lContainer,t)}create(t,n){const r=gi(this.lContainer,this.templateTNode.tView.ssrId);return js(this.hostLView,this.templateTNode,new $x(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Ya(t[S],t)}updateValue(t,n){this.getLView(t)[he].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[he].$index=t}getLView(t){return function Zx(e,t){return TE(e,t)}(this.lContainer,t)}}function Bp(e){const t=G(null),n=Ye();try{const r=D(),i=r[S],o=r[n];if(void 0===o.liveCollection){const c=n+1,d=$p(r,c),p=Hp(i,c);o.liveCollection=new Wx(d,r,p)}else o.liveCollection.reset();const l=o.liveCollection;if(function Bx(e,t,n){let r,i,o=0,l=e.length-1;if(Array.isArray(t)){let c=t.length-1;for(;o<=l&&o<=c;){const d=e.at(o),p=t[o],f=Vp(o,d,o,p,n);if(0!==f){f<0&&e.updateValue(o,p),o++;continue}const h=e.at(l),m=t[c],g=Vp(l,h,c,m,n);if(0!==g){g<0&&e.updateValue(l,m),l--,c--;continue}const E=n(o,d),v=n(l,h),y=n(o,p);if(Object.is(y,v)){const b=n(c,m);Object.is(b,E)?(e.swap(o,l),e.updateValue(l,m),c--,l--):e.move(l,o),e.updateValue(o,p),o++}else if(r??=new xy,i??=Ty(e,o,l,n),jp(e,r,o,y))e.updateValue(o,p),o++,l++;else if(i.has(y))r.set(E,e.detach(o)),l--;else{const b=e.create(o,t[o]);e.attach(o,b),o++,l++}}for(;o<=c;)Ay(e,r,n,o,t[o]),o++}else if(null!=t){const c=t[Symbol.iterator]();let d=c.next();for(;!d.done&&o<=l;){const p=e.at(o),f=d.value,h=Vp(o,p,o,f,n);if(0!==h)h<0&&e.updateValue(o,f),o++,d=c.next();else{r??=new xy,i??=Ty(e,o,l,n);const m=n(o,f);if(jp(e,r,o,m))e.updateValue(o,f),o++,l++,d=c.next();else if(i.has(m)){const g=n(o,p);r.set(g,e.detach(o)),l--}else e.attach(o,e.create(o,f)),o++,l++,d=c.next()}}for(;!d.done;)Ay(e,r,n,e.length,d.value),d=c.next()}for(;o<=l;)e.destroy(e.detach(l--));r?.forEach(c=>{e.destroy(c)})}(l,e,o.trackByFn),l.updateIndexes(),o.hasEmptyBlock){const c=Bt(),d=0===l.length;if(Me(r,c,d)){const p=n+2,f=$p(r,p);if(d){const h=Hp(i,p),m=gi(f,h.tView.ssrId);Us(f,js(r,h,void 0,{dehydratedView:m}),0,mi(h,m))}else Kd(f,0)}}}finally{G(t)}}function $p(e,t){return e[t]}function Hp(e,t){return ys(e,t)}function u(e,t,n,r){const i=D(),o=Y(),l=V+e,c=i[P],d=o.firstCreatePass?function Yx(e,t,n,r,i,o){const l=t.consts,d=hi(t,e,2,r,en(l,i));return zd(t,n,d,en(l,o)),null!==d.attrs&&du(d,d.attrs,!1),null!==d.mergedAttrs&&du(d,d.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,d),d}(l,o,i,t,n,r):o.data[l],p=Ry(o,i,d,c,t,e);i[l]=p;const f=_a(d);return tn(d,!0),hE(c,p,d),!function to(e){return!(32&~e.flags)}(d)&&Ds()&&Xa(o,i,p,d),0===function BI(){return F.lFrame.elementDepthCount}()&&Ke(p,i),function $I(){F.lFrame.elementDepthCount++}(),f&&(Bd(o,i,d),Ud(o,d,i)),null!==r&&$d(i,d),u}function a(){let e=oe();Uc()?Bc():(e=e.parent,tn(e,!1));const t=e;(function zI(e){return F.skipHydrationRootTNode===e})(t)&&function WI(){F.skipHydrationRootTNode=null}(),function HI(){F.lFrame.elementDepthCount--}();const n=Y();return n.firstCreatePass&&(Ma(n,e),Nc(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function uS(e){return!!(8&e.flags)}(t)&&kp(n,t,D(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function lS(e){return!!(16&e.flags)}(t)&&kp(n,t,D(),t.stylesWithoutHost,!1),a}function j(e,t,n,r){return u(e,t,n,r),a(),j}let Ry=(e,t,n,r,i,o)=>(nn(!0),Za(r,i,function Om(){return F.lFrame.currentNamespace}()));const Li="en-US";let jy=Li;function mt(e,t,n,r){const i=D(),o=Y(),l=oe();return function Zp(e,t,n,r,i,o,l){const c=_a(r),p=e.firstCreatePass&&ME(e),f=t[he],h=SE(t);let m=!0;if(3&r.type||l){const v=Je(r,t),y=l?l(v):v,b=h.length,C=l?R=>l(ue(R[r.index])):r.index;let M=null;if(!l&&c&&(M=function eR(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const l=i[o];if(l===n&&i[o+1]===r){const c=t[Kr],d=i[o+2];return c.length>d?c[d]:null}"string"==typeof l&&(o+=2)}return null}(e,t,i,r.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=o,M.__ngLastListenerFn__=o,m=!1;else{o=hb(r,t,f,o,!1);const R=n.listen(y,i,o);h.push(o,R),p&&p.push(i,C,b,b+1)}}else o=hb(r,t,f,o,!1);const g=r.outputs;let E;if(m&&null!==g&&(E=g[i])){const v=E.length;if(v)for(let y=0;y<v;y+=2){const Q=t[E[y]][E[y+1]].subscribe(o),re=h.length;h.push(o,Q),p&&p.push(i,r.index,re,-(re+1))}}}(o,i,i[P],l,e,t,r),mt}function fb(e,t,n,r){const i=G(null);try{return Jt(6,t,n),!1!==n(r)}catch(o){return nu(e,o),!1}finally{Jt(7,t,n),G(i)}}function hb(e,t,n,r,i){return function o(l){if(l===Function)return r;$s(e.componentOffset>-1?Ct(e.index,t):t);let d=fb(t,n,r,l),p=o.__ngNextListenerFn__;for(;p;)d=fb(t,n,p,l)&&d,p=p.__ngNextListenerFn__;return i&&!1===d&&l.preventDefault(),d}}function Yp(e=1){return function JI(e){return(F.lFrame.contextLView=function Em(e,t){for(;e>0;)t=t[Xr],e--;return t}(e,F.lFrame.contextLView))[he]}(e)}function tR(e,t){let n=null;const r=function eI(e){const t=e.attrs;if(null!=t){const n=t.indexOf(5);if(!(1&n))return t[n+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?W0(e,o,!0):rI(r,o))return i}else n=i}return n}function Tu(e,t,n){return Kp(e,"",t,"",n),Tu}function Kp(e,t,n,r,i){const o=D(),l=Si(o,t,n,r);return l!==U&&ft(Y(),me(),o,e,l,o[P],i,!1),Kp}function Mb(){return function vp(e,t){return e[wn].queries[t].queryList}(D(),zc())}function s(e,t=""){const n=D(),r=Y(),i=e+V,o=r.firstCreatePass?hi(r,i,1,t,null):r.data[i],l=kb(r,n,o,t,e);n[i]=l,Ds()&&Xa(r,n,l,o),tn(o,!1)}let kb=(e,t,n,r,i)=>(nn(!0),function Od(e,t){return e.createText(t)}(t[P],r));function Xp(e){return ki("",e,""),Xp}function ki(e,t,n){const r=D(),i=Si(r,e,t,n);return i!==U&&function Mn(e,t,n){const r=vs(t,e);!function eE(e,t,n){e.setValue(t,n)}(e[P],r,n)}(r,Ye(),i),ki}function Jp(e,t,n,r,i){if(e=O(e),Array.isArray(e))for(let o=0;o<e.length;o++)Jp(e[o],t,n,r,i);else{const o=Y(),l=D(),c=oe();let d=dr(e)?e:O(e.provide);const p=tm(e),f=1048575&c.providerIndexes,h=c.directiveStart,m=c.providerIndexes>>20;if(dr(e)||!e.multi){const g=new ws(p,i,_),E=tf(d,t,i?f:f+m,h);-1===E?(Jc(Na(c,l),o,d),ef(o,e,t.length),t.push(d),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(g),l.push(g)):(n[E]=g,l[E]=g)}else{const g=tf(d,t,f+m,h),E=tf(d,t,f,f+m),y=E>=0&&n[E];if(i&&!y||!i&&!(g>=0&&n[g])){Jc(Na(c,l),o,d);const b=function wR(e,t,n,r,i){const o=new ws(e,n,_);return o.multi=[],o.index=t,o.componentProviders=0,Qb(o,i,r&&!n),o}(i?DR:CR,n.length,i,r,p);!i&&y&&(n[E].providerFactory=b),ef(o,e,t.length,0),t.push(d),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(b),l.push(b)}else ef(o,e,g>-1?g:E,Qb(n[i?E:g],p,!i&&r));!i&&r&&y&&n[E].componentProviders++}}}function ef(e,t,n,r){const i=dr(t),o=function fI(e){return!!e.useClass}(t);if(i||o){const d=(o?O(t.useClass):t).prototype.ngOnDestroy;if(d){const p=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const f=p.indexOf(n);-1===f?p.push(n,[r,d]):p[f+1].push(r,d)}else p.push(n,d)}}}function Qb(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function tf(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function CR(e,t,n,r){return nf(this.multi,[])}function DR(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const l=this.providerFactory.componentProviders,c=gr(n,n[S],this.providerFactory.index,r);o=c.slice(0,l),nf(i,o);for(let d=l;d<c.length;d++)o.push(c[d])}else o=[],nf(i,o);return o}function nf(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ce(e,t=[]){return n=>{n.providersResolver=(r,i)=>function bR(e,t,n){const r=Y();if(r.firstCreatePass){const i=Ut(e);Jp(n,r.data,r.blueprint,i,!0),Jp(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}let _R=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){const r=Cc(0,n.type),i=r.length>0?wp([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=T({token:e,providedIn:"environment",factory:()=>new e(k(yt))})}}return e})();function H(e){an("NgStandalone"),e.getStandaloneInjector=t=>t.get(_R).getOrCreateStandaloneInjector(e)}function Kb(e,t,n,r,i,o){const l=t+n;return Me(e,l,i)?un(e,l+1,o?r.call(o,i):r(i)):function ho(e,t){const n=e[t];return n===U?void 0:n}(e,l+1)}function rC(e,t,n){const r=e+V,i=D(),o=function ti(e,t){return e[t]}(i,r);return function mo(e,t){return e[S].data[t].pure}(i,r)?Kb(i,et(),t,o.transform,n,o):o.transform(n)}let yC=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"platform"})}}return e})();const _C=new A("");function yo(e){return!!e&&"function"==typeof e.then}function IC(e){return!!e&&"function"==typeof e.subscribe}const FO=new A("");let ff=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=I(FO,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const i of this.appInits){const o=i();if(yo(o))n.push(o);else if(IC(o)){const l=new Promise((c,d)=>{o.subscribe({complete:c,error:d})});n.push(l)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const hf=new A("");let Wn=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=I(eg),this.afterRenderEffectManager=I(Zs),this.externalTestViews=new Set,this.beforeRender=new At,this.afterTick=new At,this.componentTypes=[],this.components=[],this.isStable=I(Cr).hasPendingTasks.pipe(X(n=>!n)),this._injector=I(yt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,r){const i=n instanceof BE;if(!this._injector.get(ff).done)throw!i&&function qn(e){const t=W(e)||Le(e)||He(e);return null!==t&&t.standalone}(n),new w(405,!1);let l;l=i?n:this._injector.get(lu).resolveComponentFactory(n),this.componentTypes.push(l.componentType);const c=function LO(e){return e.isBoundToModule}(l)?void 0:this._injector.get(br),p=l.create(dt.NULL,[],r||l.selector,c),f=p.location.nativeElement,h=p.injector.get(_C,null);return h?.registerApplication(f),p.onDestroy(()=>{this.detachView(p.hostView),Pu(this.components,p),h?.unregisterApplication(f)}),this._loadComponent(p),p}tick(){this._tick(!0)}_tick(n){if(this._runningTick)throw new w(101,!1);const r=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(n)}catch(i){this.internalErrorHandler(i)}finally{this.afterTick.next(),this._runningTick=!1,G(r)}}detectChangesInAttachedViews(n){let r=0;const i=this.afterRenderEffectManager;for(;;){if(r===RE)throw new w(103,!1);if(n){const o=0===r;this.beforeRender.next(o);for(let{_lView:l,notifyErrorHandler:c}of this._views)qO(l,o,c)}if(r++,i.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>mf(o))&&(i.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:o})=>mf(o))))break}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;Pu(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(hf,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Pu(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new w(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Pu(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function qO(e,t,n){!t&&!mf(e)||function VO(e,t,n){let r;n?(r=0,e[x]|=1024):r=64&e[x]?0:1,ru(e,t,r)}(e,n,t)}function mf(e){return qc(e)}class jO{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let UO=(()=>{class e{compileModuleSync(n){return new Dp(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=wt(Ge(n).declarations).reduce((l,c)=>{const d=W(c);return d&&l.push(new Xs(d)),l},[]);return new jO(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),HO=(()=>{class e{constructor(){this.zone=I(le),this.applicationRef=I(Wn)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function xC(e){return[{provide:le,useFactory:e},{provide:cr,multi:!0,useFactory:()=>{const t=I(HO,{optional:!0});return()=>t.initialize()}},{provide:cr,multi:!0,useFactory:()=>{const t=I(WO);return()=>{t.initialize()}}},{provide:eg,useFactory:zO}]}function zO(){const e=I(le),t=I(sn);return n=>e.runOutsideAngular(()=>t.handleError(n))}function GO(e){return Wr([[],xC(()=>new le(function NC(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}(e)))])}let WO=(()=>{class e{constructor(){this.subscription=new at,this.initialized=!1,this.zone=I(le),this.pendingTasks=I(Cr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{le.assertNotInAngularZone(),queueMicrotask(()=>{null!==n&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{le.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const xn=new A("",{providedIn:"root",factory:()=>I(xn,Z.Optional|Z.SkipSelf)||function QO(){return typeof $localize<"u"&&$localize.locale||Li}()}),gf=new A("");let Qn=null;let bo=(()=>{class e{static{this.__NG_ELEMENT_ID__=eP}}return e})();function eP(e){return function tP(e,t,n){if(fr(e)&&!n){const r=Ct(e.index,t);return new Hs(r,r)}return 47&e.type?new Hs(t[De],t):null}(oe(),D(),!(16&~e))}function MP(e){try{const{rootComponent:t,appProviders:n,platformProviders:r}=e,i=function JO(e=[]){if(Qn)return Qn;const t=function PC(e=[],t){return dt.create({name:t,providers:[{provide:_c,useValue:"platform"},{provide:gf,useValue:new Set([()=>Qn=null])},...e]})}(e);return Qn=t,function SC(){!function l_(e){f0=e}(()=>{throw new w(600,!1)})}(),function FC(e){e.get(_g,null)?.forEach(n=>n())}(t),t}(r),o=[GO(),...n||[]],c=new Fv({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1}).injector,d=c.get(le);return d.run(()=>{c.resolveInjectorInitializers();const p=c.get(sn,null);let f;d.runOutsideAngular(()=>{f=d.onError.subscribe({next:g=>{p.handleError(g)}})});const h=()=>c.destroy(),m=i.get(gf);return m.add(h),c.onDestroy(()=>{f.unsubscribe(),m.delete(h)}),function MC(e,t,n){try{const r=n();return yo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(p,d,()=>{const g=c.get(ff);return g.runInitializers(),g.donePromise.then(()=>{!function Uy(e){"string"==typeof e&&(jy=e.toLowerCase().replace(/_/g,"-"))}(c.get(xn,Li)||Li);const v=c.get(Wn);return void 0!==t&&v.bootstrap(t),v})})})}catch(t){return Promise.reject(t)}}function Ui(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let h1=null;function Zn(){return h1}class ZP{}const Wt=new A("");let m1=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>I(YP),providedIn:"platform"})}}return e})(),YP=(()=>{class e extends m1{constructor(){super(),this._doc=I(Wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Zn().getBaseHref(this._doc)}onPopState(n){const r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Zn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>new e,providedIn:"platform"})}}return e})();function g1(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function E1(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Ar(e){return e&&"?"!==e[0]?"?"+e:e}let Hu=(()=>{class e{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>I(XP),providedIn:"root"})}}return e})();const KP=new A("");let XP=(()=>{class e extends Hu{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??I(Wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return g1(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Ar(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const l=this.prepareExternalUrl(i+Ar(o));this._platformLocation.pushState(n,r,l)}replaceState(n,r,i,o){const l=this.prepareExternalUrl(i+Ar(o));this._platformLocation.replaceState(n,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||e)(k(m1),k(KP,8))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wo=(()=>{class e{constructor(n){this._subject=new we,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function t3(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(E1(v1(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ar(r))}normalize(n){return e.stripTrailingSlash(function e3(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,v1(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ar(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ar(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Ar}static{this.joinWithSlash=g1}static{this.stripTrailingSlash=E1}static{this.\u0275fac=function(r){return new(r||e)(k(Hu))}}static{this.\u0275prov=T({token:e,factory:()=>function JP(){return new wo(k(Hu))}(),providedIn:"root"})}}return e})();function v1(e){return e.replace(/\/index.html$/,"")}function M1(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}const eF=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g;let O1=(()=>{class e{transform(n){if(null==n)return null;if("string"!=typeof n)throw function Zt(e,t){return new w(2100,!1)}();return n.replace(eF,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275pipe=ct({name:"titlecase",type:e,pure:!0,standalone:!0})}}return e})();function L1(e){return"server"===e}class k1{}class GF extends ZP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jf extends GF{static makeCurrent(){!function QP(e){h1??=e}(new jf)}onAndCancel(t,n,r){return t.addEventListener(n,r),()=>{t.removeEventListener(n,r)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function WF(){return Mo=Mo||document.querySelector("base"),Mo?Mo.getAttribute("href"):null}();return null==n?null:function QF(e){return new URL(e,document.baseURI).pathname}(n)}resetBaseElement(){Mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return M1(document.cookie,t)}}let Mo=null,YF=(()=>{class e{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();const Uf=new A("");let G1=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new w(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||e)(k(Uf),k(le))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();class W1{constructor(t){this._doc=t}}const Bf="ng-app-id";let Q1=(()=>{class e{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=L1(o),this.resetHostNodes()}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${Bf}="${this.appId}"]`);if(n?.length){const r=new Map;return n.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){const i=this.styleRef;if(i.has(n)){const o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Bf),o;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Bf,this.appId),n.appendChild(l),l}}addStyleToHost(n,r){const i=this.getStyleElement(n,r),o=this.styleRef,l=o.get(r)?.elements;l?l.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||e)(k(Wt),k(ld),k(Ig,8),k(Er))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();const $f={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hf=/%COMP%/g,eL=new A("",{providedIn:"root",factory:()=>!0});function Y1(e,t){return t.map(n=>n.replace(Hf,e))}let K1=(()=>{class e{constructor(n,r,i,o,l,c,d,p=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=l,this.platformId=c,this.ngZone=d,this.nonce=p,this.rendererByCompId=new Map,this.platformIsServer=L1(c),this.defaultRenderer=new zf(n,l,d,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===kt.ShadowDom&&(r={...r,encapsulation:kt.Emulated});const i=this.getOrCreateRenderer(n,r);return i instanceof J1?i.applyToHost(n):i instanceof Gf&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const l=this.doc,c=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case kt.Emulated:o=new J1(d,p,r,this.appId,f,l,c,h);break;case kt.ShadowDom:return new iL(d,p,n,r,l,c,this.nonce,h);default:o=new Gf(d,p,r,f,l,c,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||e)(k(G1),k(Q1),k(ld),k(eL),k(Wt),k(Er),k(le),k(Ig))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();class zf{constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS($f[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(X1(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(X1(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?this.doc.querySelector(t):t;if(!r)throw new w(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=$f[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=$f[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Bn.DashCase|Bn.Important)?t.style.setProperty(n,r,i&Bn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Bn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){null!=t&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r){if("string"==typeof t&&!(t=Zn().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(r))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function X1(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class iL extends zf{constructor(t,n,r,i,o,l,c,d){super(t,o,l,d),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Y1(i.id,i.styles);for(const f of p){const h=document.createElement("style");c&&h.setAttribute("nonce",c),h.textContent=f,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Gf extends zf{constructor(t,n,r,i,o,l,c,d){super(t,o,l,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=d?Y1(d,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J1 extends Gf{constructor(t,n,r,i,o,l,c,d){const p=i+"-"+r.id;super(t,n,r,o,l,c,d,p),this.contentAttr=function tL(e){return"_ngcontent-%COMP%".replace(Hf,e)}(p),this.hostAttr=function nL(e){return"_nghost-%COMP%".replace(Hf,e)}(p)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}const eD=["alt","control","meta","shift"],oL={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aL={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};function tD(e){return{appProviders:[...mL,...e?.providers??[]],platformProviders:fL}}const fL=[{provide:Er,useValue:"browser"},{provide:_g,useValue:function cL(){jf.makeCurrent()},multi:!0},{provide:Wt,useFactory:function pL(){return function KS(e){ud=e}(document),document},deps:[]}],mL=[{provide:_c,useValue:"root"},{provide:sn,useFactory:function dL(){return new sn},deps:[]},{provide:Uf,useClass:(()=>{class e extends W1{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||e)(k(Wt))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[Wt,le,Er]},{provide:Uf,useClass:(()=>{class e extends W1{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),l=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zn().onAndCancel(n,o.domEventName,l))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let l="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),l="code."),eD.forEach(p=>{const f=r.indexOf(p);f>-1&&(r.splice(f,1),l+=p+".")}),l+=o,0!=r.length||0===o.length)return null;const d={};return d.domEventName=i,d.fullKey=l,d}static matchEventFullKeyCode(n,r){let i=oL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),eD.forEach(l=>{l!==i&&(0,aL[l])(n)&&(o+=l+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}static{this.\u0275fac=function(r){return new(r||e)(k(Wt))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})(),multi:!0,deps:[Wt]},K1,Q1,G1,{provide:HE,useExisting:K1},{provide:k1,useClass:YF,deps:[]},[]];let gL=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||e)(k(Wt))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function Yn(e){return this instanceof Yn?(this.v=e,this):new Yn(e)}function uD(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Yf(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(l){return new Promise(function(c,d){!function i(o,l,c,d){Promise.resolve(d).then(function(p){o({value:p,done:c})},l)}(c,d,(l=e[o](l)).done,l.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const lD=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function cD(e){return ye(e?.then)}function dD(e){return ye(e[Jl])}function pD(e){return Symbol.asyncIterator&&ye(e?.[Symbol.asyncIterator])}function fD(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const hD=function WL(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mD(e){return ye(e?.[hD])}function gD(e){return function aD(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",function l(g){return function(E){return Promise.resolve(E).then(g,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function c(g,E){r[g]&&(i[g]=function(v){return new Promise(function(y,b){o.push([g,v,y,b])>1||d(g,v)})},E&&(i[g]=E(i[g])))}function d(g,E){try{!function p(g){g.value instanceof Yn?Promise.resolve(g.value.v).then(f,h):m(o[0][2],g)}(r[g](E))}catch(v){m(o[0][3],v)}}function f(g){d("next",g)}function h(g){d("throw",g)}function m(g,E){g(E),o.shift(),o.length&&d(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Yn(n.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function ED(e){return ye(e?.getReader)}function pn(e){if(e instanceof xe)return e;if(null!=e){if(dD(e))return function QL(e){return new xe(t=>{const n=e[Jl]();if(ye(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(lD(e))return function ZL(e){return new xe(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(cD(e))return function YL(e){return new xe(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,C0)})}(e);if(pD(e))return vD(e);if(mD(e))return function KL(e){return new xe(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(ED(e))return function XL(e){return vD(gD(e))}(e)}throw fD(e)}function vD(e){return new xe(t=>{(function JL(e,t){var n,r,i,o;return function sD(e,t,n,r){return new(n||(n=Promise))(function(o,l){function c(f){try{p(r.next(f))}catch(h){l(h)}}function d(f){try{p(r.throw(f))}catch(h){l(h)}}function p(f){f.done?o(f.value):function i(o){return o instanceof n?o:new n(function(l){l(o)})}(f.value).then(c,d)}p((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=uD(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(l){i={error:l}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function On(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function yD(e,t=0){return $e((n,r)=>{n.subscribe(Pe(r,i=>On(r,e,()=>r.next(i),t),()=>On(r,e,()=>r.complete(),t),i=>On(r,e,()=>r.error(i),t)))})}function bD(e,t=0){return $e((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function CD(e,t){if(!e)throw new Error("Iterable cannot be null");return new xe(n=>{On(n,t,()=>{const r=e[Symbol.asyncIterator]();On(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function ze(e,t){return t?function sk(e,t){if(null!=e){if(dD(e))return function ek(e,t){return pn(e).pipe(bD(t),yD(t))}(e,t);if(lD(e))return function nk(e,t){return new xe(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(cD(e))return function tk(e,t){return pn(e).pipe(bD(t),yD(t))}(e,t);if(pD(e))return CD(e,t);if(mD(e))return function rk(e,t){return new xe(n=>{let r;return On(n,t,()=>{r=e[hD](),On(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(l){return void n.error(l)}o?n.complete():n.next(i)},0,!0)}),()=>ye(r?.return)&&r.return()})}(e,t);if(ED(e))return function ik(e,t){return CD(gD(e),t)}(e,t)}throw fD(e)}(e,t):pn(e)}function Xf(e){return e[e.length-1]}function DD(e){return ye(Xf(e))?e.pop():void 0}function sl(e){return function ok(e){return e&&ye(e.schedule)}(Xf(e))?e.pop():void 0}function B(...e){return ze(e,sl(e))}const ol=Hl(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:ak}=Array,{getPrototypeOf:uk,prototype:lk,keys:ck}=Object;function wD(e){if(1===e.length){const t=e[0];if(ak(t))return{args:t,keys:null};if(function dk(e){return e&&"object"==typeof e&&uk(e)===lk}(t)){const n=ck(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:pk}=Array;function _D(e){return X(t=>function fk(e,t){return pk(t)?e(...t):e(t)}(e,t))}function ID(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function SD(...e){const t=sl(e),n=DD(e),{args:r,keys:i}=wD(e);if(0===r.length)return ze([],t);const o=new xe(function hk(e,t,n=ur){return r=>{MD(t,()=>{const{length:i}=e,o=new Array(i);let l=i,c=i;for(let d=0;d<i;d++)MD(t,()=>{const p=ze(e[d],t);let f=!1;p.subscribe(Pe(r,h=>{o[d]=h,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,t,i?l=>ID(i,l):ur));return n?o.pipe(_D(n)):o}function MD(e,t,n){e?On(n,e,t):t()}function it(e,t,n=1/0){return ye(t)?it((r,i)=>X((o,l)=>t(r,o,i,l))(pn(e(r,i))),n):("number"==typeof t&&(n=t),$e((r,i)=>function mk(e,t,n,r,i,o,l,c){const d=[];let p=0,f=0,h=!1;const m=()=>{h&&!d.length&&!p&&t.complete()},g=v=>p<r?E(v):d.push(v),E=v=>{o&&t.next(v),p++;let y=!1;pn(n(v,f++)).subscribe(Pe(t,b=>{i?.(b),o?g(b):t.next(b)},()=>{y=!0},void 0,()=>{if(y)try{for(p--;d.length&&p<r;){const b=d.shift();l?On(t,l,()=>E(b)):E(b)}m()}catch(b){t.error(b)}}))};return e.subscribe(Pe(t,g,()=>{h=!0,m()})),()=>{c?.()}}(r,i,e,n)))}function Jf(e=1/0){return it(ur,e)}function eh(...e){return function gk(){return Jf(1)}()(ze(e,sl(e)))}function AD(e){return new xe(t=>{pn(e()).subscribe(t)})}function al(e,t){const n=ye(e)?e:()=>e,r=i=>i.error(n());return new xe(t?i=>t.schedule(r,0,i):r)}const fn=new xe(e=>e.complete());function th(){return $e((e,t)=>{let n=null;e._refCount++;const r=Pe(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class TD extends xe{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,I0(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new at;const n=this.getSubject();t.add(this.source.subscribe(Pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=at.EMPTY)}return t}refCount(){return th()(this)}}function hn(e,t){return $e((n,r)=>{let i=null,o=0,l=!1;const c=()=>l&&!i&&r.complete();n.subscribe(Pe(r,d=>{i?.unsubscribe();let p=0;const f=o++;pn(e(d,f)).subscribe(i=Pe(r,h=>r.next(t?t(d,h,f,p++):h),()=>{i=null,c()}))},()=>{l=!0,c()}))})}function $i(e){return e<=0?()=>fn:$e((t,n)=>{let r=0;t.subscribe(Pe(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Kn(e,t){return $e((n,r)=>{let i=0;n.subscribe(Pe(r,o=>e.call(t,o,i++)&&r.next(o)))})}function ul(e){return $e((t,n)=>{let r=!1;t.subscribe(Pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function xD(e=yk){return $e((t,n)=>{let r=!1;t.subscribe(Pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function yk(){return new ol}function Tr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Kn((i,o)=>e(i,o,r)):ur,$i(1),n?ul(t):xD(()=>new ol))}function To(e,t){return ye(t)?it(e,t,1):it(e,1)}function st(e,t,n){const r=ye(e)||t||n?{next:e,error:t,complete:n}:e;return r?$e((i,o)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let c=!0;i.subscribe(Pe(o,d=>{var p;null===(p=r.next)||void 0===p||p.call(r,d),o.next(d)},()=>{var d;c=!1,null===(d=r.complete)||void 0===d||d.call(r),o.complete()},d=>{var p;c=!1,null===(p=r.error)||void 0===p||p.call(r,d),o.error(d)},()=>{var d,p;c&&(null===(d=r.unsubscribe)||void 0===d||d.call(r)),null===(p=r.finalize)||void 0===p||p.call(r)}))}):ur}function Hi(e){return $e((t,n)=>{let o,r=null,i=!1;r=t.subscribe(Pe(n,void 0,void 0,l=>{o=pn(e(l,Hi(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function nh(e){return e<=0?()=>fn:$e((t,n)=>{let r=[];t.subscribe(Pe(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ll(e){return $e((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const z="primary",xo=Symbol("RouteTitle");class Ik{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function zi(e){return new Ik(e)}function Sk(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const l=r[o],c=e[o];if(l.startsWith(":"))i[l.substring(1)]=c;else if(l!==c.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function mn(e,t){const n=e?rh(e):void 0,r=t?rh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!ND(e[i],t[i]))return!1;return!0}function rh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function ND(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function RD(e){return e.length>0?e[e.length-1]:null}function Xn(e){return function bL(e){return!!e&&(e instanceof xe||ye(e.lift)&&ye(e.subscribe))}(e)?e:yo(e)?ze(Promise.resolve(e)):B(e)}const Ak={exact:function FD(e,t,n){if(!xr(e.segments,t.segments)||!cl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!FD(e.children[r],t.children[r],n))return!1;return!0},subset:LD},OD={exact:function Tk(e,t){return mn(e,t)},subset:function xk(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>ND(e[n],t[n]))},ignored:()=>!0};function PD(e,t,n){return Ak[n.paths](e.root,t.root,n.matrixParams)&&OD[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function LD(e,t,n){return kD(e,t,t.segments,n)}function kD(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!xr(i,n)||t.hasChildren()||!cl(i,n,r))}if(e.segments.length===n.length){if(!xr(e.segments,n)||!cl(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!LD(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(xr(e.segments,i)&&cl(e.segments,i,r)&&e.children[z])&&kD(e.children[z],t,o,r)}}function cl(e,t,n){return t.every((r,i)=>OD[n](e[i].parameters,r.parameters))}class Gi{constructor(t=new ce([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return Ok.serialize(this)}}class ce{constructor(t,n){this.segments=t,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return dl(this)}}class No{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=zi(this.parameters),this._parameterMap}toString(){return jD(this)}}function xr(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let Wi=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>new ih,providedIn:"root"})}}return e})();class ih{parse(t){const n=new Hk(t);return new Gi(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${Ro(t.root,!0)}`,r=function Lk(e){const t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${pl(n)}=${pl(i)}`).join("&"):`${pl(n)}=${pl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Pk(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Ok=new ih;function dl(e){return e.segments.map(t=>jD(t)).join("/")}function Ro(e,t){if(!e.hasChildren())return dl(e);if(t){const n=e.children[z]?Ro(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${Ro(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Rk(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(n=n.concat(t(i,r)))}),n}(e,(r,i)=>i===z?[Ro(e.children[z],!1)]:[`${i}:${Ro(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[z]?`${dl(e)}/${n[0]}`:`${dl(e)}/(${n.join("//")})`}}function qD(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pl(e){return qD(e).replace(/%3B/gi,";")}function sh(e){return qD(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fl(e){return decodeURIComponent(e)}function VD(e){return fl(e.replace(/\+/g,"%20"))}function jD(e){return`${sh(e.path)}${function Fk(e){return Object.entries(e).map(([t,n])=>`;${sh(t)}=${sh(n)}`).join("")}(e.parameters)}`}const kk=/^[^\/()?;#]+/;function oh(e){const t=e.match(kk);return t?t[0]:""}const qk=/^[^\/()?;=#]+/,jk=/^[^=?&#]+/,Bk=/^[^&#]+/;class Hk{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ce([],{}):new ce([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[z]=new ce(t,n)),r}parseSegment(){const t=oh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new w(4009,!1);return this.capture(t),new No(fl(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=function Vk(e){const t=e.match(qk);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=oh(this.remaining);i&&(r=i,this.capture(r))}t[fl(n)]=fl(r)}parseQueryParam(t){const n=function Uk(e){const t=e.match(jk);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const l=function $k(e){const t=e.match(Bk);return t?t[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=VD(n),o=VD(r);if(t.hasOwnProperty(i)){let l=t[i];Array.isArray(l)||(l=[l],t[i]=l),l.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=oh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new w(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=z);const l=this.parseChildren();n[o]=1===Object.keys(l).length?l[z]:new ce([],l),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new w(4011,!1)}}function UD(e){return e.segments.length>0?new ce([],{[z]:e}):e}function BD(e){const t={};for(const[r,i]of Object.entries(e.children)){const o=BD(i);if(r===z&&0===o.segments.length&&o.hasChildren())for(const[l,c]of Object.entries(o.children))t[l]=c;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function zk(e){if(1===e.numberOfChildren&&e.children[z]){const t=e.children[z];return new ce(e.segments.concat(t.segments),t.children)}return e}(new ce(e.segments,t))}function Qi(e){return e instanceof Gi}function $D(e){let t;const i=UD(function n(o){const l={};for(const d of o.children){const p=n(d);l[d.outlet]=p}const c=new ce(o.url,l);return o===e&&(t=c),c}(e.root));return t??i}function HD(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(0===t.length)return ah(i,i,i,n,r);const o=function Wk(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new GD(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const c={};return Object.entries(o.outlets).forEach(([d,p])=>{c[d]="string"==typeof p?p.split("/"):p}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===l?(o.split("/").forEach((c,d)=>{0==d&&"."===c||(0==d&&""===c?n=!0:".."===c?t++:""!=c&&i.push(c))}),i):[...i,o]},[]);return new GD(n,t,r)}(t);if(o.toRoot())return ah(i,i,new ce([],{}),n,r);const l=function Qk(e,t,n){if(e.isAbsolute)return new ml(t,!0,0);if(!n)return new ml(t,!1,NaN);if(null===n.parent)return new ml(n,!0,0);const r=hl(e.commands[0])?0:1;return function Zk(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new w(4005,!1);i=r.segments.length}return new ml(r,!1,i-o)}(n,n.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),c=l.processChildren?Po(l.segmentGroup,l.index,o.commands):WD(l.segmentGroup,l.index,o.commands);return ah(i,l.segmentGroup,c,n,r)}function hl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Oo(e){return"object"==typeof e&&null!=e&&e.outlets}function ah(e,t,n,r,i){let l,o={};r&&Object.entries(r).forEach(([d,p])=>{o[d]=Array.isArray(p)?p.map(f=>`${f}`):`${p}`}),l=e===t?n:zD(e,t,n);const c=UD(BD(l));return new Gi(c,o,i)}function zD(e,t,n){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===t?n:zD(o,t,n)}),new ce(e.segments,r)}class GD{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&hl(r[0]))throw new w(4003,!1);const i=r.find(Oo);if(i&&i!==RD(r))throw new w(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ml{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function WD(e,t,n){if(e??=new ce([],{}),0===e.segments.length&&e.hasChildren())return Po(e,t,n);const r=function Kk(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const l=e.segments[i],c=n[r];if(Oo(c))break;const d=`${c}`,p=r<n.length-1?n[r+1]:null;if(i>0&&void 0===d)break;if(d&&p&&"object"==typeof p&&void 0===p.outlets){if(!ZD(d,p,l))return o;r+=2}else{if(!ZD(d,{},l))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new ce(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new ce(e.segments.slice(r.pathIndex),e.children),Po(o,0,i)}return r.match&&0===i.length?new ce(e.segments,{}):r.match&&!e.hasChildren()?uh(e,t,n):r.match?Po(e,0,i):uh(e,t,n)}function Po(e,t,n){if(0===n.length)return new ce(e.segments,{});{const r=function Yk(e){return Oo(e[0])?e[0].outlets:{[z]:e}}(n),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&1===e.numberOfChildren&&0===e.children[z].segments.length){const o=Po(e.children[z],t,n);return new ce(e.segments,o.children)}return Object.entries(r).forEach(([o,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[o]=WD(e.children[o],t,l))}),Object.entries(e.children).forEach(([o,l])=>{void 0===r[o]&&(i[o]=l)}),new ce(e.segments,i)}}function uh(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(Oo(o)){const d=Xk(o.outlets);return new ce(r,d)}if(0===i&&hl(n[0])){r.push(new No(e.segments[t].path,QD(n[0]))),i++;continue}const l=Oo(o)?o.outlets[z]:`${o}`,c=i<n.length-1?n[i+1]:null;l&&c&&hl(c)?(r.push(new No(l,QD(c))),i+=2):(r.push(new No(l,{})),i++)}return new ce(r,{})}function Xk(e){const t={};return Object.entries(e).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(t[n]=uh(new ce([],{}),0,r))}),t}function QD(e){const t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function ZD(e,t,n){return e==n.path&&mn(t,n.parameters)}const Fo="imperative";var K=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(K||{});class gn{constructor(t,n){this.id=t,this.url=n}}class lh extends gn{constructor(t,n,r="imperative",i=null){super(t,n),this.type=K.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Nr extends gn{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=K.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}var St=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e}(St||{}),ch=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ch||{});class Zi extends gn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=K.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lo extends gn{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=K.NavigationSkipped}}class gl extends gn{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=K.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class YD extends gn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=K.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jk extends gn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=K.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class e4 extends gn{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=K.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class t4 extends gn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=K.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n4 extends gn{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=K.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class r4{constructor(t){this.route=t,this.type=K.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class i4{constructor(t){this.route=t,this.type=K.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class s4{constructor(t){this.snapshot=t,this.type=K.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o4{constructor(t){this.snapshot=t,this.type=K.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a4{constructor(t){this.snapshot=t,this.type=K.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class u4{constructor(t){this.snapshot=t,this.type=K.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dh{}class ph{constructor(t){this.url=t}}class l4{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ko,this.attachRef=null}}let ko=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new l4,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();class KD{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=fh(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=fh(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=hh(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return hh(t,this._root).map(n=>n.value)}}function fh(e,t){if(e===t.value)return t;for(const n of t.children){const r=fh(e,n);if(r)return r}return null}function hh(e,t){if(e===t.value)return[t];for(const n of t.children){const r=hh(e,n);if(r.length)return r.unshift(t),r}return[]}class Yt{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function Yi(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class XD extends KD{constructor(t,n){super(t),this.snapshot=n,Eh(this,t)}toString(){return this.snapshot.toString()}}function JD(e){const t=function c4(e){const o=new gh([],{},{},"",{},z,e,null,{});return new e9("",new Yt(o,[]))}(e),n=new Tt([new No("",{})]),r=new Tt({}),i=new Tt({}),o=new Tt({}),l=new Tt(""),c=new Ki(n,r,o,l,i,z,e,t.root);return c.snapshot=t.root,new XD(new Yt(c,[]),t)}class Ki{constructor(t,n,r,i,o,l,c,d){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=l,this.component=c,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(X(p=>p[xo]))??B(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(t=>zi(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(t=>zi(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function mh(e,t,n="emptyOnly"){let r;const{routeConfig:i}=e;return r=null===t||"always"!==n&&""!==i?.path&&(t.component||t.routeConfig?.loadComponent)?{params:{...e.params},data:{...e.data},resolve:{...e.data,...e._resolvedData??{}}}:{params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.data,...i?.data,...e._resolvedData}},i&&n9(i)&&(r.resolve[xo]=i.title),r}class gh{get title(){return this.data?.[xo]}constructor(t,n,r,i,o,l,c,d,p){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=l,this.component=c,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=zi(this.queryParams),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class e9 extends KD{constructor(t,n){super(n),this.url=t,Eh(this,n)}toString(){return t9(this._root)}}function Eh(e,t){t.value._routerState=e,t.children.forEach(n=>Eh(e,n))}function t9(e){const t=e.children.length>0?` { ${e.children.map(t9).join(", ")} } `:"";return`${e.value}${t}`}function vh(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,mn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),mn(t.params,n.params)||e.paramsSubject.next(n.params),function Mk(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!mn(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.urlSubject.next(n.url),mn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function yh(e,t){const n=mn(e.params,t.params)&&function Nk(e,t){return xr(e,t)&&e.every((n,r)=>mn(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||yh(e.parent,t.parent))}function n9(e){return"string"==typeof e.title||null===e.title}let Jn=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=z,this.activateEvents=new we,this.deactivateEvents=new we,this.attachEvents=new we,this.detachEvents=new we,this.parentContexts=I(ko),this.location=I(Ht),this.changeDetector=I(bo),this.environmentInjector=I(yt),this.inputBinder=I(El,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new w(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new w(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new w(4012,!1);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new w(4013,!1);this._activatedRoute=n;const i=this.location,l=n.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,d=new bh(n,c,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:d,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=L({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xt]})}}return e})();class bh{__ngOutletInjector(t){return new bh(this.route,this.childContexts,t)}constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===Ki?this.route:t===ko?this.childContexts:this.parent.get(t,n)}}const El=new A("");function qo(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function p4(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return qo(e,r,i);return qo(e,r)})}(e,t,n);return new Yt(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(c=>qo(e,c)),l}}const r=function f4(e){return new Ki(new Tt(e.url),new Tt(e.params),new Tt(e.queryParams),new Tt(e.fragment),new Tt(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>qo(e,o));return new Yt(r,i)}}const i9="ngNavigationCancelingError";function s9(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=Qi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=o9(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function o9(e,t){const n=new Error(`NavigationCancelingError: ${e||""}`);return n[i9]=!0,n.cancellationCode=t,n}function a9(e){return!!e&&e[i9]}let u9=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["ng-component"]],standalone:!0,features:[H],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[Jn],encapsulation:2})}}return e})();function Ch(e){const t=e.children&&e.children.map(Ch),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=u9),n}function En(e){return e.outlet||z}function Vo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class C4{constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),vh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=Yi(n);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,i[l],r),delete i[l]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(t,n,l.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Yi(t);for(const l of Object.values(o))this.deactivateRouteAndItsChildren(l,i);if(r&&r.outlet){const l=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:c})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Yi(t);for(const l of Object.values(o))this.deactivateRouteAndItsChildren(l,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){const i=Yi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new u4(o.value.snapshot))}),t.children.length&&this.forwardEvent(new o4(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(vh(i),i===o)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,l.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(c.contexts),l.attachRef=c.componentRef,l.route=c.route.value,l.outlet&&l.outlet.attach(c.componentRef,c.route.value),vh(c.route.value),this.activateChildRoutes(t,null,l.children)}else{const c=Vo(i.snapshot);l.attachRef=null,l.route=i,l.injector=c,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,r)}}class l9{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class vl{constructor(t,n){this.component=t,this.route=n}}function D4(e,t,n){const r=e._root;return jo(r,t?t._root:null,n,[r.value])}function Xi(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function x_(e){return null!==aa(e)}(e)?t.get(e):e:r}function jo(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Yi(t);return e.children.forEach(l=>{(function _4(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,l=t?t.value:null,c=n?n.getContext(e.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const d=function I4(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!xr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!xr(e.url,t.url)||!mn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yh(e,t)||!mn(e.queryParams,t.queryParams);default:return!yh(e,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);d?i.canActivateChecks.push(new l9(r)):(o.data=l.data,o._resolvedData=l._resolvedData),jo(e,t,o.component?c?c.children:null:n,r,i),d&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new vl(c.outlet.component,l))}else l&&Uo(t,c,i),i.canActivateChecks.push(new l9(r)),jo(e,null,o.component?c?c.children:null:n,r,i)})(l,o[l.value.outlet],n,r.concat([l.value]),i),delete o[l.value.outlet]}),Object.entries(o).forEach(([l,c])=>Uo(c,n.getContext(l),i)),i}function Uo(e,t,n){const r=Yi(e),i=e.value;Object.entries(r).forEach(([o,l])=>{Uo(l,i.component?t?t.children.getContext(o):null:t,n)}),n.canDeactivateChecks.push(new vl(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Bo(e){return"function"==typeof e}function c9(e){return e instanceof ol||"EmptyError"===e?.name}const yl=Symbol("INITIAL_VALUE");function Ji(){return hn(e=>SD(e.map(t=>t.pipe($i(1),function vk(...e){const t=sl(e);return $e((n,r)=>{(t?eh(e,n,t):eh(e,n)).subscribe(r)})}(yl)))).pipe(X(t=>{for(const n of t)if(!0!==n){if(n===yl)return yl;if(!1===n||n instanceof Gi)return n}return!0}),Kn(t=>t!==yl),$i(1)))}function d9(e){return function b_(...e){return D0(e)}(st(t=>{if(Qi(t))throw s9(0,t)}),X(t=>!0===t))}class Dh{constructor(t){this.segmentGroup=t||null}}class wh extends Error{constructor(t){super(),this.urlTree=t}}function es(e){return al(new Dh(e))}class H4{constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return B(r);if(i.numberOfChildren>1||!i.children[z])return al(new w(4e3,!1));i=i.children[z]}}applyRedirectCommands(t,n,r){const i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r);if(n.startsWith("/"))throw new wh(i);return i}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Gi(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return Object.entries(t).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let l={};return Object.entries(n.children).forEach(([c,d])=>{l[c]=this.createSegmentGroup(t,d,r,i)}),new ce(o,l)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new w(4001,!1);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}const _h={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z4(e,t,n,r,i){const o=Ih(e,t,n);return o.matched?(r=function m4(e,t){return e.providers&&!e._injector&&(e._injector=wp(e.providers,t,`Route: ${e.path}`)),e._injector??t}(t,r),function U4(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?B(i.map(l=>{const c=Xi(l,e);return Xn(function N4(e){return e&&Bo(e.canMatch)}(c)?c.canMatch(t,n):Dn(e,()=>c(t,n)))})).pipe(Ji(),d9()):B(!0)}(r,t,n).pipe(X(l=>!0===l?o:{..._h}))):B(o)}function Ih(e,t,n){if("**"===t.path)return function G4(e){return{matched:!0,parameters:e.length>0?RD(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}(n);if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{..._h}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Sk)(n,e,t);if(!i)return{..._h};const o={};Object.entries(i.posParams??{}).forEach(([c,d])=>{o[c]=d.path});const l=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function p9(e,t,n,r){return n.length>0&&function Z4(e,t,n){return n.some(r=>bl(e,t,r)&&En(r)!==z)}(e,n,r)?{segmentGroup:new ce(t,Q4(r,new ce(n,e.children))),slicedSegments:[]}:0===n.length&&function Y4(e,t,n){return n.some(r=>bl(e,t,r))}(e,n,r)?{segmentGroup:new ce(e.segments,W4(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ce(e.segments,e.children),slicedSegments:n}}function W4(e,t,n,r){const i={};for(const o of n)if(bl(e,t,o)&&!r[En(o)]){const l=new ce([],{});i[En(o)]=l}return{...r,...i}}function Q4(e,t){const n={};n[z]=t;for(const r of e)if(""===r.path&&En(r)!==z){const i=new ce([],{});n[En(r)]=i}return n}function bl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}class J4{}class n8{constructor(t,n,r,i,o,l,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=l,this.urlSerializer=c,this.applyRedirects=new H4(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new w(4002,`'${t.segmentGroup}'`)}recognize(){const t=p9(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(X(n=>{const r=new gh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},z,this.rootComponentType,null,{}),i=new Yt(r,n),o=new e9("",i),l=function Gk(e,t,n=null,r=null){return HD($D(e),t,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(o._root,null),{state:o,tree:l}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t,z).pipe(Hi(r=>{if(r instanceof wh)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Dh?this.noMatchError(r):r}))}inheritParamsAndData(t,n){const r=t.value,i=mh(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),t.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i,!0).pipe(X(o=>o instanceof Yt?[o]:[]))}processChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return ze(i).pipe(To(o=>{const l=r.children[o],c=function y4(e,t){const n=e.filter(r=>En(r)===t);return n.push(...e.filter(r=>En(r)!==t)),n}(n,o);return this.processSegmentGroup(t,c,l,o)}),function Ck(e,t){return $e(function bk(e,t,n,r,i){return(o,l)=>{let c=n,d=t,p=0;o.subscribe(Pe(l,f=>{const h=p++;d=c?e(d,f,h):(c=!0,f),r&&l.next(d)},i&&(()=>{c&&l.next(d),l.complete()})))}}(e,t,arguments.length>=2,!0))}((o,l)=>(o.push(...l),o)),ul(null),function Dk(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Kn((i,o)=>e(i,o,r)):ur,nh(1),n?ul(t):xD(()=>new ol))}(),it(o=>{if(null===o)return es(r);const l=f9(o);return function r8(e){e.sort((t,n)=>t.value.outlet===z?-1:n.value.outlet===z?1:t.value.outlet.localeCompare(n.value.outlet))}(l),B(l)}))}processSegment(t,n,r,i,o,l){return ze(n).pipe(To(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,l).pipe(Hi(d=>{if(d instanceof Dh)return B(null);throw d}))),Tr(c=>!!c),Hi(c=>{if(c9(c))return function X4(e,t,n){return 0===t.length&&!e.children[n]}(r,i,o)?B(new J4):es(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,l,c){return function K4(e,t,n,r){return!!(En(e)===r||r!==z&&bl(t,n,e))&&Ih(t,e,n).matched}(r,i,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,i,r,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,l):es(i):es(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,l){const{matched:c,consumedSegments:d,positionalParamSegments:p,remainingSegments:f}=Ih(n,i,o);if(!c)return es(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const h=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,p);return this.applyRedirects.lineralizeSegments(i,h).pipe(it(m=>this.processSegment(t,r,n,m.concat(f),l,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){const l=z4(n,r,i,t);return"**"===r.path&&(n.children={}),l.pipe(hn(c=>c.matched?this.getChildConfig(t=r._injector??t,r,i).pipe(hn(({routes:d})=>{const p=r._loadedInjector??t,{consumedSegments:f,remainingSegments:h,parameters:m}=c,g=new gh(f,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function s8(e){return e.data||{}}(r),En(r),r.component??r._loadedComponent??null,r,function o8(e){return e.resolve||{}}(r)),{segmentGroup:E,slicedSegments:v}=p9(n,f,h,d);if(0===v.length&&E.hasChildren())return this.processChildren(p,d,E).pipe(X(b=>null===b?null:new Yt(g,b)));if(0===d.length&&0===v.length)return B(new Yt(g,[]));const y=En(r)===o;return this.processSegment(p,d,E,v,y?z:o,!0).pipe(X(b=>new Yt(g,b instanceof Yt?[b]:[])))})):es(n)))}getChildConfig(t,n,r){return n.children?B({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?B({routes:n._loadedRoutes,injector:n._loadedInjector}):function j4(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?B(!0):B(i.map(l=>{const c=Xi(l,e);return Xn(function M4(e){return e&&Bo(e.canLoad)}(c)?c.canLoad(t,n):Dn(e,()=>c(t,n)))})).pipe(Ji(),d9())}(t,n,r).pipe(it(i=>i?this.configLoader.loadChildren(t,n).pipe(st(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function $4(e){return al(o9(!1,St.GuardRejected))}())):B({routes:[],injector:t})}}function i8(e){const t=e.value.routeConfig;return t&&""===t.path}function f9(e){const t=[],n=new Set;for(const r of e){if(!i8(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=f9(r.children);t.push(new Yt(r.value,i))}return t.filter(r=>!n.has(r))}function h9(e){const t=e.children.map(n=>h9(n)).flat();return[e,...t]}function Sh(e){return hn(t=>{const n=e(t);return n?ze(n).pipe(X(()=>t)):B(t)})}let m9=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(n){return n.data[xo]}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>I(p8),providedIn:"root"})}}return e})(),p8=(()=>{class e extends m9{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||e)(k(gL))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const $o=new A("",{providedIn:"root",factory:()=>({})}),Cl=new A("");let g9=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(UO)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return B(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Xn(n.loadComponent()).pipe(X(E9),st(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ll(()=>{this.componentLoaders.delete(n)})),i=new TD(r,()=>new At).pipe(th());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return B({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function f8(e,t,n,r){return Xn(e.loadChildren()).pipe(X(E9),it(i=>i instanceof Pv||Array.isArray(i)?B(i):ze(t.compileModuleAsync(i))),X(i=>{r&&r(e);let o,l,c=!1;return Array.isArray(i)?(l=i,!0):(o=i.create(n).injector,l=o.get(Cl,[],{optional:!0,self:!0}).flat()),{routes:l.map(Ch),injector:o}}))}(r,this.compiler,n,this.onLoadEndListener).pipe(ll(()=>{this.childrenLoaders.delete(r)})),l=new TD(o,()=>new At).pipe(th());return this.childrenLoaders.set(r,l),l}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function E9(e){return function h8(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Mh=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>I(m8),providedIn:"root"})}}return e})(),m8=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();const v9=new A("");let Dl=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new At,this.transitionAbortSubject=new At,this.configLoader=I(g9),this.environmentInjector=I(yt),this.urlSerializer=I(Wi),this.rootContexts=I(ko),this.location=I(wo),this.inputBindingEnabled=null!==I(El,{optional:!0}),this.titleStrategy=I(m9),this.options=I($o,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Mh),this.createViewTransition=I(v9,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>B(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new i4(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new r4(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n,r,i){return this.transitions=new Tt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Fo,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kn(o=>0!==o.id),X(o=>({...o,extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),hn(o=>{let l=!1,c=!1;return B(o).pipe(hn(d=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),fn;this.currentTransition=o,this.currentNavigation={id:d.id,initialUrl:d.rawUrl,extractedUrl:d.extractedUrl,trigger:d.source,extras:d.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null};const p=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!p&&"reload"!==(d.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const h="";return this.events.next(new Lo(d.id,this.urlSerializer.serialize(d.rawUrl),h,ch.IgnoredSameUrlNavigation)),d.resolve(null),fn}if(this.urlHandlingStrategy.shouldProcessUrl(d.rawUrl))return B(d).pipe(hn(h=>{const m=this.transitions?.getValue();return this.events.next(new lh(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?fn:Promise.resolve(h)}),function a8(e,t,n,r,i,o){return it(l=>function e8(e,t,n,r,i,o,l="emptyOnly"){return new n8(e,t,n,r,i,l,o).recognize()}(e,t,n,r,l.extractedUrl,i,o).pipe(X(({state:c,tree:d})=>({...l,targetSnapshot:c,urlAfterRedirects:d}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),st(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const m=new YD(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(p&&this.urlHandlingStrategy.shouldProcessUrl(d.currentRawUrl)){const{id:h,extractedUrl:m,source:g,restoredState:E,extras:v}=d,y=new lh(h,this.urlSerializer.serialize(m),g,E);this.events.next(y);const b=JD(this.rootComponentType).snapshot;return this.currentTransition=o={...d,targetSnapshot:b,urlAfterRedirects:m,extras:{...v,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=m,B(o)}{const h="";return this.events.next(new Lo(d.id,this.urlSerializer.serialize(d.extractedUrl),h,ch.IgnoredByUrlHandlingStrategy)),d.resolve(null),fn}}),st(d=>{const p=new Jk(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),X(d=>(this.currentTransition=o={...d,guards:D4(d.targetSnapshot,d.currentSnapshot,this.rootContexts)},o)),function R4(e,t){return it(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:l}}=n;return 0===l.length&&0===o.length?B({...n,guardsResult:!0}):function O4(e,t,n,r){return ze(e).pipe(it(i=>function V4(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?B(o.map(c=>{const d=Vo(t)??i,p=Xi(c,d);return Xn(function x4(e){return e&&Bo(e.canDeactivate)}(p)?p.canDeactivate(e,t,n,r):Dn(d,()=>p(e,t,n,r))).pipe(Tr())})).pipe(Ji()):B(!0)}(i.component,i.route,n,t,r)),Tr(i=>!0!==i,!0))}(l,r,i,e).pipe(it(c=>c&&function S4(e){return"boolean"==typeof e}(c)?function P4(e,t,n,r){return ze(t).pipe(To(i=>eh(function L4(e,t){return null!==e&&t&&t(new s4(e)),B(!0)}(i.route.parent,r),function F4(e,t){return null!==e&&t&&t(new a4(e)),B(!0)}(i.route,r),function q4(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function w4(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(l)).filter(l=>null!==l).map(l=>AD(()=>B(l.guards.map(d=>{const p=Vo(l.node)??n,f=Xi(d,p);return Xn(function T4(e){return e&&Bo(e.canActivateChild)}(f)?f.canActivateChild(r,e):Dn(p,()=>f(r,e))).pipe(Tr())})).pipe(Ji())));return B(o).pipe(Ji())}(e,i.path,n),function k4(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return B(!0);const i=r.map(o=>AD(()=>{const l=Vo(t)??n,c=Xi(o,l);return Xn(function A4(e){return e&&Bo(e.canActivate)}(c)?c.canActivate(t,e):Dn(l,()=>c(t,e))).pipe(Tr())}));return B(i).pipe(Ji())}(e,i.route,n))),Tr(i=>!0!==i,!0))}(r,o,e,t):B(c)),X(c=>({...n,guardsResult:c})))})}(this.environmentInjector,d=>this.events.next(d)),st(d=>{if(o.guardsResult=d.guardsResult,Qi(d.guardsResult))throw s9(0,d.guardsResult);const p=new e4(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot,!!d.guardsResult);this.events.next(p)}),Kn(d=>!!d.guardsResult||(this.cancelNavigationTransition(d,"",St.GuardRejected),!1)),Sh(d=>{if(d.guards.canActivateChecks.length)return B(d).pipe(st(p=>{const f=new t4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}),hn(p=>{let f=!1;return B(p).pipe(function u8(e,t){return it(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return B(n);const o=new Set(i.map(d=>d.route)),l=new Set;for(const d of o)if(!l.has(d))for(const p of h9(d))l.add(p);let c=0;return ze(l).pipe(To(d=>o.has(d)?function l8(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!n9(i)&&(o[xo]=i.title),function c8(e,t,n,r){const i=rh(e);if(0===i.length)return B({});const o={};return ze(i).pipe(it(l=>function d8(e,t,n,r){const i=Vo(t)??r,o=Xi(e,i);return Xn(o.resolve?o.resolve(t,n):Dn(i,()=>o(t,n)))}(e[l],t,n,r).pipe(Tr(),st(c=>{o[l]=c}))),nh(1),function wk(e){return X(()=>e)}(o),Hi(l=>c9(l)?fn:al(l)))}(o,e,t,r).pipe(X(l=>(e._resolvedData=l,e.data=mh(e,e.parent,n).resolve,null)))}(d,r,e,t):(d.data=mh(d,d.parent,e).resolve,B(void 0))),st(()=>c++),nh(1),it(d=>c===l.size?B(n):fn))})}(this.paramsInheritanceStrategy,this.environmentInjector),st({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(p,"",St.NoDataFromResolver)}}))}),st(p=>{const f=new n4(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(f)}))}),Sh(d=>{const p=f=>{const h=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(f.routeConfig).pipe(st(m=>{f.component=m}),X(()=>{})));for(const m of f.children)h.push(...p(m));return h};return SD(p(d.targetSnapshot.root)).pipe(ul(null),$i(1))}),Sh(()=>this.afterPreactivation()),hn(()=>{const{currentSnapshot:d,targetSnapshot:p}=o,f=this.createViewTransition?.(this.environmentInjector,d.root,p.root);return f?ze(f).pipe(X(()=>o)):B(o)}),X(d=>{const p=function d4(e,t,n){const r=qo(e,t._root,n?n._root:void 0);return new XD(r,t)}(n.routeReuseStrategy,d.targetSnapshot,d.currentRouterState);return this.currentTransition=o={...d,targetRouterState:p},this.currentNavigation.targetRouterState=p,o}),st(()=>{this.events.next(new dh)}),((e,t,n,r)=>X(i=>(new C4(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)))(this.rootContexts,n.routeReuseStrategy,d=>this.events.next(d),this.inputBindingEnabled),$i(1),st({next:d=>{l=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Nr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects))),this.titleStrategy?.updateTitle(d.targetRouterState.snapshot),d.resolve(!0)},complete:()=>{l=!0}}),function _k(e){return $e((t,n)=>{pn(e).subscribe(Pe(n,()=>n.complete(),Wl)),!n.closed&&t.subscribe(n)})}(this.transitionAbortSubject.pipe(st(d=>{throw d}))),ll(()=>{!l&&!c&&this.cancelNavigationTransition(o,"",St.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),Hi(d=>{if(c=!0,a9(d))this.events.next(new Zi(o.id,this.urlSerializer.serialize(o.extractedUrl),d.message,d.cancellationCode)),function h4(e){return a9(e)&&Qi(e.url)}(d)?this.events.next(new ph(d.url)):o.resolve(!1);else{this.events.next(new gl(o.id,this.urlSerializer.serialize(o.extractedUrl),d,o.targetSnapshot??void 0));try{o.resolve(n.errorHandler(d))}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return fn}))}))}cancelNavigationTransition(n,r,i){const o=new Zi(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function v8(e){return e!==Fo}let y8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>I(C8),providedIn:"root"})}}return e})();class b8{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let C8=(()=>{class e extends b8{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ue(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),b9=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:()=>I(D8),providedIn:"root"})}}return e})(),D8=(()=>{class e extends b9{constructor(){super(...arguments),this.location=I(wo),this.urlSerializer=I(Wi),this.options=I($o,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Mh),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Gi,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=JD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{"popstate"===r.type&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof lh)this.stateMemento=this.createStateMemento();else if(n instanceof Lo)this.rawUrlTree=r.initialUrl;else if(n instanceof YD){if("eager"===this.urlUpdateStrategy&&!r.extras.skipLocationChange){const i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(i,r)}}else n instanceof dh?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):n instanceof Zi&&(n.code===St.GuardRejected||n.code===St.NoDataFromResolver)?this.restoreHistory(r):n instanceof gl?this.restoreHistory(r,!0):n instanceof Nr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&0===o&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ue(e)))(i||e)}})()}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();var Ho=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(Ho||{});function w8(e){throw e}const _8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},I8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mt=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(yC),this.stateManager=I(b9),this.options=I($o,{optional:!0})||{},this.pendingTasks=I(Cr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Dl),this.urlSerializer=I(Wi),this.location=I(wo),this.urlHandlingStrategy=I(Mh),this._events=new At,this.errorHandler=this.options.errorHandler||w8,this.navigated=!1,this.routeReuseStrategy=I(y8),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Cl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(El,{optional:!0}),this.eventsSubscription=new at,this.isNgZoneEnabled=I(le)instanceof le&&le.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const n=this.navigationTransitions.events.subscribe(r=>{try{const i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(null!==i&&null!==o)if(this.stateManager.handleRouterEvent(r,o),r instanceof Zi&&r.code!==St.Redirect&&r.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Nr)this.navigated=!0;else if(r instanceof ph){const l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c={info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||v8(i.source)};this.scheduleNavigation(l,Fo,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}(function M8(e){return!(e instanceof dh||e instanceof ph)})(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Fo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const d={...i};delete d.navigationId,delete d.\u0275routerPageId,0!==Object.keys(d).length&&(o.state=d)}const c=this.parseUrl(n);this.scheduleNavigation(c,r,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Ch),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:l,queryParamsHandling:c,preserveFragment:d}=r,p=d?this.currentUrlTree.fragment:l;let h,f=null;switch(c){case"merge":f={...this.currentUrlTree.queryParams,...o};break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=o||null}null!==f&&(f=this.removeEmptyProps(f));try{h=$D(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof n[0]||!n[0].startsWith("/"))&&(n=[]),h=this.currentUrlTree.root}return HD(h,n,f,p??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=Qi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Fo,null,r)}navigate(n,r={skipLocationChange:!1}){return function S8(e){for(let t=0;t<e.length;t++)if(null==e[t])throw new w(4008,!1)}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(i=!0===r?{..._8}:!1===r?{...I8}:r,Qi(n))return PD(this.currentUrlTree,n,i);const o=this.parseUrl(n);return PD(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(null!=o&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,l){if(this.disposed)return Promise.resolve(!1);let c,d,p;l?(c=l.resolve,d=l.reject,p=l.promise):p=new Promise((h,m)=>{c=h,d=m});const f=this.pendingTasks.add();return function C9(e,t){e.events.pipe(Kn(n=>n instanceof Nr||n instanceof Zi||n instanceof gl||n instanceof Lo),X(n=>n instanceof Nr||n instanceof Lo?Ho.COMPLETE:n instanceof Zi&&(n.code===St.Redirect||n.code===St.SupersededByNewNavigation)?Ho.REDIRECTING:Ho.FAILED),Kn(n=>n!==Ho.REDIRECTING),$i(1)).subscribe(()=>{t()})}(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:c,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),wl=(()=>{class e{constructor(n,r,i,o,l,c){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=l,this.locationStrategy=c,this.href=null,this.commands=null,this.onChanges=new At,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const d=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===d||"area"===d,this.isAnchorElement?this.subscription=n.events.subscribe(p=>{p instanceof Nr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,l){const c=this.urlTree;return!!(null===c||this.isAnchorElement&&(0!==n||r||i||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(c,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){const n=this.urlTree;this.href=null!==n&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;const r=null===this.href?null:function Gg(e,t,n){return function LM(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?zg:Md}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||e)(_(Mt),_(Ki),function Ss(e){return function fS(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if($0(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(oe(),e)}("tabindex"),_(Tn),_(Dt),_(Hu))}}static{this.\u0275dir=L({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&mt("click",function(l){return i.onClick(l.button,l.ctrlKey,l.shiftKey,l.altKey,l.metaKey)}),2&r&&ln("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[de.HasDecoratorInputTransform,"preserveFragment","preserveFragment",Ui],skipLocationChange:[de.HasDecoratorInputTransform,"skipLocationChange","skipLocationChange",Ui],replaceUrl:[de.HasDecoratorInputTransform,"replaceUrl","replaceUrl",Ui],routerLink:"routerLink"},standalone:!0,features:[Ov,xt]})}}return e})(),D9=(()=>{class e{get isActive(){return this._isActive}constructor(n,r,i,o,l){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.link=l,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new we,this.routerEventsSubscription=n.events.subscribe(c=>{c instanceof Nr&&this.update()})}ngAfterContentInit(){B(this.links.changes,B(null)).pipe(Jf()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=ze(n).pipe(Jf()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){const r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){const r=function A8(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{const o=i.urlTree;return!!o&&n.isActive(o,r)}}hasActiveLinks(){const n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static{this.\u0275fac=function(r){return new(r||e)(_(Mt),_(Dt),_(Tn),_(bo),_(wl,8))}}static{this.\u0275dir=L({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(1&r&&function Ib(e,t,n,r){fv(e,t,n,r)}(o,wl,5),2&r){let l;(function Sb(e){const t=D(),n=Y(),r=zc();Sa(r+1);const i=yp(n,r);if(e.dirty&&function VI(e){return!(4&~e[x])}(t)===!(2&~i.metadata.flags)){if(null===i.matches)e.reset([]);else{const o=mv(t,r);e.reset(o,ig),e.notifyOnChanges()}return!0}return!1})(l=Mb())&&(i.links=l)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[xt]})}}return e})();const Ah=new A("");function _9(e){return e.routerState.root}function I9(){const e=I(dt);return t=>{const n=e.get(Wn);if(t!==n.components[0])return;const r=e.get(Mt),i=e.get(S9);1===e.get(Th)&&r.initialNavigation(),e.get(M9,null,Z.Optional)?.setUpPreloading(),e.get(Ah,null,Z.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const S9=new A("",{factory:()=>new At}),Th=new A("",{providedIn:"root",factory:()=>1}),M9=new A("");let T9=(()=>{class e{constructor(n){this.router=n,this.routerUrl=this.router.url,this.title="Angular"}ngOnInit(){console.log("je suis angular component path : "+this.routerUrl)}static{this.\u0275fac=function(r){return new(r||e)(_(Mt))}}static{this.\u0275cmp=$({type:e,selectors:[["app-angular"]],standalone:!0,features:[H],decls:1,vars:0,template:function(r,i){1&r&&j(0,"router-outlet")},dependencies:[Jn],encapsulation:2})}}return e})();const F8=["*"];let Ft=(()=>{class e{constructor(){this.title=rg("mon titre")}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-callout-section"]],inputs:{title:[de.SignalBased,"title"]},standalone:!0,features:[H],ngContentSelectors:F8,decls:6,vars:1,consts:[[1,"underline"],[1,"pink-purple-txt"],[1,"fa-solid","fa-circle-info","pink-purple-txt"]],template:function(r,i){1&r&&(function mb(e){const t=D()[De][We];if(!t.projection){const r=t.projection=function fa(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(e?e.length:1,null),i=r.slice();let o=t.child;for(;null!==o;){const l=e?tR(o,e):0;null!==l&&(i[l]?i[l].projectionNext=o:r[l]=o,i[l]=o),o=o.next}}}(),u(0,"div")(1,"span",0)(2,"p",1),j(3,"i",2),s(4),a()(),function gb(e,t=0,n){const r=D(),i=Y(),o=hi(i,V+e,16,null,n||null);null===o.projection&&(o.projection=t),Bc(),(!r[bt]||ni())&&32&~o.flags&&function oA(e,t,n){pE(t[P],0,t,n,Ld(e,n,t),oE(n.parent||t[We],n,t))}(i,r,o)}(5),a()),2&r&&(Nt(4),ki(" ",i.title()," :"))}})}}return e})(),L8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-introduction"]],standalone:!0,features:[H],decls:103,vars:0,consts:[[1,"pink-purple-txt"],["title","D\xe9finitions"],["href","https://nodejs.org/fr"],["title","CLI : Command Line Interface"],["href","https://docs.npmjs.com/resolving-eacces-permissions-errors-when-installing-packages-globally"],[1,"label"],[1,"langage-bash"],[1,"langage-json"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Introduction"),a(),u(2,"p"),s(3,"Angular est un "),u(4,"span",0),s(5,"framework"),a(),s(6," JavaScript qui permet de d\xe9velopper des "),u(7,"span",0),s(8,"SPA"),a(),s(9," (Single Page Application)."),a(),u(10,"app-callout-section",1)(11,"p")(12,"span",0),s(13,"SPA :"),a(),s(14," application qui tournent dans "),u(15,"span",0),s(16,"une seule page HTML"),a(),s(17," gr\xe2ce au Javascript."),a(),u(18,"p")(19,"span",0),s(20,"Framework :"),a(),s(21," ensemble d'outils et de composants \xe0 partir desquels on peut d\xe9velopper des applications."),a()(),u(22,"p"),s(23,"Angular passe par "),u(24,"span",0),s(25,"3 langages"),a(),s(26," principaux :"),a(),u(27,"ul")(28,"li"),s(29,"HTML"),a(),u(30,"li"),s(31,"SCSS"),a(),u(32,"li"),s(33,"TypeScript : permet un typage strict"),a()(),u(34,"p"),s(35,"Les avantages d'Angular :"),a(),u(36,"ul")(37,"li")(38,"span",0),s(39,"Framework"),a(),s(40," complet (pas besoin de librairie suppl\xe9mentaire"),a(),u(41,"li"),s(42,"Permet de mettre en place les "),u(43,"span",0),s(44,"bonnes pratiques"),a()(),u(45,"li"),s(46,"Con\xe7u pour fonctionner avec "),u(47,"span",0),s(48,"TypeScript"),a()()(),u(49,"h3"),s(50,"Les d\xe9pendances"),a(),u(51,"ul")(52,"li")(53,"a",2),s(54,"Node"),a()(),u(55,"li"),s(56,"Npm"),a()(),u(57,"app-callout-section",1)(58,"p")(59,"span",0),s(60,"LTS"),a(),s(61," (Long Term Support) : une version stable sp\xe9cifique qui b\xe9n\xe9ficiera de support pendant plus longtemps qu'une version standard."),a()(),u(62,"h3"),s(63,"Installer le CLI"),a(),u(64,"app-callout-section",3)(65,"p"),s(66,"\u26a0\ufe0f Sous MAC : possible erreur de gestion de droits. "),u(67,"a",4),s(68,"DOC"),a()()(),u(69,"pre"),s(70," "),u(71,"span",5),s(72,"Bash"),a(),s(73,"\n  "),u(74,"code",6),s(75,"\n    // install le CLI de mani\xe8re g\xe9n\xe9rale\n    npm i -g @angular/cli\n\n    // version\n    ng v\n\n    => ng correspond au CLI d'Angular\n  "),a(),s(76,"\n"),a(),u(77,"h3"),s(78,"Nouvelle application"),a(),u(79,"pre"),s(80,"  "),u(81,"span",5),s(82,"Bash"),a(),s(83,"\n  "),u(84,"code",6),s(85,"\n    // install le projet dans le dossier dans lequel on se trouve\n    ng new mon-projet --directory ./\n\n    // install le projet et cr\xe9e un nouveau dossier avec le nom du projet\n    ng new mon-projet  --style=scss --skip-tests=true\n\n    'flag' : --style\n\n    // lancer le serveur de d\xe9veloppement\n    ng serve --o\n\n    // l'application s'ouvre \xe0 l'adresse :\n    localhost:4200\n\n    '--o' permet d'ouvrir l'application dans le navigateur\n  "),a(),s(86,"\n"),a(),u(87,"h3"),s(88,"Probl\xe8me de route pour les images"),a(),u(89,"p"),s(90,"L'architecture d'Angular \xe0 \xe9t\xe9 modifi\xe9 dans les versions plus r\xe9centes (V17)"),a(),u(91,"p"),s(92,'Soit il faut mettre les images dans le dossier "public", comme indiqu\xe9 dans le fichier angular.json'),a(),u(93,"p"),s(94,"Soit modifier ce fichier"),a(),u(95,"pre"),s(96,"  "),u(97,"span",5),s(98,"json"),a(),s(99,"\n  "),u(100,"code",7),s(101,'\n    // angular.json\n    "assets": [\n      {\n      "glob": "**/*",\n      "input": "src/assets",\n      "output": "/assets/"\n      // cette ligne est pour la pwa\n      "src/manifest.webmanifest"\n       }\n     ],\n  '),a(),s(102,"\n"),a())},dependencies:[Ft],encapsulation:2})}}return e})(),k8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-component"]],standalone:!0,features:[H],decls:92,vars:0,consts:[[1,"pink-purple-txt"],[1,"label"],[1,"fa-solid","fa-file","pink-purple-txt"],[1,"language-typescript"],["title","Informations"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Component"),a(),u(2,"p"),s(3,"Les composants sont la base d'une application Angular."),a(),u(4,"p"),s(5,"Ce sont des balises HTML personnalis\xe9es"),a(),u(6,"p"),s(7,"Une application peut-\xeatre vue comme une "),u(8,"span",0),s(9,"arborescence de composants"),a(),s(10,", avec "),u(11,"span",0),s(12,"AppComponent"),a(),s(13," comme composant racine."),a(),u(14,"p"),s(15,"Un composant est r\xe9utilisable."),a(),u(16,"h3"),s(17,"Cr\xe9er un composant"),a(),u(18,"pre"),s(19,"  "),u(20,"span",1),s(21,"Bash"),a(),s(22,"\n  "),u(23,"code"),s(24,"\n    ng generate component mon-composant\n\n    ng g c mon-composant\n  "),a(),s(25,"\n"),a(),u(26,"p"),s(27,"Un composant contient 3 ou 4 "),j(28,"i",2),s(29," fichiers : "),a(),u(30,"ul")(31,"li"),s(32,"HTML => Template"),a(),u(33,"li"),s(34,"TS"),a(),u(35,"li"),s(36,"CSS/SCSS/..."),a(),u(37,"li"),s(38,"spec : "),j(39,"i",2),s(40," fichier de test"),a()(),u(41,"pre"),s(42,"  "),u(43,"span",1),s(44,"TypeScript"),a(),s(45,"\n  "),u(46,"code",3),s(47,"\n    import { Component } from '@angular/core';\n\n    @Component({\n      selector: 'app-component',\n      templateUrl: './component.component.html',\n      styleUrls: ['./component.component.scss']\n    })\n\n    export class AngularIntroductionComponent {\n      title = 'Mon post'\n    }\n\n    // HTML\n    {"),u(48,"span"),s(49,"{"),a(),s(50," title }}\n  "),a(),s(51,"\n"),a(),u(52,"app-callout-section",4)(53,"p"),s(54,"La classe est d\xe9clar\xe9e avec un d\xe9corateur "),u(55,"span",0),s(56,"@Component"),a()(),u(57,"p"),s(58,"Un "),u(59,"span",0),s(60,"@D\xe9corateur"),a(),s(61," permet d'apporter des "),u(62,"span",0),s(63,"modifications"),a(),s(64," \xe0 une classe."),a(),u(65,"p")(66,"span",0),s(67,"title = 'Mon post'"),a(),s(68," est un attribut de la class AppComponant."),a(),u(69,"p"),s(70,"Lorsque l'on d\xe9clare un "),u(71,"span",0),s(72,"attribut de classe"),a(),s(73," il n'est pas pr\xe9c\xe9d\xe9 de "),u(74,"span",0),s(75,"let, const, ..."),a()()(),u(76,"p"),s(77,"Pour \xeatre utilis\xe9, un composant doit \xeatre d\xe9clar\xe9 dans "),j(78,"i",2),s(79," app.module.ts"),a(),u(80,"p")(81,"span",0),s(82,"app-module.ts"),a(),s(83," est le module principal de l'application."),a(),u(84,"pre"),s(85,"  "),u(86,"span",1),s(87,"TypeScript"),a(),s(88,"\n  "),u(89,"code",3),s(90,"\n    import { NgModule } from '@angular/core';\n    import { BrowserModule } from '@angular/platform-browser';\n\n    import { AppComponent } from './app.component';\n    import { PostComponent } from './post/post.component';\n\n    @NgModule({\n      declarations: [\n        AppComponent,\n        MonComponent,\n      ],\n      imports: [\n        BrowserModule\n      ],\n      providers: [],\n      bootstrap: [AppComponent]\n    })\n    export class AppModule { }\n  "),a(),s(91,"\n"),a())},dependencies:[Ft],encapsulation:2})}}return e})(),q8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-templates"]],standalone:!0,features:[H],decls:183,vars:0,consts:[[1,"pink-purple-txt"],[1,"label"],[1,"language-typescript"],[1,"definition"],[1,"fa-solid","fa-circle-info","pink-purple-txt"],[1,"language-html"],[1,"file-name"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Templates"),a(),u(2,"p"),s(3,"En Angular, il y a 2 fa\xe7ons principales d'exploiter une donn\xe9e venant du TypeScript dans le Template."),a(),u(4,"ul")(5,"li",0),s(6,"String interpolation"),a(),u(7,"li",0),s(8,"Attribute binding"),a()(),u(9,"p"),s(10,'Pour initialiser les propri\xe9t\xe9s en suivant les "best practices Angular", on utilise la m\xe9thode '),u(11,"span",0),s(12,"ngOnInit()"),a(),s(13,"."),a(),u(14,"p"),s(15,"Pour l'utiliser, il faut impl\xe9menter l'"),u(16,"span",0),s(17,"interface OnInit"),a()(),u(18,"pre"),s(19,"  "),u(20,"span",1),s(21,"TypeScript"),a(),s(22,"\n  "),u(23,"code",2),s(24,"\n    import { Component, OnInit} from '@angular/core';\n\n    @Component({\n        selector: 'app-post',\n        templateUrl: './post.component.html',\n        styleUrls: ['./post.component.scss']\n    })\n    export class PostComponent implements OnInit {\n\n      // Propri\xe9t\xe9s\n      // On cr\xe9e un attribut de class en associant le nom de l'attribut \xe0 son type\n      // ! => bang : non-null assertion operator = signify que l'op\xe9rande est non nul et non ind\xe9fini\n      // L'op\xe9ration x! produit une valeur du type de x avec null et undefined exclus\n      public title!: string;\n      public description!:string;\n      public createdDate!: Date;\n      public like!: number;\n\n      ngOnInit() {\n        this.title = 'Chippie';\n        this.description = 'encore en train de dormir ...';\n        this.createdDate = new Date();\n        this.like = 6;\n      }\n    }\n    "),a(),s(25,"\n"),a(),u(26,"div",3),j(27,"i",4),u(28,"p"),s(29,"La m\xe9thode "),u(30,"span",0),s(31,"ngOnInit()"),a(),s(32," est appel\xe9e automatiquement par Angular au moment de la "),u(33,"span",0),s(34,"cr\xe9ation de chaque instance"),a(),s(35," du composant."),a(),u(36,"p"),s(37,"Elle permet d'initialiser des propri\xe9t\xe9s"),a()(),u(38,"h3"),s(39,"Afficher des valeurs avec l'interpolation"),a(),u(40,"pre"),s(41,"  "),u(42,"span",1),s(43,"HTML"),a(),s(44,"\n  "),u(45,"code",5),s(46,"\n    "),u(47,"span"),s(48,"{{"),a(),s(49," title }}\n    "),u(50,"span"),s(51,"<"),a(),s(52,'img src ="'),u(53,"span"),s(54,"{{"),a(),s(55,' imageUrl }}" alt="'),u(56,"span"),s(57,"{{"),a(),s(58,' title }}">\n  '),a(),s(59,"\n"),a(),u(60,"h3"),s(61,"Afficher des valeurs avec la liaison par attribut (attribut binding)"),a(),u(62,"p"),s(63,"Pr\xe9f\xe9rable si la propri\xe9t\xe9 n'est pas un string (number)"),a(),u(64,"pre"),s(65,"  "),u(66,"span",1),s(67,"HTML"),a(),s(68,"\n  "),u(69,"code",5),s(70,"\n    "),u(71,"span"),s(72,"<"),a(),s(73,'img [src]="imageUrl" [alt]="title">\n  '),a(),s(74,"\n"),a(),u(75,"h3"),s(76,"R\xe9agir aux \xe9v\xe8nement (Template statements)"),a(),u(77,"p"),s(78,"Ce sont des m\xe9thodes ou propri\xe9t\xe9s que l'on utilise dans le HTML pour r\xe9pondre \xe0 un \xe9v\xe8nement."),a(),u(79,"pre"),s(80,"  "),u(81,"span",1),s(82,"HTML"),a(),s(83,"\n  "),u(84,"code",5),s(85,'\n    (event)="statement()"\n    '),u(86,"span"),s(87,"<"),a(),s(88,'button (click)="onLike()">like'),u(89,"span"),s(90,"<"),a(),s(91,"/button>\n  "),a(),s(92,"\n"),a(),u(93,"pre"),s(94,"  "),u(95,"span",1),s(96,"TS"),a(),s(97,"\n  "),u(98,"code",2),s(99,"\n    onLike() "),u(100,"span"),s(101,"{"),a(),s(102,"\n      if(this.liked === false) "),u(103,"span"),s(104,"{"),a(),s(105,"\n        this.like++\n        this.liked = true\n      } else "),u(106,"span"),s(107,"{"),a(),s(108,"\n        this.like--\n        this.liked = false\n      }\n    }\n  "),a(),s(109,"\n"),a(),u(110,"p"),s(111,"Le nom de la m\xe9thode qui commence par "),u(112,"span",0),s(113,"on"),a(),s(114," signale qu'elle r\xe9pond \xe0 un "),u(115,"span",0),s(116,"\xe9v\xe8nement"),a()(),u(117,"p"),s(118,"Quand l'utilisateur click sur le bouton, Angular appelle la m\xe9thode "),u(119,"span",0),s(120,"onLike()"),a(),s(121," dans la class du composant."),a(),u(122,"div",3)(123,"p"),s(124,"La r\xe9ponse aux \xe9v\xe8nements est un aspect du flux de donn\xe9es unidirectionnel d'Angular."),a()(),u(125,"h3"),s(126,"Envoyer des donn\xe9es \xe0 un component enfant"),a(),u(127,"p"),s(128,"Angular permet d'ajouter des "),u(129,"span",0),s(130,"propri\xe9t\xe9s personnalis\xe9es"),a(),s(131," aux components de mani\xe8re \xe0 pouvoir les injecter "),u(132,"span",0),s(133,"depuis le component parent"),a(),s(134,"."),a(),u(135,"p"),s(136,"Cr\xe9er un type personnalis\xe9 sous forme de classe : "),a(),u(137,"pre"),s(138,"  "),u(139,"label",1),s(140,"TS"),a(),s(141,"\n  "),u(142,"code",2),s(143,'\n    // Cr\xe9er un dossier models, et un fichier "mon-type.model.ts"\n    export class PostModel {\n      constructor(\n        public title:string,\n        public profilPicture:string,\n        public author:string,\n        public description:string,\n        public createdDate:Date,\n        public img:string,\n        public like:number\n      ) {}\n}\n  '),a(),s(144,"\n"),a(),u(145,"p"),s(146,"Le "),u(147,"span",0),s(148,"d\xe9corateur @Input()"),a(),s(149," dans un component ou une directive enfant signifie que la propri\xe9t\xe9 peut recevoir sa valeur depuis son component parent."),a(),u(150,"p"),s(151,"Pour utiliser "),u(152,"span",0),s(153,"@Input()"),a(),s(154,", il faut configurer le parent et l'enfant."),a(),u(155,"h4"),s(156,"Configurer le component enfant : "),a(),u(157,"pre"),s(158,"  "),u(159,"label",6),s(160,"\u{1f4c4} enfant.component.ts"),a(),s(161,"\n  "),u(162,"code",2),s(163,"\n    // Importer Input\n    import {Component, Input, OnInit} from '@angular/core';\n    import {PostModel} from \"../../models/post.model\";\n\n    export class PostComponent implements OnInit {\n      // Ajouter @Input \xe0 la propri\xe9t\xe9\n      @Input() post!: PostModel;\n    }\n  "),a(),s(164,"\n"),a(),u(165,"h4"),s(166,"Configurer le component parent : "),a(),u(167,"pre"),s(168,"  "),u(169,"label",6),s(170,"\u{1f4c4} parent.component.html"),a(),s(171,"\n  "),u(172,"code",5),s(173,'\n    // Utiliser le s\xe9lecteur enfant et la propri\xe9t\xe9 de binding\n    <app-post [post] = "post1"></app-post>\n  '),a(),s(174,"\n"),a(),u(175,"pre"),s(176,"  "),u(177,"label",6),s(178,"\u{1f4c4} app.component.ts"),a(),s(179,"\n  "),u(180,"code",2),s(181,"\n    public post1!:PostModel\n\n    // Dans le component parent, assigner une valeur au component parent.\n    this.post1 = new PostModel(\n    'mon titre',\n    new Date(),\n    6,\n  )\n  "),a(),s(182,"\n"),a())},encapsulation:2})}}return e})(),V8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-directives"]],standalone:!0,features:[H],decls:149,vars:0,consts:[[1,"pink-purple-txt"],[1,"label"],[1,"language-html"],[1,"name"],[1,"definition"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Directives"),a(),u(2,"p"),s(3,"Les directives sont des classes qui ajouent des comportement aux \xe9l\xe9ments"),a(),u(4,"h3"),s(5,"Les directives d'attributs"),a(),u(6,"p"),s(7,"Les directives d'attributs \xe9coutent et modifient le comportement d'autres \xe9l\xe9ments, attributs, propri\xe9t\xe9s et component html"),a(),u(8,"ul")(9,"li"),s(10,"NgClass => ajoute et supprime un ensemble de class CSS "),a(),u(11,"li"),s(12,"NgStyle => ajoute et supprime un ensemble de style HTML"),a(),u(13,"li"),s(14,"NgModel => ajoute une liaison de donn\xe9es bidirectionnelle \xe0 un \xe9l\xe9ment de formulaire HTML"),a()(),u(15,"h4"),s(16,"NgClass"),a(),u(17,"p"),s(18,"Ajouter ou supprimer des classes simultan\xe9ment avec ngClass"),a(),u(19,"p",0),s(20,"Utiliser ngClass avec une expression"),a(),u(21,"pre"),s(22,"  "),u(23,"label",1),s(24,"HTML"),a(),s(25,"\n  "),u(26,"code",2),s(27,"\n     "),u(28,"span"),s(29,"<"),a(),s(30,"div [ngClass]=\"isSpecial ? 'special' : ''\">This div is special "),u(31,"span"),s(32,"<"),a(),s(33,"/div>\n  "),a(),s(34,"\n"),a(),u(35,"p",0),s(36,"Utiliser ngClass avec une m\xe9thode"),a(),u(37,"p"),s(38,"..."),a(),u(39,"h4"),s(40,"NgStyle"),a(),u(41,"p"),s(42,"On utilise ngStyle pour d\xe9finir plusieurs styles in line simultan\xe9ment, en fonction de l'\xe9tat du component"),a(),u(43,"pre"),s(44,"  "),u(45,"label",1),s(46,"HTML"),a(),s(47,"\n  "),u(48,"code",2),s(49,"\n   "),u(50,"span"),s(51,"<"),a(),s(52,"span [ngStyle]=\"{ color: 'rgb(0, ' + faceSnap.snaps + ', 0)' }\">\u{1f90c} "),u(53,"span"),s(54,"{{"),a(),s(55," faceSnap.snaps }}"),u(56,"span"),s(57,"<"),a(),s(58,"/span>\n  "),a(),s(59,"\n"),a(),u(60,"h3"),s(61,"Les directives structurelles"),a(),u(62,"p"),s(63,"Les directives structurelles changent le DOM en ajoutant ou supprimant des \xe9l\xe9ments."),a(),u(64,"p"),s(65,"Angular fournit un ensemble de directives structurelles comme NgIF, NgForOf, NgSwitch en d'autres."),a(),u(66,"h3"),s(67,"Syntaxe"),a(),u(68,"pre"),s(69,"  "),u(70,"label",1),s(71,"html"),a(),s(72,"\n  "),u(73,"code",2),s(74,"\n    "),u(75,"span"),s(76,"<"),a(),s(77,'p *ngIf="post.location">Localisation : '),u(78,"span"),s(79,"{{"),a(),s(80,"post.location}}"),u(81,"span"),s(82,"<"),a(),s(83,"/p>\n     "),u(84,"span"),s(85,"<"),a(),s(86,"!--possibilit\xe9 de faire un filtre--\x3e\n    "),u(87,"span"),s(88,"<"),a(),s(89,'p *ngIf="post.location === \'Paris">Localisation : '),u(90,"span"),s(91,"{{"),a(),s(92,"post.location}}"),u(93,"span"),s(94,"<"),a(),s(95,"/p>\n  "),a(),s(96,"\n"),a(),u(97,"p"),s(98,"Angular cr\xe9e un \xe9l\xe9ment "),u(99,"span"),s(100,"<"),a(),s(101,"ng-template> et applique la directive *ngIf. Le reste de la "),u(102,"span"),s(103,"<"),a(),s(104,"div> est plac\xe9 \xe0 l'int\xe9rieur"),a(),u(105,"pre"),s(106,"  "),u(107,"label",1),s(108,"html"),a(),s(109,"\n  "),u(110,"code",2),s(111,"\n   "),u(112,"span"),s(113,"<"),a(),s(114,'ng-template [ngIf]="post.location">\n      '),u(115,"div",3)(116,"span"),s(117,"{{"),a(),s(118,"post.location}}"),a(),s(119,"\n    "),u(120,"span"),s(121,"<"),a(),s(122,"/ng-template>\n  "),a(),s(123,"\n"),a(),u(124,"pre"),s(125,"  "),u(126,"label",1),s(127,"html"),a(),s(128,"\n  "),u(129,"code",2),function Cm(){F.bindingsEnabled=!1}(),s(130,"\n   "),u(131,"span"),s(132,"<"),a(),s(133,'div *ngFor="let hero of heroes;\n                    let i=index;\n                    let odd=odd;\n                    trackBy: trackById"\n                    [class.odd]="odd">\n      ('),u(134,"span"),s(135,"{{"),a(),s(136,"i}}) "),u(137,"span"),s(138,"{{"),a(),s(139,"hero.name}}\n   "),u(140,"span"),s(141,"<"),a(),s(142,"/div>\n  "),function bm(){F.bindingsEnabled=!0}(),a(),s(143,"\n"),a(),u(144,"div",4)(145,"p"),s(146,"Une seule directive structurelle par \xe9l\xe9ment"),a(),u(147,"p"),s(148,"Placer le *ngIf sur un \xe9l\xe9ment conteneur qui encapsule l'\xe9l\xe9ment *ngFor."),a()())},encapsulation:2})}}return e})(),j8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-pipes"]],standalone:!0,features:[H],decls:68,vars:0,consts:[[1,"file-name"],[1,"language-typescript"],[1,"label"],[1,"language-html"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Les pipes"),a(),u(2,"p"),s(3,"Les pipes sont des fonctions qui utilisent une expression qui accepte une valeur en entr\xe9e et retourne une valeur transform\xe9e. "),a(),u(4,"ul")(5,"li"),s(6,"AsyncPipe"),a(),j(7,"br"),u(8,"li"),s(9,"DatePipe"),a(),j(10,"br"),u(11,"li"),s(12,"UpperCasePipe"),a(),u(13,"li"),s(14,"LowerCasePipe"),a(),u(15,"li"),s(16,"TitleCasePipe"),a(),j(17,"br"),u(18,"li"),s(19,"CurrencyPipe"),a(),u(20,"li"),s(21,"DecimalPipe"),a(),u(22,"li"),s(23,"PercentPipe"),a()(),u(24,"h3"),s(25,"Format date en Fran\xe7ais"),a(),u(26,"pre"),s(27,"  "),u(28,"label",0),s(29,"\u{1f4c4} app.module.ts"),a(),s(30,"\n  "),u(31,"code",1),s(32,"\n    import {LOCALE_ID, NgModule} from '@angular/core';\n\n    import { registerLocaleData } from '@angular/common';\n    import * as fr from '@angular/common/locales/fr';\n\n    providers: [{provide: LOCALE_ID, useValue: 'fr-FR' }],\n\n    export class AppModule {\n      constructor() {\n        registerLocaleData(fr.default);\n      }\n    }\n  "),a(),s(33,"\n"),a(),u(34,"h3"),s(35,"Les nombres"),a(),u(36,"pre"),s(37,"  "),u(38,"label",2),s(39,"HTML"),a(),s(40,"\n  "),u(41,"code",3),s(42,"\n    <p>"),u(43,"span"),s(44,"{{"),a(),s(45," 4346234.36 | number }}</p>  \x3c!--4346234,36--\x3e\n\n    \x3c!--entier le plus proche--\x3e\n    <p>"),u(46,"span"),s(47,"{{"),a(),s(48," 4346234.36 | number: '1.0-0' }}</p>\n\n    \x3c!--un chiffre apr\xe8s la ,--\x3e\n    <p>"),u(49,"span"),s(50,"{{"),a(),s(51," 4346234.36 | number: '1.0-1' }}</p>\n\n    <p>"),u(52,"span"),s(53,"{{"),a(),s(54," 0.336 | percent }}</p>  \x3c!-- 34% --\x3e\n\n    <p>"),u(55,"span"),s(56,"{{"),a(),s(57," 0.336 | percent: '1.0-1' }}</p>  \x3c!-- 33,6% --\x3e\n\n    <p>"),u(58,"span"),s(59,"{{"),a(),s(60," 344.36 | currency }}</p>  \x3c!-- 344,36 $US --\x3e\n\n    <p>"),u(61,"span"),s(62,"{{"),a(),s(63," 344.36 | currency: 'EUR' }}</p>  \x3c!-- 344,36 \u20ac --\x3e\n\n    <p>"),u(64,"span"),s(65,"{{"),a(),s(66," 344.36 | currency: 'EUR' : 'code' }}</p>  \x3c!-- 344,36 EUR --\x3e\n  "),a(),s(67,"\n"),a())},encapsulation:2})}}return e})(),U8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-services"]],standalone:!0,features:[H],decls:83,vars:0,consts:[[1,"label"],[1,"definition"],[1,"file-name"],[1,"pink-purple-txt"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Les services"),a(),u(2,"p"),s(3,"Ils permettent de :"),a(),u(4,"ul")(5,"li"),s(6,"mieux organiser l'application"),a(),u(7,"li"),s(8,"\xe9viter de se r\xe9p\xe9ter"),a(),u(9,"li"),s(10,"avoir toujours des donn\xe9es \xe0 jour"),a(),u(11,"li"),s(12,"centraliser les donn\xe9es"),a()(),u(13,"p"),s(14,"G\xe9n\xe9rer un service : "),a(),u(15,"pre"),s(16,"   "),u(17,"label",0),s(18,"BASH"),a(),s(19,"\n  "),u(20,"code"),s(21,"\n    ng g s nom-de-mon-service\n  "),a(),s(22,"\n"),a(),u(23,"p"),s(24,"Un service est une class, pour le d\xe9clarer on utilise le d\xe9corateur @Injectable()"),a(),u(25,"pre"),s(26,"  "),u(27,"label",0),s(28,"TS"),a(),s(29,"\n  "),u(30,"code"),s(31,"\n    import { Injectable } from '@angular/core';\n\n    // d\xe9corateur\n    @Injectable({\n        // permet d'enregistrer le service \xe0 la racine du projet.\n        providedIn: 'root'\n    })\n    export class PostsService {\n\n        constructor() { }\n    }\n  "),a(),s(32,"\n"),a(),u(33,"p"),s(34,"Les services n'ont pas de m\xe9thode ngOnInit() car ils ne sont pas instanti\xe9s de la m\xeame mani\xe8re que les composants."),a(),u(35,"p"),s(36,"Pour utiliser un service dans un component, il faut utiliser le syst\xe8me d'injection de d\xe9pendances fournit par Angular."),a(),u(37,"p"),s(38,"Il faut passer un argument du type service au constructor du component, Angular met \xe0 disposition la bonne instance du service"),a(),u(39,"pre"),s(40,"  "),u(41,"label",0),s(42,"TS"),a(),s(43,"\n  "),u(44,"code"),s(45,'\n    import {PostsService} from "../../services/posts.service";\n    //...\n    export class PostListComponent implements OnInit {\n\n      public posts!: PostModel[];\n\n      constructor(\n      // ajouter un modificateur d"acc\xe8s (private) \xe0 un argument du constructor cr\xe9e une propri\xe9t\xe9 avec ce nom dans la classe. On a donc acc\xe8s au service via la propri\xe9t\xe9 PostsService\n        private postsService: PostsService\n      )\n    { }\n\n    ngOnInit(): void  {\n      this.posts = this.postsService.posts\n    }\n  '),a(),s(46,"\n"),a(),u(47,"div",1),j(48,"i"),u(49,"p"),s(50,'On pr\xe9f\xe8re "private" pour les injections de service, car \xe7a emp\xeache le template du component d\'y acc\xe9der directement.'),a(),u(51,"p"),s(52,"Donner au template un acc\xe8s aux injections serait un anti-pattern Angular."),a()(),u(53,"pre"),s(54,"  "),u(55,"label",0),s(56,"service.TS"),a(),s(57,"\n  "),u(58,"code"),s(59,"\n    // cr\xe9ation d'une m\xe9thode\n    // ne pas oublier de pr\xe9ciser le type de retour (: PostModel[])\n    public getAllPosts(): PostModel[]{\n      return this.posts\n    }\n\n    public  getPostById(postId:number): PostModel {\n      const post = this.posts.find(post => post.id === postId)\n      if (!post){\n        throw new Error('Post not found')\n      } else {\n        return post\n      }\n    }\n\n    // ici on utilise un literal type\n    public likePostById(postId:number, isLiked: 'like' | 'unlike'): void {\n      const post = this.getPostById(postId)\n      isLiked ==='like' ? post.like++ : post.like--\n    }\n  "),a(),s(60,"\n"),a(),u(61,"pre"),s(62,"  "),u(63,"label",0),s(64,"TS"),a(),s(65,"\n  "),u(66,"code"),s(67,"\n    ngOnInit(): void {\n      // utilisation de la m\xe9thode\n      this.posts = this.postsService.getAllPosts()\n    }\n  "),a(),s(68,"\n"),a(),u(69,"pre"),s(70,"  "),u(71,"label",2),s(72,"\u{1f4c4} post.component.ts"),a(),s(73,"\n  "),u(74,"code"),s(75,"\n    onLike() {\n    if(this.liked === false) {\n      this.postService.likePostById(this.post.id, 'like')\n      this.liked = true\n    } else {\n      this.postService.likePostById(this.post.id, 'unlike')\n      this.liked = false\n    }\n  }\n  "),a(),s(76,"\n"),a(),u(77,"div",1)(78,"p"),s(79,"Ce genre d'architecture "),u(80,"span",3),s(81,"modulaire"),a(),s(82," est l'un des gros points forts d'Angular"),a()())},encapsulation:2})}}return e})(),B8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-routing"]],standalone:!0,features:[H],decls:72,vars:0,consts:[[1,"file-name"],[1,"label"],[1,"definition"],[1,"pink-purple-txt"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Routing et navigation"),a(),u(2,"p"),s(3,"Les Single Page Applications permettent une meilleure performance car il n'y a pas besoin de demander, recevoir puis afficher une nouvelle page HTML \xe0 chaque chagement d'URL. Avec Angular, chaque URL correspond un component, et Angular remplace le component actif sans \xe9mettre de requ\xeate au serveur."),a(),u(4,"p"),s(5,"Ajouter un module de routing au dossier app : app-routing.module.ts"),a(),u(6,"pre"),s(7,"  "),u(8,"label",0),s(9,"app-routing.module.ts"),a(),s(10,"\n  "),u(11,"code"),s(12,"\n    import { NgModule} from \"@angular/core\";\n    import { RouterModule, Routes} from \"@angular/router\";\n    import { PostListComponent} from \"./components/post-list/post-list.component\";\n    import { PageNotFoundComponent} from \"./page-not-found/page-not-found.component\";\n\n    const routes: Routes = [\n      // Permet de lier les routes aux components\n      { path: 'posts', component: PostListComponent},\n      // redirection\n      { path: '', redirectTo: '/posts', pathMatch:'full'},\n      // wild card 404\n      { path: '**', component: PageNotFoundComponent }\n    ]\n\n    @NgModule(\n      {\n        // permet d'enregistrer les routes dans l'application\n        imports: [\n          // on indique que les routes de ce fichier sont \xe0 la racine de l'application\n          RouterModule.forRoot(routes)\n        ],\n        // on export le routeur configur\xe9\n        exports:[\n          RouterModule\n        ]\n      }\n    )\n\n    export class AppRoutingModule {}\n\n  "),a(),s(13,"\n"),a(),u(14,"p"),s(15,"Puis ajouter le router-outlet"),a(),u(16,"pre"),s(17,"  "),u(18,"label",0),s(19,"app-component.html"),a(),s(20,"\n  "),u(21,"code"),s(22,"\n    <app-header></app-header>\n    <router-outlet></router-outlet>\n  "),a(),s(23,"\n"),a(),u(24,"h2"),s(25,"RouterLink (HTML)"),a(),u(26,"pre"),s(27,"  "),u(28,"label",1),s(29,"HTML"),a(),s(30,"\n  "),u(31,"code"),s(32,'\n    <nav class="navigation d-flex f-column m-1">\n      // routerLinlk : indique la route,\n      // routerLinkActive : permet de mettre en avant le lien actif\n      // [routerLinkActiveOptions]=" {exact: true}" : n\xe9cessaire pour diff\xe9rencier les enfants de la route\n      <a routerLink="posts" routerLinkActive="active" [routerLinkActiveOptions]=" {exact: true}"><i class="fa-solid fa-house fa-lg "></i></a>\n      <a routerLink="user" routerLinkActive="active" [routerLinkActiveOptions]=" {exact: true}"><i class="fa-solid fa-circle-user fa-lg"></i></a>\n    </nav>\n  '),a(),s(33,"\n"),a(),u(34,"div",2)(35,"p")(36,"span",3),s(37,"routerLink"),a(),s(38," est une "),u(39,"span",3),s(40,"directive"),a()()(),u(41,"h2"),s(42,"Naviger avec le Router (TS)"),a(),u(43,"pre"),s(44,"  "),u(45,"label",1),s(46,"HTML"),a(),s(47,"\n  "),u(48,"code"),s(49,'\n    <button (click)="onContinue()">Continuer vers les posts</button>\n  '),a(),s(50,"\n"),a(),u(51,"pre"),s(52,"  "),u(53,"label",1),s(54,"TS"),a(),s(55,"\n  "),u(56,"code"),s(57,"\n    import { Router } from '@angular/router';\n    //...\n    // injecter le router\n    constructor(private router: Router) { }\n\n    onContinue() {\n      this.router.navigateByUrl('posts');\n    }\n  "),a(),s(58,"\n"),a(),u(59,"h2"),s(60,"Activer les routes avec ActivatedRoute"),a(),u(61,"p"),s(62,"Permet de cr\xe9er des routes avec un param\xe8tre (id) pour visualiser un seul post"),a(),u(63,"pre"),s(64,"  "),j(65,"label",1),s(66,"\n  "),u(67,"code"),s(68,"\n    export class SinglePostComponent implements OnInit {\n\n    public post!: PostModel;\n    public liked:boolean=false\n    public saved:boolean=false\n\n    constructor(private postService: PostsService,\n                private route: ActivatedRoute) {}\n\n  ngOnInit(): void {\n    // les param\xe8tres d'une route sont de type string.\n    // '+' est un type cast qui transforme une string en number\n    // cast = changer le type d'une variable\n    const postId = +this.route.snapshot.params['id']\n    this.post = this.postService.getPostById(postId)\n  }\n  "),a(),s(69,"\n"),a(),u(70,"div",2),s(71," Pour r\xe9aliser un lien de retour (page pr\xe9c\xe9dente), il ne faut pas oublier le / avant le chemin. Sinon Angular l'ajoute \xe0 la suite de la route. localhost:4200/post/3/post\n"),a())},encapsulation:2})}}return e})(),$8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-observables"]],standalone:!0,features:[H],decls:7,vars:0,consts:[[1,"pink-purple-txt"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Observables"),a(),u(2,"p"),s(3,"La gestion de "),u(4,"span",0),s(5,"l'asynchrone"),a(),s(6," se fait g\xe9n\xe9ralement avec 3 outils :"),a())},encapsulation:2})}}return e})(),H8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-angular-exercices"]],standalone:!0,features:[H],decls:52,vars:0,consts:[["title","Ref\xe9rences"]],template:function(r,i){1&r&&(u(0,"div")(1,"h2"),s(2,"Mise en pratique : clone instagramme"),a(),u(3,"h3"),s(4,"Module 1"),a(),u(5,"h4"),s(6,"Partie 1"),a(),u(7,"ol")(8,"li")(9,"a"),s(10,"Mettre en place le projet"),a()(),u(11,"li")(12,"a"),s(13,'Cr\xe9er un component "post"'),a()(),u(14,"li")(15,"a"),s(16,"Afficher des donn\xe9es fictives venant du TS"),a()(),u(17,"li")(18,"a"),s(19,"Cr\xe9er un bouton like et le lier \xe0 une m\xe9thode TS (au click = + 1 like, nouveau click = - 1 like)"),a()(),u(20,"li"),s(21,'Cr\xe9er une class dans un dossier "model" qui contient le model de donn\xe9e d\'un post'),a(),u(22,"li"),s(23,"Ajouter des propri\xe9t\xe9s personnalis\xe9es au component"),a(),u(24,"li"),s(25,"Ajouter une propri\xe9t\xe9 optionnelle et choisir de l'afficher ou non dans le DOM (propri\xe9t\xe9 location)"),a(),u(26,"li"),s(27,"Cr\xe9er un tableau de post et l'afficher."),a(),u(28,"li"),s(29,"Ajouter du style aux boutons like et marque page"),a(),u(30,"li"),s(31,"Formater la date"),a()(),u(32,"h4"),s(33,"Partie 2"),a(),u(34,"ol")(35,"li"),s(36,"Restructurer l'application et mettre en place un service pour les posts"),a(),u(37,"li"),s(38,"Mettre en place une m\xe9thode qui permet d'afficher tous les posts"),a(),u(39,"li"),s(40,"Mettre en place une m\xe9thode qui permet d'ajouter un like sur un post via son id"),a(),u(41,"li"),s(42,"Mettre en place une m\xe9thode qui permet de supprimer un like sur un post via son id"),a(),u(43,"li"),s(44,"Ajouter un module routing"),a(),u(45,"li"),s(46,"Ajouter un menu (home, compte utilisateur) avec son routing"),a()(),u(47,"h3"),s(48,"Module 2"),a()(),u(49,"app-callout-section",0)(50,"p"),s(51,"https://www.typescriptlang.org/docs/handbook/2/everyday-types.html#literal-types"),a()())},dependencies:[Ft],encapsulation:2})}}return e})(),z8=(()=>{class e{constructor(n){this.router=n,this.routerUrl=this.router.url}ngOnInit(){console.log("this route : ",this.router.url)}static{this.\u0275fac=function(r){return new(r||e)(_(Mt))}}static{this.\u0275cmp=$({type:e,selectors:[["app-github"]],standalone:!0,features:[H],decls:6,vars:0,consts:[[1,"d-flex","align-center","p-sticky","z-index-1","blur"],["src","./assets/github.png","alt","logo",1,"techno-logo"],[1,"text-center"],["src","./assets/images/chatbot.png",1,"bot","blue-purple"]],template:function(r,i){1&r&&(u(0,"div",0),j(1,"img",1),u(2,"h1",2),s(3,"Github"),a(),j(4,"img",3),a(),j(5,"router-outlet"))},dependencies:[Jn],encapsulation:2})}}return e})(),G8=(()=>{class e{constructor(n){this.router=n}ngOnInit(){console.log("this route : ",this.router.url)}static{this.\u0275fac=function(r){return new(r||e)(_(Mt))}}static{this.\u0275cmp=$({type:e,selectors:[["app-algorithms"]],standalone:!0,features:[H],decls:7,vars:0,consts:[[1,"d-flex","align-center","p-sticky","bg-light","z-index-1"],[1,"techno-logo","algo_icon","blue-green"],["src","/assets/images/algorithms_icon2.png","alt",""],["src","./assets/images/chatbot.png",1,"bot","blue-green"]],template:function(r,i){1&r&&(u(0,"div",0)(1,"div",1),j(2,"img",2),a(),u(3,"h1"),s(4,"Algorithmiques"),a()(),j(5,"img",3)(6,"router-outlet"))},dependencies:[Jn],encapsulation:2})}}return e})(),W8=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-chap1"]],standalone:!0,features:[H],decls:36,vars:0,consts:[[1,"blue"],[1,"definition"]],template:function(r,i){1&r&&(u(0,"h2",0),s(1,"Chapitre 1 : Le r\xf4le de l'algorithmiques dans l'informatique"),a(),u(2,"p"),s(3,"Une instance d'un probl\xe8me est l'entr\xe9e n\xe9cessaire (satisfaisant toutes les contraintes impos\xe9es dans l'\xe9nonc\xe9 du probl\xe8me) pour calculer une solution au probl\xe8me."),a(),u(4,"p"),s(5,"Parce que beaucoup de programme utilisent des \xe9tapes interm\xe9diaires, le "),u(6,"span",0),s(7,"tri"),a(),s(8," est une op\xe9ration fondamentale en informatique."),a(),u(9,"p"),s(10,"Donc il y a un grand nombre d'algorithmes de tri."),a(),u(11,"p"),s(12,"Le meilleur ? Cela d\xe9pend de beaucoup de facteurs : "),a(),u(13,"ul")(14,"li"),s(15,"Le nombre d'items \xe0 trier ;"),a(),u(16,"li"),s(17,"La mesure dans laquelle les \xe9l\xe9ments dont d\xe9j\xe0 un peu tri\xe9 ;"),a(),u(18,"li"),s(19,"Les \xe9ventuelles restrictions sur les valeurs des \xe9l\xe9ments ;"),a(),u(20,"li"),s(21,"L'architecture de l'ordinateur et le p\xe9riph\xe9rique de stockage."),a()(),u(22,"h3",0),s(23,"Quelle sorte de probl\xe8mes sont r\xe9solus par des algorithms ?"),a(),u(24,"p"),s(25,"... page 28 ..."),a(),u(26,"footer")(27,"div",1)(28,"p")(29,"span"),s(30,"R\xe9f\xe9rence :"),a()(),u(31,"ul")(32,"li")(33,"span",0),s(34,"Introduction to Algorithms"),a(),s(35," - 4th \xe9dition - Thomas H. Cormen, Charles E. Leiserson, Ronald L. Rivest, Clifford Stein "),a()()()())},encapsulation:2})}}return e})(),x9=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||e)(_(Tn),_(Dt))}}static{this.\u0275dir=L({type:e})}}return e})(),Rr=(()=>{class e extends x9{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Ue(e)))(i||e)}})()}static{this.\u0275dir=L({type:e,features:[ae]})}}return e})();const yn=new A(""),Y8={provide:yn,useExisting:fe(()=>_l),multi:!0},X8=new A("");let _l=(()=>{class e extends x9{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function K8(){const e=Zn()?Zn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||e)(_(Tn),_(Dt),_(X8,8))}}static{this.\u0275dir=L({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&mt("input",function(l){return i._handleInput(l.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(l){return i._compositionEnd(l.target.value)})},features:[Ce([Y8]),ae]})}}return e})();const Xe=new A(""),tr=new A("");function U9(e){return null!=e}function B9(e){return yo(e)?ze(e):e}function $9(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function H9(e,t){return t.map(n=>n(e))}function z9(e){return e.map(t=>function e5(e){return!e.validate}(t)?t:n=>t.validate(n))}function xh(e){return null!=e?function G9(e){if(!e)return null;const t=e.filter(U9);return 0==t.length?null:function(n){return $9(H9(n,t))}}(z9(e)):null}function Nh(e){return null!=e?function W9(e){if(!e)return null;const t=e.filter(U9);return 0==t.length?null:function(n){return function Q8(...e){const t=DD(e),{args:n,keys:r}=wD(e),i=new xe(o=>{const{length:l}=n;if(!l)return void o.complete();const c=new Array(l);let d=l,p=l;for(let f=0;f<l;f++){let h=!1;pn(n[f]).subscribe(Pe(o,m=>{h||(h=!0,p--),c[f]=m},()=>d--,void 0,()=>{(!d||!h)&&(p||o.next(r?ID(r,c):c),o.complete())}))}});return t?i.pipe(_D(t)):i}(H9(n,t).map(B9)).pipe(X($9))}}(z9(e)):null}function Q9(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Z9(e){return e._rawValidators}function Y9(e){return e._rawAsyncValidators}function Rh(e){return e?Array.isArray(e)?e:[e]:[]}function Sl(e,t){return Array.isArray(e)?e.includes(t):e===t}function K9(e,t){const n=Rh(t);return Rh(e).forEach(i=>{Sl(n,i)||n.push(i)}),n}function X9(e,t){return Rh(t).filter(n=>!Sl(e,n))}class J9{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=xh(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Nh(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class ot extends J9{get formDirective(){return null}get path(){return null}}class nr extends J9{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ew{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let tw=(()=>{class e extends ew{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(_(nr,2))}}static{this.\u0275dir=L({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&so("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[ae]})}}return e})(),nw=(()=>{class e extends ew{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||e)(_(ot,10))}}static{this.\u0275dir=L({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&so("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[ae]})}}return e})();const zo="VALID",Al="INVALID",ts="PENDING",Go="DISABLED";function Fh(e){return(Tl(e)?e.validators:e)||null}function Lh(e,t){return(Tl(t)?t.asyncValidators:e)||null}function Tl(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class kh{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===zo}get invalid(){return this.status===Al}get pending(){return this.status==ts}get disabled(){return this.status===Go}get enabled(){return this.status!==Go}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(K9(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(K9(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(X9(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(X9(t,this._rawAsyncValidators))}hasValidator(t){return Sl(this._rawValidators,t)}hasAsyncValidator(t){return Sl(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ts,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Go,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=zo,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zo||this.status===ts)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Go:zo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ts,this._hasOwnPendingAsyncValidator=!0;const n=B9(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new we,this.statusChanges=new we}_calculateStatus(){return this._allControlsDisabled()?Go:this.errors?Al:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ts)?ts:this._anyControlsHaveStatus(Al)?Al:zo}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Tl(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function i5(e){return Array.isArray(e)?xh(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function s5(e){return Array.isArray(e)?Nh(e):e||null}(this._rawAsyncValidators)}}class xl extends kh{constructor(t,n,r){super(Fh(n),Lh(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){(function sw(e,t,n){e._forEachChild((r,i)=>{if(void 0===n[i])throw new w(1002,"")})})(this,0,t),Object.keys(t).forEach(r=>{(function iw(e,t,n){const r=e.controls;if(!(t?Object.keys(r):r).length)throw new w(1e3,"");if(!r[n])throw new w(1001,"")})(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){null!=t&&(Object.keys(t).forEach(r=>{const i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}const Or=new A("CallSetDisabledState",{providedIn:"root",factory:()=>Wo}),Wo="always";function Qo(e,t,n=Wo){qh(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function u5(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&ow(e,t)})}(e,t),function c5(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function l5(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&ow(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function a5(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function Rl(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Pl(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Ol(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function qh(e,t){const n=Z9(e);null!==t.validator?e.setValidators(Q9(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=Y9(e);null!==t.asyncValidator?e.setAsyncValidators(Q9(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Ol(t._rawValidators,i),Ol(t._rawAsyncValidators,i)}function Pl(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=Z9(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=Y9(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(l=>l!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Ol(t._rawValidators,r),Ol(t._rawAsyncValidators,r),n}function ow(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function lw(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function cw(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}Promise.resolve();const Fl=class extends kh{constructor(t=null,n,r){super(Fh(n),Lh(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Tl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=cw(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){lw(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){lw(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){cw(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};Promise.resolve();let mw=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275dir=L({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return e})();const $h=new A(""),_5={provide:ot,useExisting:fe(()=>Ll)};let Ll=(()=>{class e extends ot{constructor(n,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new we,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Pl(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const r=this.form.get(n.path);return Qo(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Rl(n.control||null,n,!1),function h5(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this.submitted=!0,function uw(e,t){e._syncPendingControls(),t.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),"dialog"===n?.target?.method}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const r=n.control,i=this.form.get(n.path);r!==i&&(Rl(r||null,n),(e=>e instanceof Fl)(i)&&(Qo(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const r=this.form.get(n.path);(function aw(e,t){qh(e,t)})(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const r=this.form.get(n.path);r&&function d5(e,t){return Pl(e,t)}(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qh(this.form,this),this._oldForm&&Pl(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||e)(_(Xe,10),_(tr,10),_(Or,8))}}static{this.\u0275dir=L({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&mt("submit",function(l){return i.onSubmit(l)})("reset",function(){return i.onReset()})},inputs:{form:[de.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ce([_5]),ae,xt]})}}return e})();const M5={provide:nr,useExisting:fe(()=>Gh)};let Gh=(()=>{class e extends nr{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.name=null,this.update=new we,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function Uh(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===_l?n=o:function f5(e){return Object.getPrototypeOf(e.constructor)===Rr}(o)?r=o:i=o}),i||r||n||null}(0,o)}ngOnChanges(n){this._added||this._setUpControl(),function jh(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function Nl(e,t){return[...t.path,e]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||e)(_(ot,13),_(Xe,10),_(tr,10),_(yn,10),_($h,8))}}static{this.\u0275dir=L({type:e,selectors:[["","formControlName",""]],inputs:{name:[de.None,"formControlName","name"],isDisabled:[de.None,"disabled","isDisabled"],model:[de.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ce([M5]),ae,xt]})}}return e})(),Rw=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ps({type:e})}static{this.\u0275inj=$r({})}}return e})(),Ow=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Or,useValue:n.callSetDisabledState??Wo}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ps({type:e})}static{this.\u0275inj=$r({imports:[Rw]})}}return e})(),$5=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:$h,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Or,useValue:n.callSetDisabledState??Wo}]}}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275mod=ps({type:e})}static{this.\u0275inj=$r({imports:[Rw]})}}return e})();const H5=[{path:"",component:T9},{path:"",redirectTo:"introduction",pathMatch:"full"},{path:"angular",component:T9,children:[{path:"",redirectTo:"introduction",pathMatch:"full"},{path:"introduction",component:L8},{path:"tutorial",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-tutorial"]],standalone:!0,features:[H],decls:348,vars:0,consts:[[1,"mb-0"],[1,"label"],[1,"langage-css"],[1,"langage-html"],[1,"d-flex","code-side-by-side"],[1,"langage-ts"],[1,"langage-typescript"],["href","https://web.dev/explore/learn-core-web-vitals?hl=fr"],["href","https://web.dev/articles/cls?hl=fr"],[1,"definition"],[1,"underline"],[1,"fa-solid","fa-circle-info","pink-purple-txt"],[1,"pink-purple-txt"],["href","https://web.dev/articles/optimize-lcp?hl=fr"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Anatomie d'un component"),a(),u(2,"h3",0),s(3,"Mise \xe0 jour du style"),a(),u(4,"pre"),s(5," "),u(6,"span",1),s(7,"CSS"),a(),s(8,"\n  "),u(9,"code",2),s(10,"\n    :host {\n      color: bleu;\n     }\n  "),a(),s(11,"\n"),a(),u(12,"h3",0),s(13,"Interpolation"),a(),u(14,"pre"),s(15," "),u(16,"span",1),s(17,"HTML"),a(),s(18,"\n  "),u(19,"code",3),s(20,"\n    {"),u(21,"span"),s(22,"{"),a(),s(23,"  }}\n  "),a(),s(24,"\n"),a(),u(25,"ul")(26,"li"),s(27,"Permet d'afficher du texte dynamique"),a(),u(28,"li"),s(29,"Appel de fonction"),a(),u(30,"li"),s(31,"\xc9crire des expression : {"),u(32,"span"),s(33,"{"),a(),s(34," 1 + 1 }} "),a()(),u(35,"h3",0),s(36,"Selector"),a(),u(37,"pre"),s(38," "),u(39,"span",1),s(40,"HTML"),a(),s(41,"\n  "),u(42,"code",3),s(43,"\n    < app-user />\n  "),a(),s(44,"\n"),a(),u(45,"h3",0),s(46,"Utilisation des components"),a(),u(47,"pre"),s(48," "),u(49,"span",1),s(50,"CSS"),a(),s(51,"\n  "),u(52,"code",2),s(53,"\n    @Component({\n      selector: 'app-user',\n      template: `userName`,\n      imports: [UserComponent]\n      })\n\n    // on appel le component dans le template et on l'importe dans le Ts\n\n    @Component({\n      selector: 'app-root',\n      template: `< app-user / >`,\n      imports: [UserComponent]\n      })\n  "),a(),s(54,"\n"),a(),u(55,"h2",0),s(56,"@if"),a(),u(57,"div",4)(58,"pre"),s(59,"    "),u(60,"span",1),s(61,"HTML"),a(),s(62,"\n    "),u(63,"code",3),s(64,"\n      @if (isLoggedIn) {\n        "),u(65,"p"),s(66,"Welcome back, Friend!"),a(),s(67,"\n      }\n    "),a(),s(68,"\n  "),a(),u(69,"pre"),s(70,"    "),u(71,"span",1),s(72,"TS"),a(),s(73,"\n    "),u(74,"code",5),s(75,"\n      class AppComponent {\n        isLoggedIn = true;\n      }\n    "),a(),s(76,"\n  "),a()(),u(77,"h2",0),s(78,"@for"),a(),u(79,"div",4)(80,"pre"),s(81,"    "),u(82,"span",1),s(83,"HTML"),a(),s(84,"\n    "),u(85,"code",3),s(86,"\n      @for (os of operatingSystems; track os.id) {\n      {"),u(87,"span"),s(88,"{"),a(),s(89," os.name }}\n      }\n    "),a(),s(90,"\n  "),a(),u(91,"pre"),s(92,"    "),u(93,"span",1),s(94,"TS"),a(),s(95,"\n    "),u(96,"code",5),s(97,"\n      export class AppComponent {\n      operatingSystems = [\n        {id: 'win', name: 'Windows'},\n        {id: 'osx', name: 'MacOS'},\n        {id: 'linux', name: 'Linux'}\n        ];\n      }\n    "),a(),s(98,"\n  "),a()(),u(99,"h2",0),s(100,"Property binding []"),a(),u(101,"p"),s(102,"Permet de set la valeur des propri\xe9t\xe9s et des attributs"),a(),u(103,"pre"),s(104,"    "),u(105,"span",1),s(106,"HTML"),a(),s(107,"\n    "),u(108,"code",3),s(109,'\n       \t<img alt="photo" [src]="imageURL">\n    '),a(),s(110,"\n"),a(),u(111,"h2",0),s(112,"Event binding ()"),a(),u(113,"div",4)(114,"pre"),s(115,"      "),u(116,"span",1),s(117,"HTML"),a(),s(118,"\n      "),u(119,"code",3),s(120,'\n          <button (click)="greet()">\n      '),a(),s(121,"\n  "),a(),u(122,"pre"),s(123,"      "),u(124,"span",1),s(125,"TS"),a(),s(126,"\n      "),u(127,"code",6),s(128,'\n          greet(){\n            console.log("Hello")\n        }\n      '),a(),s(129,"\n  "),a()(),u(130,"h2",0),s(131,"Communication entre composants"),a(),u(132,"h3",0),s(133,"@Input"),a(),u(134,"p"),s(135,"Component Parent :"),a(),u(136,"pre"),s(137,"  "),u(138,"span",1),s(139,"HTML"),a(),s(140,"\n  "),u(141,"code",3),s(142,'\n    <app-user occupation ="Angular"> </app-user>\n  '),a(),s(143,"\n"),a(),u(144,"p"),s(145,"Component Enfant :"),a(),u(146,"div",4)(147,"pre"),s(148,"    "),u(149,"span",1),s(150,"HTML"),a(),s(151,"\n    "),u(152,"code",3),s(153,"\n      <p>Langage is : {"),u(154,"span"),s(155,"{"),a(),s(156," occupation }} </p>\n\n\n    "),a(),s(157,"\n  "),a(),u(158,"pre"),s(159,"    "),u(160,"span",1),s(161,"TS"),a(),s(162,"\n    "),u(163,"code",6),s(164,"\n      @Input() occupation = '';\n    "),a(),s(165,"\n  "),a()(),u(166,"h3",0),s(167,"@Output"),a(),u(168,"p"),s(169,"Component Enfant :"),a(),u(170,"div",4)(171,"pre"),s(172,"    "),u(173,"span",1),s(174,"HTML"),a(),s(175,"\n    "),u(176,"code",3),s(177,'\n      <button class="btn" (click)="addItem()">Add Item</button>\n    '),a(),s(178,"\n  "),a(),u(179,"pre"),s(180,"    "),u(181,"span",1),s(182,"TS"),a(),s(183,"\n    "),u(184,"code",6),s(185,"\n      @Output() addItemEvent = new EventEmitter<number>();\n      count:number = 0\n\n      addItem() {\n      this.count++\n      this.addItemEvent.emit(this.count);\n      }\n    "),a(),s(186,"\n  "),a()(),u(187,"p"),s(188,"Component Parent :"),a(),u(189,"div",4)(190,"pre"),s(191,"    "),u(192,"span",1),s(193,"HTML"),a(),s(194,"\n    "),u(195,"code",3),s(196,'\n      <button class="btn" (click)="addItem()">Add Item</button>\n\n      <app-child (addItemEvent)="addItem($event)" />\n      <p>\u{1f422} all the way down {'),u(197,"span"),s(198,"{"),a(),s(199,"items}}</p>\n    "),a(),s(200,"\n  "),a(),u(201,"pre"),s(202,"    "),u(203,"span",1),s(204,"TS"),a(),s(205,"\n    "),u(206,"code",6),s(207,"\n      items = 0;\n\n      addItem(item: number) {\n          this.items = item;\n      }\n    "),a(),s(208,"\n  "),a()(),u(209,"h2",0),s(210,"Affichage diff\xe9r\xe9e @defer"),a(),u(211,"pre"),s(212,"    "),u(213,"span",1),s(214,"HTML"),a(),s(215,"\n    "),u(216,"code",3),s(217,"\n      <div>\n        <h1>How I feel about Angular</h1>\n        <article>\n          <p>I can't express enough how much I enjoy working with Angular.\n          </p>\n        </article>\n\n          @defer {\n            <comments />\n          }\n          @placeholder {\n            <p>Future comments</p>\n          }\n          @loading (minimum 2s) {\n            <p>Loading comments...</p>\n          }\n      </div>\n    "),a(),s(218,"\n"),a(),u(219,"h2",0),s(220,"Optimiser les images"),a(),u(221,"p"),s(222,"Elles peuvent \xeatre une contribution majeur aux probl\xe8mes de performances d'un site."),a(),u(223,"p"),s(224,"Site de r\xe9f\xe9rence : "),u(225,"a",7),s(226,"Core Web Vitals"),a()(),u(227,"p"),s(228,"On utilise la directive : NgOptimizedImage pour \xeatre sur que les images sont charg\xe9es efficacement."),a(),u(229,"pre"),s(230,"    "),u(231,"span",1),s(232,"TS"),a(),s(233,"\n    "),u(234,"code",6),s(235,"\n      import { NgOptimizedImage } from '@angular/common';\n\n      @Component({\n        imports: [NgOptimizedImage],\n        ...\n        })\n    "),a(),s(236,"\n"),a(),u(237,"pre"),s(238,"    "),u(239,"span",1),s(240,"HTML"),a(),s(241,"\n    "),u(242,"code",3),s(243,'\n      <img ngSrc="/assets/logo.svg" alt="Angular logo" width="32" height="32" />\n      <img [ngSrc]="/assets/logo.svg" alt="Angular logo" fill />\n    '),a(),s(244,"\n"),a(),u(245,"p")(246,"a",8),s(247,"Cumulative Layout Shift"),a(),s(248," : n\xe9cessite d'ajouter la largeur et la hauteur des images."),a(),u(249,"div",9)(250,"span",10),j(251,"i",11),s(252," Note : "),a(),u(253,"p"),s(254,"Dans les situations o\xf9 on ne veut pas sp\xe9cifier de taille fixe, on peut utiliser l'attribut "),u(255,"span",12),s(256,"fill"),a(),s(257,". Pour une image background par exemple."),a(),u(258,"p"),s(259,"Pour la propri\xe9t\xe9 "),u(260,"span",12),s(261,"fill"),a(),s(262,", le parent doit avoir un style de position : "),u(263,"span",12),s(264,"relative, fixed, absolute"),a()()(),u(265,"h3",0),s(266,"Prioriser les images importantes"),a(),u(267,"p"),s(268,"Une des plus importantes optimisations pour la performance de chargement est de donner la priorit\xe9 aux images susceptible d'\xeatre l'"),u(269,"a",13),s(270,"\xe9l\xe9ment LCP"),a(),s(271,", c'est \xe0 dire le plus grand \xe0 l'\xe9cran lors du chargement de la page"),a(),u(272,"pre"),s(273,"    "),u(274,"span",1),s(275,"HTML"),a(),s(276,"\n    "),u(277,"code",3),s(278,'\n      <img ngSrc="/assets/logo.svg" alt="Angular logo" width="32" height="32" priority />\n    '),a(),s(279,"\n"),a(),u(280,"h3",0),s(281,"Utiliser un loader d'image"),a(),u(282,"pre"),s(283,"    "),u(284,"span",1),s(285,"TS"),a(),s(286,"\n    "),u(287,"code",5),s(288,"\n      providers: [  provideImgixLoader('https://my.base.url/'),]\n    "),a(),s(289,"\n"),a(),u(290,"h2",0),s(291,"Routing"),a(),u(292,"h3",0),s(293,"Activer le routing"),a(),u(294,"p"),s(295,"Cr\xe9er un fichier app.routes.ts."),a(),u(296,"pre"),s(297,"    "),u(298,"span",1),s(299,"TS"),a(),s(300,"\n    "),u(301,"code",5),s(302,"\n      import { Routes}  from '@angular/router';\n\n      export const routes: Routes = [];\n    "),a(),s(303,"\n"),a(),u(304,"p"),s(305,"Ajouter le routing au provider dans app.config.ts."),a(),u(306,"pre"),s(307,"    "),u(308,"span",1),s(309,"TS"),a(),s(310,"\n    "),u(311,"code",5),s(312,"\n      import { ApplicationConfig } from '@angular/core';\n      import { provideRouter } from '@angular/router';\n      import { routes } from './app.routes';\n\n      export const appConfig: ApplicationConfig = {\n        providers: [provideRouter(routes)],\n      };\n    "),a(),s(313,"\n"),a(),u(314,"p"),s(315,"Importer RouterOutlet dans le component"),a(),u(316,"pre"),s(317,"    "),u(318,"span",1),s(319,"TS"),a(),s(320,"\n    "),u(321,"code",5),s(322,'\n      import {  RouterOutlet } from \'@angular/router\';\n\n      @component({\n        ...\n        template: `\n        <nav>\n          <a href="/">Home</a>\n          |\n          <a href="/user">User</a>\n        </nav>\n        <router-outlet />\n        `,\n\n        imports: [RouterOutlet],\n        } )\n\n      export class AppComponent { }\n    '),a(),s(323,"\n"),a(),u(324,"h3",0),s(325,"D\xe9finir une route"),a(),u(326,"p"),s(327,"Dans app.routes.ts"),a(),u(328,"pre"),s(329,"    "),u(330,"span",1),s(331,"TS"),a(),s(332,"\n    "),u(333,"code",5),s(334,"\n      import { Routes } from '@angular/router';\n      import { HomeComponent } from './home/home.component';\n\n      export const routes: Routes = [\n        {\n          path: '',\n          title: 'App Home Page',\n          component: HomeComponent,\n        },\n      ];\n    "),a(),s(335,"\n"),a(),u(336,"h3",0),s(337,"Utiliser RouterLink pour la navigation"),a(),u(338,"p"),s(339,"Importer RouterLink et l'ajouter au template."),a(),u(340,"pre"),s(341,"    "),u(342,"span",1),s(343,"TS"),a(),s(344,"\n    "),u(345,"code",5),s(346,"\n      import { Routes } from '@angular/router';\n      import { HomeComponent } from './home/home.component';\n\n      export const routes: Routes = [\n        {\n          path: '',\n          title: 'App Home Page',\n          component: HomeComponent,\n        },\n      ];\n\n      import { RouterLink, RouterOutlet } from '@angular/router';\n\n      @Component({\n        ...\n        template: `\n        ...\n        <a routerLink=\"/\">Home</a>\n        <a routerLink=\"/user\">User</a>\n        ...\n        `,\n        imports: [RouterLink, RouterOutlet],\n        })\n    "),a(),s(347,"\n"),a())},encapsulation:2})}}return e})()},{path:"component",component:k8},{path:"template",component:q8},{path:"directives",component:V8},{path:"pipes",component:j8},{path:"services",component:U8},{path:"routing",component:B8},{path:"observables",component:$8},{path:"exercices",component:H8}]},{path:"github",component:z8,children:[{path:"",redirectTo:"introduction",pathMatch:"full"},{path:"introduction",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-github-page"]],standalone:!0,features:[H],decls:36,vars:0,consts:[[1,"mx-1"],[1,"label"],[1,"language-bash"],["src","./assets/images/github/github-page.png","alt","github-pages",2,"width","700px"]],template:function(r,i){1&r&&(u(0,"div",0)(1,"h2"),s(2,"Github pages"),a(),u(3,"h3"),s(4,"D\xe9ployer Angular"),a(),u(5,"pre"),s(6,"    "),u(7,"span",1),s(8,"Bash"),a(),s(9,"\n    "),u(10,"code",2),s(11,"\n      // mon-projet : nom du repository\n      ng build --output-path docs --base-href /mon-projet/\n    "),a(),s(12,"\n  "),a(),u(13,"h3"),s(14,"Sur github"),a(),u(15,"p"),s(16,"Se rendre sur : "),a(),u(17,"ul")(18,"li"),s(19,"Settings"),a(),u(20,"li"),s(21,"Pages"),a()(),u(22,"p"),s(23,"Selectionner : "),a(),u(24,"ul")(25,"li"),s(26,"Branch"),a(),u(27,"li"),s(28,"main"),a(),u(29,"li"),s(30,"/docs"),a(),u(31,"li"),s(32,"save"),a()(),j(33,"img",3),u(34,"p"),s(35,"Se rendre sur : github pages"),a()())},encapsulation:2})}}return e})()}]},{path:"algorithms",component:G8,children:[{path:"",redirectTo:"chap1",pathMatch:"full"},{path:"chap1",component:W8}]},{path:"english",component:(()=>{class e{constructor(){this.vocabularyForm=new xl({french:new Fl(""),english:new Fl("")})}onSubmit(){console.warn(typeof this.vocabularyForm.value.french),this.vocabularyForm.patchValue({french:"fr",english:"eng"})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-english"]],standalone:!0,features:[H],decls:11,vars:2,consts:[[3,"ngSubmit","formGroup"],["for","fr"],["id","fr","type","text","formControlName","french"],["for","en"],["id","en","type","text","formControlName","english"],["type","submit",3,"disabled"]],template:function(r,i){1&r&&(u(0,"form",0),mt("ngSubmit",function(){return i.onSubmit()}),u(1,"label",1),s(2,"french : "),a(),j(3,"input",2),u(4,"label",3),s(5,"english : "),a(),j(6,"input",4),u(7,"p"),s(8,"Complete the form to enable button."),a(),u(9,"button",5),s(10,"Submit"),a()()),2&r&&(Ir("formGroup",i.vocabularyForm),Nt(9),Ir("disabled",!i.vocabularyForm.valid))},dependencies:[$5,mw,_l,tw,nw,Ll,Gh],encapsulation:2})}}return e})()},{path:"softwareCraft",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-software-craft"]],standalone:!0,features:[H],decls:6,vars:0,consts:[[1,"d-flex","align-center","p-sticky","z-index-1","blur"],["src","./assets/images/softwareCraftIcon.png","alt","logo",1,"techno-logo"],[1,"text-center"],["src","./assets/images/chatbot.png",1,"bot","pink-purple"]],template:function(r,i){1&r&&(u(0,"div",0),j(1,"img",1),u(2,"h1",2),s(3,"Software Craft"),a(),j(4,"img",3),a(),j(5,"router-outlet"))},dependencies:[Jn],encapsulation:2})}}return e})(),children:[{path:"",redirectTo:"introduction",pathMatch:"full"},{path:"introduction",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-introduction-software-craft"]],standalone:!0,features:[H],decls:59,vars:0,consts:[[1,"pink-purple-txt"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Introduction : Les enjeux du d\xe9veloppement logiciel remis en question"),a(),u(2,"h3"),s(3,"1. R\xe9ussir \xe0 faire fonctionner le logiciel n'est que la premi\xe8re \xe9tape"),a(),u(4,"p"),s(5,"Le vrai enjeu du d\xe9veloppement de logiciel est de rester \xe9volutif dans la dur\xe9e,\nc'est-\xe0-dire permettre d'ajouter facilement des fonctionnalit\xe9s, et de rester maintenable."),a(),u(6,"h3"),s(7,"2. D\xe9finir le besoin est au moins aussi difficile que d'\xe9crire le code correspondant"),a(),u(8,"p"),s(9,"Les d\xe9veloppeurs ont l'habitude d'attendre une expression de besoin parfaitement d\xe9finie dans chaque d\xe9tail."),a(),u(10,"p"),s(11,"Plus pr\xe9cis\xe9ment, ils ont l'habitude de se plaindre de ne pas avoir une telle qualit\xe9 de d\xe9finition du besoin, reproches adress\xe9s aux analystes ou Product Owners."),a(),u(12,"p"),s(13,"Le Software Craft accepte l'id\xe9e que d\xe9finir le besoin est \xe9minemment difficile, avec comme cons\xe9quences, d'une part, que c'est un processus de d\xe9couverte progressive, souvent m\xeame en cours d'\xe9criture du code, et d'autre part que c'est une d\xe9marche collective incluant ceux et celles qui \xe9crivent le code, au c\xf4t\xe9 des futurs utilisateurs."),a(),u(14,"h3"),s(15,"3. Une boite \xe0 outils de techniques"),a(),u(16,"p"),s(17,"Les techniques majeures sont : "),a(),u(18,"ul")(19,"li")(20,"span",0),s(21,"TDD "),a(),s(22,": Test-Driven Development;"),a(),u(23,"li")(24,"span",0),s(25,"BDD "),a(),s(26,": Behavior-Driven Development;"),a(),u(27,"li")(28,"span",0),s(29,"Clean Code"),a(),s(30,";"),a(),u(31,"li")(32,"span",0),s(33,"DDD"),a(),s(34," : Domain-Driven Development;"),a(),u(35,"li"),s(36,"Techniques sp\xe9cifiques de "),u(37,"span",0),s(38,'"Legacy Remediation"'),a(),s(39," (remaniement du code h\xe9rit\xe9), pour reprendre le contr\xf4le, mettre sous tests et r\xe9parer du code ancien et mal entretenu;"),a(),u(40,"li"),s(41,"Technique de conception orient\xe9 objet "),u(42,"span",0),s(43,"(POO)"),a(),s(44," et style de programmation fonctionnelle "),u(45,"span",0),s(46,"(FP)"),a(),s(47,", principes de conception "),u(48,"span",0),s(49,"SOLIDE"),a(),s(50,", ...;"),a(),u(51,"li")(52,"span",0),s(53,"Technique de collaboration"),a(),s(54," : pair programming, mob programming. Car collaborer efficacement cela s'apprend et se travaille;"),a(),u(55,"li")(56,"span",0),s(57,"Application et adaptation"),a(),s(58," de tout ce qui pr\xe9c\xe8de pour les technologies comme le cloud, le machine learning, et les infrastructures data."),a()())},encapsulation:2})}}return e})()},{path:"tdd",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-tdd"]],standalone:!0,features:[H],decls:42,vars:0,consts:[[1,"d-flex"],["src","assets/images/tdd.png"],[1,"pink-purple-txt"],["title","Conseil"],["href","https://github.com/SoftwareCraftersMadrid/FizzBuzz"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Le D\xe9veloppement Dirig\xe9 par les Tests (TDD)"),a(),u(2,"div",0),j(3,"img",1),u(4,"div")(5,"p")(6,"span",2),s(7,"Green"),a(),s(8," : effectuer le minimum de code"),a(),u(9,"p")(10,"span",2),s(11,"Refactor"),a(),s(12," : est ce qu'on arrive \xe0 comprendre \xe0 quel besoin le code r\xe9pond ?"),a()()(),u(13,"app-callout-section",3)(14,"ol")(15,"li"),s(16,"\xc9crire le r\xe9sultat attendu."),a(),u(17,"li"),s(18,"Faire appel \xe0 la fonction."),a(),u(19,"li"),s(20,"Initialiser les donn\xe9es n\xe9cessaires."),a()()(),u(21,"h3"),s(22,"Pratique :"),u(23,"a",4),s(24," FizzBuzz"),a()(),u(25,"p")(26,"span",2),s(27,"1"),a(),s(28," : D\xe9composer le probl\xe8me pour faciliter le d\xe9veloppement."),a(),u(29,"p")(30,"span",2),s(31,"2"),a(),s(32," : Faire un kanban des fonctionnalit\xe9s"),a(),u(33,"p")(34,"span",2),s(35,"COMMIT "),a(),s(36,":"),a(),u(37,"ul")(38,"li"),s(39,"Apr\xe8s un green test"),a(),u(40,"li"),s(41,"Apr\xe8s un refactor + green test"),a()())},dependencies:[Ft],styles:["img[_ngcontent-%COMP%]{width:500px}"]})}}return e})()},{path:"clean-code",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-clean-code"]],standalone:!0,features:[H],decls:110,vars:0,consts:[["title","Citation"],[1,"pink-purple-txt"],["title","R\xe8gle du Boy Scout"],[1,"label"],[1,"langage-c#"],["titre","Citation"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Clean code"),a(),u(2,"p"),s(3,"La machine n'est pas la seule destinataire du code, le code sera lu par des d\xe9veloppeurs."),a(),u(4,"h3"),s(5,"1. Programmer comme un exercice de communication"),a(),u(6,"app-callout-section",0)(7,"p"),s(8,'"Un bon programmeur \xe9crit du code que les humains peuvent comprendre." Martin FOWLER'),a()(),u(9,"p")(10,"span",1),s(11,"Clean code :"),a()(),u(12,"ul")(13,"li"),s(14,"Code lisible;"),a(),u(15,"li"),s(16,"Facile \xe0 maintenir;"),a(),u(17,"li"),s(18,"Sans bug."),a()(),u(19,"h3"),s(20,"2. L'importance d'\xeatre exemplaire"),a(),u(21,"p")(22,"span",1),s(23,"La th\xe9orie de la vitre bris\xe9e"),a(),s(24," : Si une vitre est cass\xe9e et n'est pas r\xe9par\xe9e, toutes les autres vitres conna\xeetront bient\xf4t le m\xeame sort"),a(),u(25,"p"),s(26,"Tol\xe9rance 0"),a(),u(27,"app-callout-section",2)(28,"p"),s(29,"Laisser le code dans un meilleur \xe9tat que celui trouv\xe9."),a()(),u(30,"h3"),s(31,"3. Principes essentiels pour un code lisible et \xe9volutif"),a(),u(32,"p"),s(33,"Rester simple et aller \xe0 l'essentiel."),a(),u(34,"ul")(35,"li"),s(36,"KISS;"),a(),u(37,"li"),s(38,"YAGNI."),a()(),u(39,"p"),s(40,"4 r\xe8gles simples pour un design simple :"),a(),u(41,"ul")(42,"li"),s(43,"Passer les tests;"),a(),u(44,"li"),s(45,"R\xe9veler l'intention (am\xe9liorer le nommage) : un code claire et facile \xe0 comprendre;"),a(),u(46,"li"),s(47,"\xc9viter la duplication : DRY;"),a(),u(48,"li"),s(49,"Rester petit et ne conserver que ce qui est important."),a()(),u(50,"h3"),s(51,"4. Exprimer l'intention"),a(),u(52,"p"),s(53,"L'art du nommage :"),a(),u(54,"ul")(55,"li"),s(56,"\xc9viter les acronymes;"),a(),u(57,"li"),s(58,"\xc9viter les termes fourre-tout (data, info, manager);"),a(),u(59,"li"),s(60,"Utiliser des noms communs pour les classes, des verbes pour les fonctions."),a()(),u(61,"p"),s(62,"C'est un processus it\xe9ratif."),a(),u(63,"h3"),s(64,"5. Structurer le code"),a(),u(65,"p"),s(66,"L'art du storytelling"),a(),u(67,"h3"),s(68,"6. D\xe9couper les fonctions"),a(),u(69,"p"),s(70,"S\xe9parer les responsabilit\xe9s."),a(),u(71,"p"),s(72,"S\xe9parer les niveau d'abstraction."),a(),u(73,"p"),s(74,"Exemple : Condition pour \xeatre \xe9lecteur en France"),a(),u(75,"pre"),s(76," "),u(77,"span",3),s(78,"C#"),a(),s(79,"\n  "),u(80,"code",4),s(81,"\n    // Niveau d'abstraction m\xe9tier (loi)\n    public bool estElecteur(person) {\n      return estMajeur(person)\n            && aNationnaliteFrancaise(person)\n            && aTousSesDroits(person)\n            && estInscritSurListElectorale(person)\n    }\n\n    // Niveau d'abstraction inf\xe9rieur\n    public bool estMajeur(person) {\n      return age(person) >= 18\n    }\n\n     // Niveau d'abstraction encore inf\xe9rieur\n    private bool age(person){\n      retour DateUtils.yearCount(now() person.birthdate)\n    }\n  "),a(),s(82,"\n"),a(),u(83,"p"),s(84,"Organisation du code du plus grand (le probl\xe8me principal, fonction public), vers le plus petit (sous probl\xe8me, fonction private)."),a(),u(85,"p"),s(86,"Aspect visuel : "),a(),u(87,"ul")(88,"li"),s(89,"1 ou 2 niveaux d'indentation maximum (si plus c'est qu'un refactor est n\xe9cessaire;"),a(),u(90,"li"),s(91,"Pas de d\xe9filement horizontal (des lignes de code simples, utiliser les retours \xe0 la ligne)."),a()(),u(92,"h3"),s(93,"7. Commentaires avec mod\xe9ration"),a(),u(94,"app-callout-section",5)(95,"p"),s(96,'"Don\'t comment bad code - Rewrite it" - Brian KERNIGHAN'),a()(),u(97,"p"),s(98,"Les commentaires utiles : "),a(),u(99,"ul")(100,"li"),s(101,"Signaler une subtilit\xe9;"),a(),u(102,"li"),s(103,"Marquer les probl\xe8mes \xe0 r\xe9soudre dans le code - TODO / FIXME;"),a(),u(104,"li"),s(105,"Apposer des mentions l\xe9gales (openSource)."),a()(),u(106,"h3"),s(107,"8. DRY"),a(),u(108,"h3"),s(109,"9. La propret\xe9 du code aussi pour les tests"),a())},dependencies:[Ft],encapsulation:2})}}return e})()},{path:"bdd",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-bdd"]],standalone:!0,features:[H],decls:212,vars:0,consts:[[1,"pink-purple-txt"],["title","Feature"],["title","Exemple"],["href","https://www.picklesdoc.com/"],["href","https://github.com/Arnauld/tzatziki/blob/master/README.md"],[1,"langage-c#"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Les sp\xe9cifications agiles avec le d\xe9veloppement dirig\xe9 par le comportement (BDD)"),a(),u(2,"p"),s(3,"Associer les personnes qui savent quoi construire (PO) avec celles qui savent comment (D\xe9v) + testeur ou responsable qualit\xe9."),a(),u(4,"h3"),s(5,"1. Les atelier de sp\xe9cification"),a(),u(6,"p"),s(7,"3 personnes autour d'une ou plusieurs US = co-construction."),a(),u(8,"h3"),s(9,"2. Automatisation des sc\xe9narios"),a(),u(10,"p"),s(11,"Les sc\xe9narios concrets dans le langage m\xe9tier ont l'avantage de bien se pr\xeater \xe0 l'automatisation dans les outils."),a(),u(12,"h4"),s(13,"2.1 La syntaxe de Gherkin"),a(),u(14,"p"),s(15,'Les sc\xe9narios cl\xe9s et les sc\xe9narios additionnels peuvent \xeatre r\xe9dig\xe9s de fa\xe7on plus formelle dans la syntaxe de Gherkin (= cornichon) dans un fichier txt nomm\xe9 "fichier de features".'),a(),u(16,"p"),s(17,'Chaque fichier a un th\xe8me pr\xe9cis, exemple : "Comportement concernant les remises client sur les livres en Europe."'),a(),u(18,"p")(19,"span",0),s(20,"Premi\xe8re rubrique : "),a(),s(21,"Feature qui d\xe9crit l'intention g\xe9n\xe9rale, au format US :"),a(),u(22,"app-callout-section",1)(23,"p")(24,"span",0),s(25,"FEATURE : "),a(),s(26,"Offrir des remises aux clients fid\xe8les"),a(),u(27,"p")(28,"span",0),s(29,"AFIN"),a(),s(30," d'encourager les clients \xe0 revenir acheter,"),a(),u(31,"p")(32,"span",0),s(33,"EN TANT QUE"),a(),s(34," vendeur de livres,"),a(),u(35,"p")(36,"span",0),s(37,"JE SOUHAITE"),a(),s(38," offrir des remises de prix aux clients fid\xe8les."),a()(),u(39,"p"),s(40,"La feature a pour but de documentation, elle est compl\xe9t\xe9e des r\xe8gles m\xe9tiers."),a(),u(41,"p")(42,"span",0),s(43,"Reste du fichier"),a()(),u(44,"p"),s(45,"Une succession d'exemple."),a(),u(46,"p"),s(47,"Attention, les deux points font parti des mots-cl\xe9s."),a(),u(48,"app-callout-section",2)(49,"p")(50,"span",0),s(51,"Exemple : "),a(),s(52,"Aucune remise avec 2 articles en de\xe7\xe0 de 50\u20ac d'achat."),a(),u(53,"p")(54,"span",0),s(55,"GIVEN "),a(),s(56,"un panier avec 2 articles pour un total de 49\u20ac;"),a(),u(57,"p")(58,"span",0),s(59,"WHEN "),a(),s(60,"le client consulte son panier;"),a(),u(61,"p")(62,"span",0),s(63,"THEN "),a(),s(64,"le total n'inclut aucune remise."),a()(),u(65,"p"),s(66,"Les mots cl\xe9s sont : GIVEN, WHEN, THEN, AND, BUT"),a(),u(67,"p"),s(68,"Ces features files sont ajout\xe9s au contr\xf4le de source (GIT) dans la m\xeame version que le code correspondant \xe0 la m\xeame fonction."),a(),u(69,"h4"),s(70,"2.2 Les outils"),a(),u(71,"p"),s(72,"Cucumber, Specflow, Behat et Robot Framework."),a(),u(73,"p"),s(74,"Ils analysent chaque ligne de chaque fichier de feature, et pour chaque ligne ils d\xe9clenchent des portions de code correspondants, que l'on appelle "),u(75,"span",0),s(76,"step definition"),a(),s(77,"."),a(),u(78,"p"),s(79,"Chaque step definition est une fonction."),a(),u(80,"h4"),s(81,"2.3 Living documentation"),a(),u(82,"p"),s(83,"Les fichiers de features sont regroup\xe9s dans des r\xe9pertoires par zone fonctionnelle. Exemple : /VENTE/REMISES."),a(),u(84,"p"),s(85,"L'intention de chaque feature est exprim\xe9e en langage m\xe9tier."),a(),u(86,"p"),s(87,"Les r\xe9pertoires et sous r\xe9pertoires constituent ainsi les chapitres d'une documentation r\xe9dig\xe9e en langage m\xe9tier."),a(),u(88,"p"),s(89,"L'automatisation des exemples directement comme des tests avec des assertions, permet de d\xe9tecter aussit\xf4t que le comportement du code ne correspond plus au comportement attendu."),a(),u(90,"p"),s(91,"Certaines r\xe9gressions signalent alors aussit\xf4t, l'oubli de mise \xe0 jour des exemples correspondants dans le fichier de feature."),a(),u(92,"p"),s(93,"C'est donc un moyen de garantir que ces exemples automatis\xe9s sont une documentation vivante et \xe0 jour tant que les tests sont tous en succ\xe8s."),a(),u(94,"p"),s(95,"Tagger les sc\xe9narios, pour mieux les rechercher ou les ex\xe9cuter."),a(),u(96,"p"),s(97,"Ajouter des outils pour rendre les features et les r\xe9sultats accessibles aux non d\xe9veloppeurs sous forme de rapport ou de site web int\xe9ractif ("),u(98,"a",3),s(99,"Pickles Living Documentation"),a(),s(100,"), ou "),u(101,"a",4),s(102,"Tzatziki"),a(),s(103," qui permet de produire un pdf."),a(),u(104,"h3"),s(105,"3. Un effort, beaucoup de b\xe9n\xe9fices"),a(),u(106,"p"),s(107,"En r\xe9capitulatif, il s'av\xe8re qu'une seule et m\xeame activit\xe9, qui consiste \xe0 avoir des conversations concernant les besoins entre 3 ou plus personnes, en langage m\xe9tier, avec des exemples concrets et auto-suffisants, compl\xe9t\xe9e de son automatisation, apporte \xe0 l '\xe9quipe : "),a(),u(108,"ul")(109,"li"),s(110,"La compr\xe9hension partag\xe9e entre tous;"),a(),u(111,"li"),s(112,"Les crit\xe8res d'acceptation pour d\xe9terminer l'avancement des d\xe9veloppements;"),a(),u(113,"li"),s(114,"Les tests de non-r\xe9gression avec une bonne couverture et garantie toujours \xe0 jour si les tests sont en succ\xe8s."),a()(),u(115,"p"),s(116,"C'est donc une pratique avec un retour sur investissement attractif. Le temps investi dans la mise en oeuvre et dans le soin appliqu\xe9 aux sc\xe9narios se retrouvera largement rentabilis\xe9 dans la dur\xe9e."),a(),u(117,"h3"),s(118,"4. Techniques compl\xe9mentaires"),a(),u(119,"p"),s(120,"Les intentions mentionn\xe9es jusqu'\xe0 pr\xe9sent butent parfois sur des difficult\xe9s lors de la mise en oeuvre. Plut\xf4t que de c\xe9der, il convient au contraire de trouver des solutions parfois originales, pour concilier tous les objectifs."),a(),u(121,"h4"),s(122,"4.1 Sc\xe9narios tabulaires"),a(),u(123,"p"),s(124,"Parfois, certains sc\xe9narios sont tr\xe8s r\xe9p\xe9titifs, avec pour seules variations quelques changements de valeurs."),a(),u(125,"p"),s(126,"Il est possible de les regrouper dans un sc\xe9nario unique qui sert de gabarit, avec des variables \xe0 la place des d\xe9tails concrets, et avec un tableau associ\xe9 qui liste les jeux de valeurs, en indiquant un jeu de valeur par ligne : "),a(),u(127,"app-callout-section",1)(128,"p")(129,"span",0),s(130,"Scenario Outline : "),a(),s(131,"Remise par montant d'achat et status"),a(),u(132,"p")(133,"span",0),s(134,"Given"),a(),s(135," un client de status <start>"),a(),u(136,"p")(137,"span",0),s(138,"When"),a(),s(139," il commande pour <montant>\u20ac d'achat"),a(),u(140,"p")(141,"span",0),s(142,"Then"),a(),s(143," il voit une remise de <remise>\u20ac."),a(),u(144,"pre"),s(145,"    "),u(146,"code",5),s(147,"\n      "),u(148,"p")(149,"span"),s(150,"Exemple :"),a()(),s(151,"\n      | status  | montant | remise  |\n      |   NEW   |   49    |    0    |\n      |   NEW   |   50    |   2,50  |\n      |   VIP   |   50    |    5    |\n    "),a(),s(152,"\n  "),a()(),u(153,"p")(154,"span",0),s(155,"Attention"),a(),s(156," \xe0 ne pas abuser de ce format, il ne doit pas devenir le choix par d\xe9faut."),a(),u(157,"h4"),s(158,"4.2 Section background"),a(),u(159,"p"),s(160,"Il arrive que plusieurs exemples partagent les m\xeames pr\xe9-requis. Il est possible de les regrouper dans une rubrique qui s'applique \xe0 tous les sc\xe9narios. Cette rubrique de pr\xe9ambule signifie : \"Sauf mention contraire, nous supposons dans tout ce qui suit que ... (liste des pr\xe9requis)."),a(),u(161,"p"),s(162,"Les outils d'automatisation supportent cette syntaxe sous la forme d'une section de type \"background\"."),a(),u(163,"h4"),s(164,"4.3 Persona"),a(),u(165,"p"),s(166,"Il est fr\xe9quent de manipuler des concepts avec de nombreux attributs (utilisateurs, clients, ...). Le concept peut parfois avoir jusqu'\xe0 240 attributs."),a(),u(167,"p"),s(168,"La plupart du temps, seuls quelques-uns de ces attributs sont importants pour un sc\xe9nario donn\xe9e."),a(),u(169,"p"),s(170,'Exemple : si le sc\xe9nario concerne la fid\xe9lit\xe9, seuls les attributs "date de cr\xe9ation" et "status premium" sont n\xe9cessaires \xe0 mentionner explicitement dans les sc\xe9narios.'),a(),u(171,"p"),s(172,"On peut parler de cas en faisant r\xe9f\xe9rence \xe0 des arch\xe9types de clients."),a(),u(173,"p"),s(174,"Exemple : Serge, directeur g\xe9n\xe9ral \xe0 Paris, passionn\xe9 de golf."),a(),u(175,"p"),s(176,"Les personas sont des clich\xe9s qui r\xe9sument des groupes de clients."),a(),u(177,"p"),s(178,"D\xe9finir les personas au pr\xe9alable, par exemple dans une section pr\xe9ambule, permet de les utiliser dans les sc\xe9narios pour d\xe9crire des comportements de fa\xe7on pr\xe9cise et concise."),a(),u(179,"p"),s(180,'Le persona s\'applique \xe9galement \xe0 des concepts non humain : "dossier pr\xeat-\xe0-porter", "dossier sur mesure".'),a(),u(181,"h4"),s(182,"4.4 Datasets et test data builders"),a(),u(183,"p"),s(184,"Parfois, d\xe9finir explicitement la totalit\xe9 de ce qui est pr\xe9requis pour un sc\xe9nario semble insurmontable (calculer des statistiques ou un reporting sur de grands volume de donn\xe9es)."),a(),u(185,"p"),s(186,"La solution est d'admettre que nous restons capables, entre coll\xe8gues, de parler de fa\xe7on succincte de ce qui importe dans ces gros ensembles de donn\xe9es. En d\xe9couvrant les termes que l'on utilise d\xe9j\xe0 dans nos conversations."),a(),u(187,"app-callout-section",2)(188,"p")(189,"span",0),s(190,"\xc9tant donn\xe9 "),a(),s(191,"un historique de vente sur 24 mois constant \xe0 25000\u20ac par mois,"),a(),u(192,"p")(193,"span",0),s(194,"Alors ... "),a()()(),u(195,"p"),s(196,"Dans les outils d'automatisation, ces approches deviennent des builders (pattern builder, appliqu\xe9s aux test, c'est-\xe0-dire des \"test data builder\") ou des chargements de fichier \xe0 partir des param\xe8tres d\xe9finis dans les clauses de type Given des sc\xe9narios."),a(),u(197,"p"),s(198,"Dans chacun des cas, c'est bien l'utilisation du langage m\xe9tier qui est la cl\xe9, pour rendre facilement manipulable les concepts qui ne le sont pas toujours par leur taille ou leur complexit\xe9."),a(),u(199,"h3"),s(200,"5. D\xe9marrer BDD"),a(),u(201,"p"),s(202,"BDD est une pratique qui n\xe9cessite pour d\xe9marrer, que de rassembler des personnes de bonne volont\xe9 dans un atelier de sp\xe9cifications et en essayant d'appliquer les pratiques."),a(),u(203,"p"),s(204,"Dans un contexte de syst\xe8mes h\xe9rit\xe9s (legacy), o\xf9 le code n'est souvent plus lisible et o\xf9 les comportements m\xe9tiers sont parfois obscurs, alors introduire des sc\xe9narios automatis\xe9s en langage m\xe9tier permet de documenter les comportements."),a(),u(205,"p"),s(206,"On appelle ces sc\xe9narios des "),u(207,"span",0),s(208,'"tests de caract\xe9risation"'),a(),s(209,", car ils d\xe9crivent le comportement existant du syst\xe8me."),a(),u(210,"p"),s(211,"Ces sc\xe9narios ou tests sont pr\xe9cieux car ils permettront le cas \xe9ch\xe9ant de r\xe9\xe9crire le syst\xe8me dans une nouvelle technologie tout en \xe9tant capables de retrouver la couverture fonctionnelle originale, et cela \xe0 moindre risque."),a())},dependencies:[Ft],encapsulation:2})}}return e})()},{path:"pair-programming",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-pair-programming"]],standalone:!0,features:[H],decls:314,vars:0,consts:[[1,"pink-purple-txt"],["title","Conseils"],["title","Le truck factor"],["title","Pour aller plus loin"],["href","https://blog.adrianbolboaca.ro/category/pair-programming-games/"],["href","https://xp123.com/pair-practice/"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Collaborer efficacement avec le pair et mob programming"),a(),u(2,"p"),s(3,"Collaborer, c'est avant tout r\xe9ussir \xe0 plusieurs ce qu'on ne saurait faire seul ou obtenir un r\xe9sultat bien meilleur \xe0 plusieurs que tout seul."),a(),u(4,"p"),s(5,"Cela am\xe8ne de nombreux b\xe9n\xe9fices, la qualit\xe9 et la vitesse des d\xe9veloppements, l'harmonisation des comp\xe9tences\nla r\xe9duction du nombre d'anomalies, l'accompagnement des \xe9quipiers face aux changements, ou encore le partage des\nconnaissances."),a(),u(6,"h3"),s(7,"1. Le bin\xf4mage (pair programming)"),a(),u(8,"p"),s(9,"Travailler \xe0 deux sur une seule machine. Le travail d'\xe9quipe peut s'envisager de mani\xe8re synchrone ou asynchrone."),a(),u(10,"p"),s(11,"Le partage des t\xe2ches pour travailler en parall\xe8le est un travail asynchrone."),a(),u(12,"p"),s(13,"Bin\xf4mer est une mani\xe8re de travailler synchrone. On utilise aussi les termes : pair programming, pairing, pairer."),a(),u(14,"p"),s(15,"Le bin\xf4mage est souvent confondu avec d'autres activit\xe9s, comme : "),a(),u(16,"ul")(17,"li"),s(18,"Travailler \xe0 deux ou collaborer, lorsque l'on travaille ensemble mais sur des machines diff\xe9rentes ;"),a(),u(19,"li"),s(20,"Travailler en observant son partenaire sans toucher le clavier ni prendre part, m\xeame en oralement, \xe0 la r\xe9alisation ;"),a(),u(21,"li"),s(22,"\xcatre accompagn\xe9 pour monter en comp\xe9tence sur un sujet o\xf9 tout a \xe9t\xe9 d\xe9j\xe0 pr\xe9par\xe9, sans r\xf4le d'exploitation ni implication."),a()(),u(23,"p"),s(24,"On confond souvent bin\xf4mer et travailler \xe0 deux, mais bin\xf4mer suppose un ensemble de comp\xe9tences sp\xe9cifiques."),a(),u(25,"h3"),s(26,"2. Comment bin\xf4mer ? "),a(),u(27,"p"),s(28,"Dans le bin\xf4me, chacun a son r\xf4le \xe0 jouer."),a(),u(29,"h4"),s(30,"2.1 Deux r\xf4les classiques"),a(),u(31,"p"),s(32,"Le r\xf4le du pilote, qui contr\xf4le la machine."),a(),u(33,"p"),s(34,"Le r\xf4le du copilote, il doit prendre du recul sur ce que le bin\xf4me produit."),a(),u(35,"h4"),s(36,"2.2 Une alternance fr\xe9quente "),a(),u(37,"p"),s(38,"Les it\xe9ration durent 5 \xe0 10 minutes pour garder un bon rythme et optimiser l'\xe9nergie du bin\xf4me."),a(),u(39,"p"),s(40,"Privil\xe9gier des it\xe9rations courtes favorise une participation plus active des participants pour un rythme plus dynamique."),a(),u(41,"h4"),s(42,"2.3 Savoir ralentir"),a(),u(43,"p"),s(44,"Ralentir est important pour prendre le temps de comprendre en m\xeame temps."),a(),u(45,"p"),s(46,"Si un \xe9quipier n'a pas pr\xeat\xe9 attention \xe0 une \xe9tape du travail en cours, cela peut lui prendre du temps pour resynchroniser sa compr\xe9hension, apr\xe8s ce d\xe9crochage."),a(),u(47,"p"),s(48,"Il est recommand\xe9 que celui qui a le plus de maturit\xe9 en bin\xf4mage fasse l'effort de ralentir, d'expliquer, de s'adapter \xe0 l'autre"),a(),u(49,"h4"),s(50,"2.4 Des perspectives diff\xe9rentes"),a(),u(51,"p"),s(52,"Pour le pilote, le focus est d'ordre tactique : les d\xe9tails de l'impl\xe9mentation, la fa\xe7on d'\xe9crire le code correctement."),a(),u(53,"p"),s(54,"Pour le copilote, le regard est plus strat\xe9gique, avec une vision plus abstraite et globale sur ce que le bin\xf4me \xe9crit. Il garde en t\xeate l'objectif final, pr\xe9pare la prochaine \xe9tape, relit le code. Il g\xe8re la liste des todo pour ne pas interrompre la r\xe9alisation de la t\xe2che en cours."),a(),u(55,"h3"),s(56,"3. Styles de bin\xf4mage"),a(),u(57,"p"),s(58,"Les plus connus sont le ping-pong et la navigation strong style, d'autres moins connus sont davantage destin\xe9s \xe0 l'entra\xeenement."),a(),u(59,"h4"),s(60,"3.1 Le ping-pong"),a(),u(61,"p"),s(62,"Permet de couplet la pratique du bin\xf4mage avec le TDD."),a(),u(63,"p"),s(64,"Les it\xe9rations ne sont pas rythm\xe9es par le temps, mais par le cycle du TDD."),a(),u(65,"p"),s(66,"Les r\xf4les alternent \xe0 chaque fois qu'on termine une phase rouge du cycle de TDD."),a(),u(67,"h4"),s(68,"3.2 La navigation strong style"),a(),u(69,"p"),s(70,"Peut s'appliquer quand un des deux participants \xe0 une id\xe9e et cherche \xe0 la mettre en place."),a(),u(71,"p"),s(72,"Cette personne donne le clavier \xe0 son partenaire et lui expose son id\xe9e pour que le partenaire l'impl\xe9mente."),a(),u(73,"p"),s(74,"Cela permet de d\xe9coupler la r\xe9flexion de l'\xe9criture du code. Celui qui a l'id\xe9e est d'avantage impliqu\xe9 dans la r\xe9alisation de la t\xe2che, puisque c'est son id\xe9e. Celui qui a le clavier est impliqu\xe9 car il transmet l'id\xe9e \xe0 la machine."),a(),u(75,"p"),s(76,"Cette mani\xe8re renforce l'implication des deux participants, notamment gr\xe2ce \xe0 une meilleure synchronisation."),a(),u(77,"p"),s(78,"Le copilote a une id\xe9e et peut la d\xe9crire selon 3 niveau \xe0 utiliser dans l'ordre suivant :"),a(),u(79,"ul")(80,"li")(81,"span",0),s(82,"Intention"),a(),s(83," : Cr\xe9e une variable que l'on appellera 'd\xe9compte';"),a(),u(84,"li")(85,"span",0),s(86,"Emplacement"),a(),s(87," : \xc0 la ligne 27;"),a(),u(88,"li")(89,"span",0),s(90,"D\xe9tail"),a(),s(91," : Tape v,a,r espace 'd\xe9compte' \xe9gal 1."),a()(),u(92,"p"),s(93,"Dans cette approche, la premi\xe8re \xe9tape pour le copilote est d'exprimer son intention. Si cela suffit pour que le pilote impl\xe9mente l'id\xe9e, il n'est pas n\xe9cessaire d'aller plus loin."),a(),u(94,"p"),s(95,"Il est important que le copilote trouve le bon niveau auquel s'adresser au pilote. Si les attentes sont asym\xe9triques,\nil peut en r\xe9sulter de la frustration dans le bin\xf4me."),a(),u(96,"ul")(97,"li"),s(98,"Si le copilote donne les d\xe9tails alors que l'intention suffit au pilote, cela va agacer le pilote."),a(),u(99,"li"),s(100,"Si le copilote ne donne que l'intention, alors que le pilote a besoin de l'emplacement ou des d\xe9tails, le pilote se retrouve perdu."),a()(),u(101,"p"),s(102,"Dans tous ces cas, le bin\xf4me n'avance pas."),a(),u(103,"h4"),s(104,"3.4 Silent pair programming"),a(),u(105,"p"),s(106,"Il fournit une technique pour s'entra\xeener au bin\xf4mage. Il est utile quand les deux participants discute beaucoup et n'arrivent pas \xe0 converger, ou lorsque le code se lit avec difficult\xe9."),a(),u(107,"p")(108,"span",0),s(109,"R\xe8gles"),a(),s(110," : les deux participants ne sont pas autoris\xe9s \xe0 parler, \xe9crire ou dessiner. Seul le code peut \xeatre utilis\xe9 pour communiquer, mais il est interdit d'utiliser les commentaires de code \xe0 cet effet."),a(),u(111,"p"),s(112,"Cet exercice doit permettre au bin\xf4me de :"),a(),u(113,"ul")(114,"li"),s(115,"Converger plus rapidement;"),a(),u(116,"li"),s(117,"Rendre le code plus explicite, via un meilleur nommage de tous les \xe9l\xe9ments du code;"),a(),u(118,"li"),s(119,"Am\xe9liorer le nommage des tests; "),a(),u(120,"li"),s(121,"Inciter au refactoring par les deux participants."),a()(),u(122,"app-callout-section",1)(123,"ul")(124,"li"),s(125,"L'exercice doit rester court, au risque de voir appara\xeetre une certaine frustration \xe0 force de na pas pouvoir communiquer;"),a(),u(126,"li"),s(127,"Si on ne comprend pas une portion de code \xe9crite par le partenaire, le surligner avec le curseur et lui rendre le clavier. Il devra alors refactorer le code surlign\xe9 pour le rendre plus lisible."),a()()(),u(128,"h4"),s(129,"3.5 Evil twin pair programming"),a(),u(130,"p"),s(131,"C'est une variante du ping-pong. Elle est utile dans le cadre de l'enseignement du TDD et plus pr\xe9cis\xe9ment sur le TDD\nas if you meant it."),a(),u(132,"p"),s(133,'Les deux participants alternent le clavier \xe0 chaque \xe9tape du TDD, mais le pilote va endosser toute la "mauvaise foi"\ndont il est capable. Cette attitude doit permettre de "pi\xe9ger" son partenaire, tout en mettant en avant les cas limites\nsur le code produit par le bin\xf4me.'),a(),u(134,"h3"),s(135,"4. Motivation pour choisir de bin\xf4mer"),a(),u(136,"h4"),s(137,"4.1 Apprendre et progresser"),a(),u(138,"p"),s(139,"Dans certaines situations, on manque des connaissances n\xe9cessaires pour avancer sur certaines t\xe2ches. Pourtant il est imp\xe9ratif de pouvoir \xeatre autonome sur le sujet. Bin\xf4mer est alors vital pour \xe9tendre ses connaissances et gagner en autonomie. On peut s'appuyer sur notre partenaire qui va : "),a(),u(140,"ul")(141,"li"),s(142,"Nous faire profiter de son expertise en nous faisant d\xe9couvrir l'\xe9tat de l'art sur un sujet;"),a(),u(143,"li"),s(144,"Nous montrer un nouveau raccourcis clavier de l'IDE ou une nouvelle technique de programmation;"),a(),u(145,"li"),s(146,"Nous expliquer l'historique de l'application en cours de d\xe9veloppement;"),a(),u(147,"li"),s(148,"Nous inciter \xe0 exploiter de nouvelle fa\xe7on de faire."),a()(),u(149,"p"),s(150,"Lorsque ce savoir est partag\xe9, on \xe9conomise beaucoup de temps et d'\xe9nergie, car notre partenaire est \xe0 c\xf4t\xe9 de nous\net facilement accessible."),a(),u(151,"h4"),s(152,"4.2 Partager et transmettre"),a(),u(153,"ul")(154,"li"),s(155,"S'assurer que les connaissances perdurent et limiter le "),u(156,"span",0),s(157,"truck factor"),a(),s(158,";"),a(),u(159,"li"),s(160,"Accro\xeetre la quantit\xe9 de connaissances collectives et favoriser la connexion entre elles."),a()(),u(161,"app-callout-section",2)(162,"p"),s(163,"Le truck factor (facteur d'autobus), est une mesure de risque d\xfb \xe0 l'absence de partage d'information et de comp\xe9tences entre les membres d'une \xe9quipe."),a(),u(164,"p"),s(165,'Le terme vient de la question : "Combien de personnes-cl\xe9s peut-on perdre dans un accident de bus sans faire tomber l\'\xe9quipe ?"'),a()(),u(166,"p"),s(167,"Il est important de constamment \xe9changer sur le niveau de synchronisation."),a(),u(168,"p"),s(169,"Pour mesurer le niveau de synchronisation, on se demande en combien de temps on peut reprendre de travail de son\npartenaire lorsqu'il est absent."),a(),u(170,"p"),s(171,"Lorsque les participants sont trop d\xe9synchronis\xe9s, on prend moins de plaisir au bin\xf4mage et on perd en efficacit\xe9.\nSi la motivation est \xe9quilibr\xe9e, la synchronisation est optimale et on vit les sessions de bin\xf4mage les plus\nperformantes."),a(),u(172,"h4"),s(173,"4.3 Assurer et se rassurer"),a(),u(174,"p"),s(175,"Quand on est deux \xe0 r\xe9aliser une t\xe2che on se sent plus fort, on partage la responsabilit\xe9."),a(),u(176,"h4"),s(177,"4.4 Se motiver et s'entraider"),a(),u(178,"p"),s(179,"Parfois face \xe0 une t\xe2che difficile ou fastidieuse, face \xe0 laquelle on est d\xe9motiv\xe9, travailler en bin\xf4me permet alors de se remobiliser pour s'investir sur une telle t\xe2che."),a(),u(180,"h3"),s(181,"5. La vie \xe0 deux"),a(),u(182,"p"),s(183,"Pour collaborer, il sera n\xe9cessaire de communiquer avec son bin\xf4me, le respecter et adapter sa posture pour \xe9couter\net se faire entendre."),a(),u(184,"h4"),s(185,"5.1 Se d\xe9tacher de son \xe9go"),a(),u(186,"p"),s(187,"On a besoin de l'\xe9cosyst\xe8me, mais on ne lui est pas indispensable. Si on est indispensable, c'est qu'il y a un\nprobl\xe8me de truck factor."),a(),u(188,"p"),s(189,"Apprendre \xe0 se d\xe9tacher de ses id\xe9es et \xe0 accepter les contributions des autres."),a(),u(190,"p"),s(191,"Une des cons\xe9quences dans les \xe9quipes pratiquant le bin\xf4mage \xe0 temps complet consiste en la prise de conscience que\nle travail fourni (le code) n'appartient pas \xe0 une seule personne, mais \xe0 toute l'\xe9quipe."),a(),u(192,"h4"),s(193,"5.2 Le besoin ponctuel d'\xeatre seul"),a(),u(194,"p"),s(195,"Bin\xf4mer est une activit\xe9 intense et fatigante pour tous les participants. Organiser sa journ\xe9e en alternant temps de\ntravail soutenable et pause r\xe9guli\xe8res, permet de maintenir un rythme efficace."),a(),u(196,"ul")(197,"li"),s(198,"Traiter ses e-mails dans la routine de travail;"),a(),u(199,"li"),s(200,"R\xe9pondre aux impr\xe9vus;"),a(),u(201,"li"),s(202,"Se ressourcer : quand un des participants sature et qu'une pause ne suffit pas \xe0 r\xe9amorcer correctement le bin\xf4me, l'un des deux partenaires peut faire usage de son droit de refuser de bin\xf4mer. Il faut respecter ce droit, discuter de la situation et faire une retrospective. Puis s'organiser pour que chacun ait de quoi s'occuper et convenir d'un rendez-vous pour se synchroniser. Si l'un des deux partenaires \xe0 besoin de se retrouver seul, en parler et faciliter au maximum le retour au travail seul. Plus la transition bin\xf4mage/travail solitaire est naturelle, plus il sera envisageable de faire du bin\xf4mage \xe0 long terme."),a()(),u(203,"h4"),s(204,"5.4 Le droit de refuser de bin\xf4mer"),a(),u(205,"p"),s(206,"Parmi les raisons valables : "),a(),u(207,"ul")(208,"li"),s(209,"\xcatre fatigu\xe9, ne pas \xeatre de bonne humeur, \xeatre malade;"),a(),u(210,"li"),s(211,"Avoir d'autres pr\xe9occupations en t\xeate;"),a(),u(212,"li"),s(213,"Avoir envie de bin\xf4mer, mais pas avec une certaine personne;"),a(),u(214,"li"),s(215,"Ne pas \xeatre inspir\xe9 ou int\xe9ress\xe9 par le sujet."),a()(),u(216,"p"),s(217,"Ce droit de ne pas bin\xf4mer est valable dans les \xe9quipes o\xf9 le bin\xf4mage est possible et fait partie des pratiques adopt\xe9es par l'\xe9quipe."),a(),u(218,"p"),s(219,"Il existe deux autres situations o\xf9 le contexte pourrait \xeatre diff\xe9rent : "),a(),u(220,"ul")(221,"li"),s(222,"Les \xe9quipes o\xf9 le bin\xf4mage ne fait pas partie des pratiques adopt\xe9es par l'\xe9quipe;"),a(),u(223,"li"),s(224,"Les \xe9quipes o\xf9 le bin\xf4mage est la r\xe8gle et se fait \xe0 temps complet (tous les d\xe9veloppements se font en bin\xf4me)."),a()(),u(225,"h4"),s(226,"5.5 Conseils pratiques"),a(),u(227,"ul")(228,"li")(229,"span",0),s(230,"Charte de travail"),a(),s(231,", respect du partenaire et ponctualit\xe9;"),a(),u(232,"li")(233,"span",0),s(234,"Transparence"),a(),s(235," : plus la communication est saine, plus le travail sera efficace;"),a(),u(236,"li")(237,"span",0),s(238,"Retrospective"),a(),s(239," : permet d'am\xe9liorer les sessions;"),a(),u(240,"li")(241,"span",0),s(242,"Objectif partag\xe9"),a(),s(243," : commencer une session avec un objectif;"),a(),u(244,"li")(245,"span",0),s(246,"Agenda"),a(),s(247," : savoir quand s'arr\xeate la session facilite son bon d\xe9roulement;"),a(),u(248,"li")(249,"span",0),s(250,"Faire des pauses"),a(),s(251," : permet de mieux r\xe9partir les efforts et permet au cerveau de chacun de s'a\xe9rer et d'int\xe9grer les sujets abord\xe9s dans la session. Permet aussi de prendre du recul si besoin;"),a(),u(252,"li")(253,"span",0),s(254,"R\xe8gle du oui"),a(),s(255," : consiste \xe0 prendre en consid\xe9ration ce qui a \xe9t\xe9 fait avant votre intervention. Vous venez mutuellement vous enrichir avec votre partenaire et vous ne pouvez pas ignorer ses interventions au profit des v\xf4tres;"),a(),u(256,"li")(257,"span",0),s(258,"Savoir dire non"),a(),s(259,";"),a(),u(260,"li")(261,"span",0),s(262,"Astuces pratiques face au code"),a(),s(263," : en cas de divergence : "),u(264,"ul")(265,"li"),s(266,"Fais moi confiance pendant 5 minutes ;"),a(),u(267,"li"),s(268,"Faire les deux solutions puis d\xe9cider;"),a()()(),u(269,"li")(270,"span",0),s(271,"Finir sur une victoire"),a(),s(272,"."),a()(),u(273,"h4"),s(274,"5.6 Smells ou signaux d'alerte"),a(),u(275,"ul")(276,"li")(277,"span",0),s(278,"Le silence :"),a(),s(279," indique un manque de collaboration, un d\xe9saccord ou qu'un des partenaires a d\xe9croch\xe9;"),a(),u(280,"li")(281,"span",0),s(282,"R\xf4les fig\xe9s :"),a(),s(283," se produit lorsqu'un participant est plus exp\xe9riment\xe9 qu'un autre. Le novice se contente d'observer l'expert r\xe9aliser la majorit\xe9 des t\xe2ches de d\xe9veloppement, g\xe9n\xe9ralement sans apprendre efficacement. Synchroniser les participants pour \xe9viter ce comportement : la navigation en strong style est id\xe9ale pour r\xe9soudre ce genre de probl\xe8mes;"),a(),u(284,"li")(285,"span",0),s(286,"Diff\xe9rentes machines :"),a(),s(287," on perd l'int\xe9r\xeat de b\xe9n\xe9ficier de deux cerveaux et de deux paires d'yeux pour analyser et produire du code. Effectuer des recherches ensemble fait parti du bin\xf4mage et permet de rester synchronis\xe9 et de partager les m\xeames informations (quelles pistes ont \xe9t\xe9 explor\xe9 ...);"),a(),u(288,"li")(289,"span",0),s(290,"D\xe9sengagement"),a(),s(291,"."),a()(),u(292,"h3"),s(293,"6. Le mob programming"),a(),u(294,"p"),s(295,"Avec la pr\xe9sence de toute l'\xe9quipe et en particulier de la personne dans le r\xf4le du Product Owner, cette approche acc\xe9l\xe8re la prise de d\xe9cision et renforce la r\xe9sistance aux perturbations."),a(),u(296,"p"),s(297,"Pour \xeatre efficace, il faut apprendre \xe0 faire preuve de retenue et \xe0 r\xe9agir moins fr\xe9quemment, en laissant le temps\n\xe0 chacun de s'approprier le code en cours d'\xe9volution projet\xe9 sur l'\xe9cran partag\xe9."),a(),u(298,"p"),s(299,"Certaines \xe9quipes travaillent exclusivement comme \xe7a, d'autres r\xe9servent cette pratique \xe0 des t\xe2ches sensibles ou\ndifficile, d'autres y consacrent une fraction de la semaine."),a(),u(300,"p"),s(301,"M\xeame sans adopter cette fa\xe7on de travailler, le mob programming rest un formidable outil p\xe9dagogique lors de\nformation et d'ateliers. Son efficacit\xe9 pour apprendre ou pour aligner les pratiques de code, de conception, d'architecture,\nde connaissance du m\xe9tier ou de documentation n'est plus \xe0 d\xe9montrer."),a(),u(302,"app-callout-section",3)(303,"ul")(304,"li"),s(305,"Pair Programming Illuminated. Laurie Williams et Robert Kessler, Addison Wesley, 2002"),a(),u(306,"li")(307,"a",4),s(308,"Pair Programming Games"),a(),s(309," par Adriana Bolboaca"),a(),u(310,"li")(311,"a",5),s(312,"Pair Practice"),a(),s(313,". Bill Wake"),a()()())},dependencies:[Ft],encapsulation:2})}}return e})()},{path:"refactoring",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-refactoring"]],standalone:!0,features:[H],decls:351,vars:0,consts:[[1,"pink-purple-txt"],[1,"label"],[1,"langage-c#"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"L'importance des techniques de refactoring"),a(),u(2,"h3"),s(3,"1. Transformer le code pour l'am\xe9liorer"),a(),u(4,"p"),s(5,"Rendre le code plus lisible, plus facile \xe0 maintenir et propice \xe0 accueillir des \xe9volutions."),a(),u(6,"p"),s(7,"C'est \xe9troitement li\xe9 \xe0 la pr\xe9sence d'une couverture de tests suffisamment solide pour garantir que les am\xe9lioration du code se feront en toute s\xe9curit\xe9."),a(),u(8,"h3"),s(9,"2. Le code : une mati\xe8re en perp\xe9tuelle transformation"),a(),u(10,"p"),s(11,"Au fur et \xe0 mesure que nous renfor\xe7ons nos connaissances, qu'elles soient propres au m\xe9tier ou techniques, nous pouvons\nles mettre \xe0 profit pour des am\xe9liorations successives du code. C'est donc un processus it\xe9ratif de raffinage du code."),a(),u(12,"p"),s(13,"Ne jamais laisser du code dans un moins bon \xe9tat que celui dans lequel on l'a r\xe9cup\xe9r\xe9."),a(),u(14,"p"),s(15,"Un d\xe9veloppeur est plus utile pour trouver des solutions nouvelles et \xe0 veiller \xe0 la qualit\xe9 de son propre code, plut\xf4t\nqu'\xe0 s'acharner \xe0 d\xe9crypter le code de ses pr\xe9d\xe9cesseurs."),a(),u(16,"h3"),s(17,"3. Le refactoring comme antidote de la dette technique"),a(),u(18,"p"),s(19,"Le terme de dette technique emprunte au domaine de la finance, comme toute dette, elle doit \xeatre rembours\xe9e, dans le\ncas contraire, on court progressivement \xe0 la faillite du projet. Plus on tarde \xe0 rembourser, plus les int\xe9r\xeats co\xfbtent\ncher."),a(),u(20,"h3"),s(21,"4. Les freins au refactoring"),a(),u(22,"ul")(23,"li"),s(24,"Il est consid\xe9r\xe9 comme un poste de co\xfbt par le client. Mais c'est une vision court-termiste;"),a(),u(25,"li"),s(26,"Les d\xe9veloppeurs ont peur de provoquer des r\xe9gressions;"),a(),u(27,"li"),s(28,"Les \xe9quipes peuvent s'interdire d'en faire afin de ne pas perdre de temps invisible pour le client;"),a(),u(29,"li"),s(30,"Dans certaines \xe9quipes, la culture de la qualit\xe9 de code est absente;"),a(),u(31,"li"),s(32,"Manque d'envie de faire des efforts, manque de connaissances ou de savoir faire."),a()(),u(33,"h3"),s(34,"5. Un principe fondateur : exprimer l'intention"),a(),u(35,"p"),s(36,"A la lecture du code, on ne devrait pas avoir \xe0 deviner ce que les contributeurs ont cherch\xe9 \xe0 faire. Si c'est le cas,\nc'est un d\xe9ficit d'expression de l'intention. Il faut alors la renforcer au moyen du refactoring."),a(),u(37,"p"),s(38,"L'impression que tout est m\xe9lang\xe9, que le code fait plein de choses en m\xeame temps, ou que chaque morceau de code est\ntrop li\xe9 aux autres, constitue \xe9galement une difficult\xe9 majeure dans la compr\xe9hension d'une base de code."),a(),u(39,"h3"),s(40,"6. Principes m\xe9thodologiques de refactoring"),a(),u(41,"p"),s(42,"Une pratique efficace et pertinente du refactoring n\xe9cessite de :"),a(),u(43,"ul")(44,"li")(45,"span",0),s(46,"Savoir reconna\xeetre quand un refactoring est n\xe9cessaire :"),a(),s(47,' cela passe par une ma\xeetrise des principes du Clean Code (SOLIDE, loi Demeter, KISS, YAGNI, ...) et une capacit\xe9 \xe0 identifier leurs violations, ainsi qu\'\xe0 reconna\xeetre les "codes smells" les plus fr\xe9quents;'),a(),u(48,"li")(49,"span",0),s(50,"Conna\xeetre les patterns de refactoring les plus courants :"),a(),s(51," renommage, extraction (classes, m\xe9thodes, variables, ...) pour le d\xe9coupage, inline et combinaison extract-inline, d\xe9placement, changement de signature ;"),a(),u(52,"li")(53,"span",0),s(54,"A l'inverse"),a(),s(55,", savoir reconna\xeetre quand un refactoring peut se montrer contre-productif ou pr\xe9matur\xe9;"),a(),u(56,"li")(57,"span",0),s(58,"Ma\xeetriser les outils et notamment l'IDE : "),a(),s(59,"conna\xeetre ses possibilit\xe9s et diff\xe9rentes astuces offertes pour gagner en fluidit\xe9, en productivit\xe9 et en robustesse de la pratique."),a()(),u(60,"h4"),s(61,"6.1 Les tests comme pr\xe9requis \xe0 tous refactoring"),a(),u(62,"h4"),s(63,"6.2 Transformer par petits pas s\xfbrs"),a(),u(64,"p"),s(65,"Les b\xe9n\xe9fices sont multiples"),a(),u(66,"ul")(67,"li"),s(68,"Les \xe9tapes sont petites, ce qui lib\xe8re de la charge mentale;"),a(),u(69,"li"),s(70,"En cas d'\xe9chec, signal\xe9 gr\xe2ce aux tests, on peut d\xe9faire facilement ce qu'on vient de modifier."),a()(),u(71,"p"),s(72,"Pour travailler de cette fa\xe7on, il est important de comprendre et de ma\xeetriser les diff\xe9rents patterns de refactoring. "),u(73,"span",0),s(74,"Martin Fowler : Livre Refactoring"),a()(),u(75,"p"),s(76,"Conna\xeetre les raccourcis de l'IDE, ses capacit\xe9s en terme de refactoring et les gains de productivit\xe9 offerts constituent\nun atout indispensable."),a(),u(77,"p"),s(78,"Pour progresser dans une pratique fluide et efficace du refactoring, il est important de s'imposer la r\xe8gle essentielle\ndes "),u(79,"span",0),s(80,"changements non cassants"),a(),s(81,", c'est-\xe0-dire tout changement qui permet au code de\ncontinuer \xe0 fonctionner."),a(),u(82,"h3"),s(83,"7. Patterns de refactoring : La bo\xeete \xe0 outils"),a(),u(84,"h4"),s(85,"7.1 Renommage :"),a(),u(86,"p"),s(87,"Il peut s'appliquer \xe0 l'ensemble des \xe9l\xe9ments nomm\xe9s du code : classes, variables, constantes, attributs, m\xe9thodes, param\xe8tres."),a(),u(88,"p"),s(89,"Les \xe9l\xe9ments non nomm\xe9s : les expressions, les blocs de code, les fonctions anonymes ou lambda ne sont pas directement\n\xe9ligibles \xe0 ce patterns, il faudra au pr\xe9alable faire une extraction."),a(),u(90,"ul")(91,"li")(92,"span",0),s(93,"Identifier"),a(),s(94," l'\xe9l\xe9ment \xe0 renommer;"),a(),u(95,"li")(96,"span",0),s(97,"Chercher"),a(),s(98," toutes les occurrences dans le code;"),a(),u(99,"li")(100,"span",0),s(101,"Modifier"),a(),s(102," le nom de l'\xe9l\xe9ment et de toutes ces occurrences;"),a(),u(103,"li")(104,"span",0),s(105,"Relancer"),a(),s(106," les tests."),a()(),u(107,"p"),s(108,"Il faut s'assurer que l'\xe9l\xe9ment renomm\xe9 n'est pas r\xe9f\xe9renc\xe9 \xe0 l'int\xe9rieur d'une cha\xeene de caract\xe8res (par exemple\nlorsqu'on pratique l'invocation dynamique) ou dans un commentaire."),a(),u(109,"h4"),s(110,"7.2 Extraction"),a(),u(111,"p"),s(112,"L'Extraction du code r\xe9pond \xe0 de multiple besoins :"),a(),u(113,"ul")(114,"li"),s(115,"D\xe9couper le code en unit\xe9s plus petites;"),a(),u(116,"li"),s(117,"Offrir une opportunit\xe9 de nommer un bloc de code;"),a(),u(118,"li"),s(119,"Renforcer les abstractions;"),a(),u(120,"li"),s(121,"R\xe9duire la duplication (lorsque le code extrait appara\xeet \xe0 de multiples reprises."),a()(),u(122,"p"),s(123,"L'ensemble contribue \xe0 am\xe9liorer l'expression de l'intention et \xe0 rendre le code plus \xe9volutif."),a(),u(124,"p"),s(125,"L'extraction se d\xe9cline sous les formes suivantes : fonctions/m\xe9thodes, variables, attributs, constantes."),a(),u(126,"p"),s(127,"Ce pattern s'applique de fa\xe7on progressive : une expression qui en premier lieu est extraite en variable, puis en\nm\xe9thode, puis en classe. Cela contribue au respect du "),u(128,"span",0),s(129,"Principe de Responsabilit\xe9 unique"),a(),s(130," : d'abord on r\xe9duit la taille\nde la m\xe9thode, puis de la classe initiale en cr\xe9ant une nouvelle classe."),a(),u(131,"ul")(132,"li")(133,"span",0),s(134,"Cas de code dupliqu\xe9 :"),a()(),u(135,"p"),s(136,"Question \xe0 se poser : Si je dois changer du code \xe0 un endroit, faut-il le changer \xe9galement dans les autres occurrences de ce code ?"),a(),u(137,"p"),s(138,"Si la r\xe9ponse est oui, alors il faut probablement refactorer le code."),a(),u(139,"p"),s(140,"Le refactoring Extract avec l'option de remplacer toutes les occurrences permet de retirer cette duplication instantan\xe9ment."),a(),u(141,"p"),s(142,"Toute r\xe8gle m\xe9tier ne doit \xeatre \xe9crite qu'une seule fois."),a(),u(143,"p"),s(144,"A l'inverse, refactorer du code technique, est souvent utile, mais il faut veiller \xe0 ne pas pousser l'abstraction trop loin : trop de g\xe9n\xe9ricit\xe9 peut rendre le code moins facile \xe0 comprendre, et le rendre moins \xe9volutif parce qu'il devient utilis\xe9 par beaucoup de monde."),a(),u(145,"p"),s(146,"Il est important de faire attention \xe0 ce qui ressemble \xe0 de la duplication mais qui n'en est pas. Parfois, deux morceaux de code ne sont pas identiques, mais similaires. D'autres fois, les codes sont identiques, mais op\xe8rent dans des contextes ou \xe0 des niveaux d'abstraction diff\xe9rents."),a(),u(147,"li")(148,"span",0),s(149,"Cas particulier : magic value (string/number)"),a()(),u(150,"p"),s(151,"Le code ne devrait pas utiliser directement des litt\xe9raux num\xe9riques ou textuels pour lesquels on risque de perdre l'intention."),a(),u(152,"pre"),s(153," "),u(154,"span",1),s(155,"C#"),a(),s(156,"\n  "),u(157,"code",2),s(158,"\n    if (label.length() > 40) {\n      //\n    }\n\n    if (label.length() > MAX_LABEL_LENGTH) {\n      //\n    }\n  "),a(),s(159,"\n"),a()(),u(160,"p"),s(161,'Le refactoring automatis\xe9 "Extract Constant" permet d\'effectuer cette transformation.'),a(),u(162,"p"),s(163,"On pourrait \xe9galement extraire la valeur magique dans une variable ou une m\xe9thode, en fonction de la port\xe9e et la\nr\xe9utilisabilit\xe9 souhait\xe9e."),a(),u(164,"h4"),s(165,"7.3 Inversion de lignes"),a(),u(166,"p"),s(167,"Remplace avantageusement le copier/coller et facilite : "),a(),u(168,"ul")(169,"li"),s(170,"Le d\xe9coupage en regroupant les lignes de code par unit\xe9 logiques, pr\xe9alablement \xe0 l'extraction par exemple;"),a(),u(171,"li"),s(172,"Le renommage en affinant la compr\xe9hension du r\xf4le de certaines variables."),a()(),u(173,"p"),s(174,"L'inversion de m\xe9thodes permet de r\xe9organiser l'ordre des m\xe9thodes dans une classe, pour en faciliter la lecture\n(clean code)."),a(),u(175,"h4"),s(176,"7.4 R\xe9\xe9criture d'instructions conditionnelles"),a(),u(177,"ul")(178,"li"),s(179,"En inversant la condition et les deux branches du if;"),a(),u(180,"li"),s(181,"En transformant un if/else en ternaire, ou inversement;"),a(),u(182,"li"),s(183,"En s'appuyant sur l'alg\xe8bre de Boole (notamment des lois de De Morgan) pour am\xe9liorer les conditions complexes;"),a(),u(184,"li"),s(185,"En fusionnant plusieurs if en un seul, en cas de duplication dans les blocs de if/else;"),a(),u(186,"li"),s(187,"En faisant \xe9voluer une succession de if vers un switch lorsque c'est possible."),a()(),u(188,"p"),s(189,"Ces transformations automatique de l'IDE, sont motiv\xe9es par le gain en lisibilit\xe9 et plus sp\xe9cifiquement pour les\nraisons suivantes :"),a(),u(190,"ul")(191,"li"),s(192,"Maintenir un seul niveau d'indentation;"),a(),u(193,"li"),s(194,"Echouer ou renvoyer une valeur le plus t\xf4t possible (principe de fail fast);"),a(),u(195,"li"),s(196,"R\xe9duire la duplication."),a()(),u(197,"h4"),s(198,"7.5 R\xe9\xe9criture de boucles"),a(),u(199,"p"),s(200,"Les algorithmes de traitement des collections, lorsqu'ils sont \xe9crits dans un style proc\xe9dural, offrent peu de lisibilit\xe9 :"),a(),u(201,"pre"),s(202," "),u(203,"span",1),s(204,"C#"),a(),s(205,"\n  "),u(206,"code",2),s(207,"\n    List<Student> students = studentRepository.findAll();\n    List<String> masterStudentNames = new ArrayList();\n\n    for (Student student : students)  {\n      if (student.getGrade() == Grade.MASTER){\n        masterStudentNames.add()student.getName());\n      }\n    }\n    return masterStudentNames;\n  "),a(),s(208,"\n"),a(),u(209,"p"),s(210,"On se retrouve avec plusieurs niveaux d'indentation, on a besoin d'une variable interm\xe9diaire et les responsabilit\xe9s\nentre le parcours, le filtrage et la transformation sont mal d\xe9limit\xe9es. Dans un style plus fonctionnel on aurait le code\nsuivant : "),a(),u(211,"pre"),s(212," "),u(213,"span",1),s(214,"C#"),a(),s(215,"\n  "),u(216,"code",2),s(217,"\n    studentRepository.findAll().stream()\n      .filter(student -> student.getGrade() == Grade.MASTER)\n      .map(Student::getName())\n      .collect(Collectors.toList());\n  "),a(),s(218,"\n"),a(),u(219,"p"),s(220,"On exprime ce qui doit \xeatre fait (filtrer les \xe9tudiants titulaires d'un master et projeter leur nom). Plut\xf4t que\ncomment on le fait (avec la boucle for)"),a(),u(221,"p"),s(222,"Dans certaines situations, le code imp\xe9ratif d'une boucle ne se pr\xeate pas \xe0 une r\xe9\xe9criture plus d\xe9clarative : le code\npeut \xeatre trop long et provoquer des effets de bord."),a(),u(223,"p"),s(224,"La pr\xe9sence d'une boucle reste une indication sur la n\xe9cessit\xe9 d'extraire le bloc \xe0 l'int\xe9rieur de la boucle dans une\nnouvelle m\xe9thode : on distingue l'op\xe9ration unitaire de l'op\xe9ration sur un ensemble. A noter que le code d'une boucle\nne s'y pr\xeate pas toujours, notamment lorsque chaque it\xe9ration modifie plusieurs \xe9tats (on cherchera alors \xe0 renforcer\nla coh\xe9sion d'ensemble en les regroupant dans un seul objet)."),a(),u(225,"h4"),s(226,"7.6 Changement de signature"),a(),u(227,"p"),s(228,"Les op\xe9rations les plus courantes :"),a(),u(229,"ul")(230,"li")(231,"span",0),s(232,"Revoir l'ordre des param\xe8tres"),a(),s(233," : du plus essentiel au plus optionnel, du plus significatif au moins important;"),a(),u(234,"li")(235,"span",0),s(236,"Homog\xe9n\xe9iser l'ordre des param\xe8tres"),a(),s(237," sur plusieurs appels imbriqu\xe9s pour r\xe9duire la charge mentale \xe0 la lecture;"),a(),u(238,"li")(239,"span",0),s(240,"Regrouper les param\xe8tres"),a(),s(241," en fonction de la coh\xe9sion fonctionnelle, en cr\xe9ant si n\xe9cessaire des abstractions sous la forme de nouveaux types."),a()(),u(242,"h4"),s(243,"7.7 D\xe9placement"),a(),u(244,"p"),s(245,"Son r\xf4le est de red\xe9finir les responsabilit\xe9s des classes en d\xe9pla\xe7ant certaines de leurs m\xe9thodes et propri\xe9t\xe9s. Si\nune classe \xe0 plusieurs responsabilit\xe9s, on peut la s\xe9parer en deux classes et d\xe9placer les m\xe9thodes d'une classe \xe0 l'autre."),a(),u(246,"p"),s(247,"On peut aussi d\xe9finir une classe m\xe8re qui pourra \xeatre r\xe9utilis\xe9e et d\xe9placer les propri\xe9t\xe9s de la classe fille vers\nla classe m\xe8re."),a(),u(248,"h4"),s(249,"7.8 Inlining"),a(),u(250,"p"),s(251,"Consiste \xe0 r\xe9ins\xe9rer un morceau de code r\xe9f\xe9renc\xe9 aux endroits qui y font r\xe9f\xe9rence. Ainsi les occurrences de la\nr\xe9f\xe9rence au code seront substitu\xe9es directement par le code r\xe9f\xe9renc\xe9."),a(),u(252,"h3"),s(253,"8. Refactoring vers des design patterns"),a(),u(254,"p"),s(255,"Une succession de conditions suffisamment nombreuses (if ou switch) peut se refactorer vers le pattern Strat\xe9gie."),a(),u(256,"p"),s(257,"Des boucles peuvent se refactorer vers le pattern Composite."),a(),u(258,"p"),s(259,"Des v\xe9rifications de non-null peuvent se refactorer vers le pattern Null Object."),a(),u(260,"h3"),s(261,"9. Combinaison de patterns"),a(),u(262,"h4"),s(263,"9.1 Un refactoring pour pr\xe9parer le suivant"),a(),u(264,"p"),s(265,"Extraire des variables locales, nomm\xe9s, permet de pr\xe9parer le terrain pour l'IDE qui va proposer la signature\nla plus pertinente pour une extraction de m\xe9thode."),a(),u(266,"p"),s(267,"Rassembler tous les return d'une m\xe9thode dans une variable locale temporaire afin de permettre un Extract Method par\nl'IDE, avant de finalement effacer cette variable locale."),a(),u(268,"h4"),s(269,"9.2 D\xe9grader pour am\xe9liorer"),a(),u(270,"p"),s(271,"Permet de le consid\xe9rer sous une autre perspective avec une compr\xe9hension nouvelle."),a(),u(272,"ul")(273,"li")(274,"span",0),s(275,"Inline + extract method"),a()(),u(276,"p"),s(277,"L'\xe9tape inline d\xe9grade le code, en rassemblant tous le code dans un m\xeame fragment trop gros et avec trop de responsabilit\xe9s, mais cela permet de faire facilement l'inventaire de toutes ces responsabilit\xe9s afin de mieux les extraire dans les \xe9tapes \"extract\"."),a(),u(278,"li")(279,"span",0),s(280,"Extraction de fonction/inlining"),a()(),u(281,"p"),s(282,"Lorsqu'il faut r\xe9\xe9crire des occurrences multiples d'un m\xeame code, cette combinaison offre une alternative plus s\xe9curis\xe9e et efficace que le rechercher/remplacer. Elle consiste \xe0 : "),a(),u(283,"ul")(284,"li")(285,"span",0),s(286,"Identifier"),a(),s(287," le code \xe0 remplacer;"),a(),u(288,"li")(289,"span",0),s(290,"Extraire"),a(),s(291," toutes les occurrences de ce code dans une m\xe9thode;"),a(),u(292,"li")(293,"span",0),s(294,"Retravailler"),a(),s(295," le code dans la m\xe9thode ainsi extraite; "),a(),u(296,"li"),s(297,"Une fois termin\xe9, "),u(298,"span",0),s(299,'"inliner"'),a(),s(300," la m\xe9thode en rempla\xe7ant toutes les occurrences."),a()(),u(301,"p"),s(302,"L'extraction fournit un buffer temporaire de r\xe9\xe9criture du code plus s\xfbr que le rechercher/remplacer qui travaille directement au niveau textuel, ce qui peut se r\xe9v\xe9ler dangereux. Avec une combinaison \"extraction + inline\", on travail au niveau du mod\xe8le logique du code, ce qui garantit une r\xe9\xe9criture correcte d'un point de vue s\xe9mantique."),a()(),u(303,"h3"),s(304,"10. Situations n\xe9cessitant du refactoring "),a(),u(305,"p"),s(306,"M\xe9thode trop longue, code trop complexe, trop de param\xe8tres d'une m\xe9thode ou trop de donn\xe9es membres d'une classe, ..."),a(),u(307,"h4"),s(308,"10.1 Code dans le code"),a(),u(309,"p"),s(310,"Pr\xe9sence de script SQL (Linq) dans le code objet (C#)."),a(),u(311,"p"),s(312,"L'IDE n'est pas \xe0 l'aise avec cet autre langage et consid\xe8re son code comme du texte, excluant toute possibilit\xe9\nde refactoring automatique. S'ajoute \xe0 cette difficult\xe9 l'absence fr\xe9quente de tests (code qui mobilise des ressources externes comme la bdd et par nature difficile \xe0 mocker)."),a(),u(313,"p"),s(314,"On essaiera dans la mesure du possible de limiter au strict n\xe9cessaire les inclusions d'autres langages, en se\ntournant vers les possibilit\xe9s offertes par le langage principal (utilisation des fonctionnalit\xe9s de mapping objet-relationnel)"),a(),u(315,"h4"),s(316,"10.2 Code avec modification d'\xe9tat"),a(),u(317,"p"),s(318,"Un code qui modifie une ou plusieurs variables ext\xe9rieures (param\xe8tres d'entr\xe9e, attributs d'une classe, variables globales) peut \xeatre consid\xe9r\xe9 comme un code avec modification d'\xe9tat."),a(),u(319,"p"),s(320,"Ce code ayant des int\xe9ractions avec l'ext\xe9rieur, il est plus difficile de pr\xe9voir les impacts d'une r\xe9\xe9criture."),a(),u(321,"p"),s(322,"Au contraire, un code qui est \xe9crit comme une fonction pure, c'est-\xe0-dire que pour chaque ensemble de param\xe8tres\nen entr\xe9e on attend une valeur en sortie bien d\xe9termin\xe9e, est beaucoup plus facile \xe0 tester et donc \xe0 r\xe9\xe9crire."),a(),u(323,"p"),s(324,"La difficult\xe9 est plus \xe9lev\xe9e si on multiplie le nombre de variable ext\xe9rieures et que ces derni\xe8res sont \xe9loign\xe9es\nentre elles."),a(),u(325,"p"),s(326,"Pour avancer, on cherchera dans un premier temps \xe0 rapprocher leur d\xe9finition de l'endroit o\xf9 elles sont r\xe9ellement\nutilis\xe9es. On pourra aussi rendre leur p\xe9rim\xe8tre plus local, en en faisant une copie dans une variable locale, ou encore\nregrouper les variables dans un objet de contexte qui pourra \xeatre pass\xe9 en param\xe8tre. L'objectif est de rendre ce code plus\npropice \xe0 l'extraction de m\xe9thodes."),a(),u(327,"h3"),s(328,"11. Refactorer aussi le code de test"),a(),u(329,"p"),s(330,"Le code de test est le point d'entr\xe9e pour un nouvel arrivant, il peut offrir une valeur documentaire \xe9lev\xe9e. Si il est bien fait\non arrive \xe0 comprendre facilement les fonctionnalit\xe9s de l'application."),a(),u(331,"ul")(332,"li"),s(333,"Renforcer la clart\xe9 de l'intention du test;"),a(),u(334,"li"),s(335,"D\xe9limiter des parties du test suivant le pattern AAA;"),a(),u(336,"li"),s(337,"Faciliter la maintenabilit\xe9 du test."),a()(),u(338,"p"),s(339,"D'une mani\xe8re g\xe9n\xe9rale, une User Storie est repr\xe9sent\xe9e dans le nom de la classe de test, alors que les noms de m\xe9thodes\nd\xe9crivent la r\xe8gle de gestion, voire l'exemple test\xe9."),a(),u(340,"ul")(341,"li"),s(342,"Bien nommer les tests;"),a(),u(343,"li"),s(344,"Ne pas faire de tests trop gros;"),a(),u(345,"li"),s(346,"Eviter de m\xe9langer les niveaux d'abstraction;"),a(),u(347,"li"),s(348,"Favoriser la r\xe9utilisation (notamment pour initialiser le contexte);"),a(),u(349,"li"),s(350,"Ma\xeetriser l'IDE pour nous faciliter la t\xe2che et notamment g\xe9n\xe9rer les classes et m\xe9thodes du code de production au fil de l'eau."),a()())},encapsulation:2})}}return e})()},{path:"legacy-code",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-legacy-code"]],standalone:!0,features:[H],decls:375,vars:0,consts:[["src","assets/images/codeLegacyMethodologie.jpeg","alt","",1,"legacyImage"],[1,"pink-purple-txt"],["title","Citation"],["href","https://www.youtube.com/live/LSqbXorkyfQ?si=W2TRPdEVJC4AUWbP"],["title","Conseil"],[1,"label"],[1,"c#"],["href","https://github.com/emilybache/GildedRose-Refactoring-Kata"],["href","https://github.com/approvals/ApprovalTests.Net"],["title","Remarque"],[1,"C#"],["title","Michael Feathers"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Travailler avec du code legacy"),a(),u(2,"p"),s(3,"Le code legacy est un code qui ne dispose pas de tests."),a(),u(4,"h3"),s(5,"1. Apprivoiser le code legacy"),a(),j(6,"img",0),u(7,"h4"),s(8,"1.1 Adopter le bon \xe9tat d'esprit"),a(),u(9,"ul")(10,"li")(11,"span",1),s(12,"Garder son calme."),a()(),u(13,"li")(14,"span",1),s(15,"Rester focus."),a(),u(16,"p"),s(17,"Si l'application n'a pas besoin d'\xe9voluer, le code existant est certainement suffisant pour tourner en production."),a(),u(18,"p")(19,"span",1),s(20,"Question \xe0 se poser : "),a(),s(21,"quel objectif on poursuit ?"),a(),u(22,"ul")(23,"li"),s(24,"Fournir une \xe9volution ?"),a(),u(25,"li"),s(26,"Corriger une anomalie ?"),a(),u(27,"li"),s(28,"R\xe9duire un aspect de dette technique encombrant pour des fonctionnalit\xe9s \xe0 venir ?"),a()(),u(29,"p"),s(30,"Le remaniement de code legacy \xe9tant risqu\xe9 et on\xe9reux, il est important de se concentrer sur les r\xe9\xe9critures "),u(31,"span",1),s(32,"qui apportent une r\xe9elle valeur."),a()(),u(33,"p"),s(34,"Rester focalis\xe9 sur un probl\xe8me \xe0 la fois, proc\xe9der par petites it\xe9rations."),a()()(),u(35,"h4"),s(36,"1.2 S'impr\xe9gner du code"),a(),u(37,"p"),s(38,"Faire un \xe9tat des lieux."),a(),u(39,"ul")(40,"li")(41,"span",1),s(42,"Le code est-il ex\xe9cutable ?"),a(),u(43,"p"),s(44,"Quels sont les moyens d'int\xe9ragir avec l'application et d'observer les effets ?"),a(),u(45,"p"),s(46,"Une documentation est-elle fournie ?"),a()(),u(47,"li")(48,"span",1),s(49,"Des tests sont-ils pr\xe9sents ?"),a(),u(50,"p"),s(51,"Peut-on lancer les tests ? Sont-ils annot\xe9s ignor\xe9s ou comment\xe9s ? Ce sont de vrais tests, avec assertions sens\xe9es ?"),a(),u(52,"p"),s(53,"Quand les tests peuvent-\xeatre ex\xe9cut\xe9s, certains passent, d'autres non."),a(),u(54,"p"),s(55,"Pour les tests qui ne passent pas, on ne peut pas en d\xe9terminer grand chose, il faudra probablement prendre la d\xe9cision de les jeter. Ils ne sont plus en phase avec la r\xe9alit\xe9 du code."),a()(),u(56,"li")(57,"span",1),s(58,"Se faire une id\xe9e g\xe9n\xe9rale du code."),a(),u(59,"p"),s(60,"Identifier le p\xe9rim\xe8tre d'intervention sur le code."),a(),u(61,"p"),s(62,"Recenser les structures de donn\xe9es, les concepts qui sont manipul\xe9s, pour commencer \xe0 construire un mod\xe8le mental."),a(),u(63,"p"),s(64,"Noter ce qui ne va pas, am\xe9lioration et refactoring \xe0 pr\xe9voir. S'entra\xeener \xe0 remarquer les patterns (des if qui reviennent souvent), rep\xe9rer la duplication. Sans toucher au code. On peut \xe9ventuellement mettre des TODO et FIXME"),a()(),u(65,"li")(66,"span",1),s(67,"\xc9crire les tests qui manquent."),a()()(),u(68,"h3"),s(69,"2. Tester le code legacy"),a(),u(70,"h4"),s(71,"Poser un premier test"),a(),u(72,"app-callout-section",2)(73,"p"),s(74,"\"Ce qui est important n'est pas ce que le code est suppos\xe9 faire mais ce qu'il fait vraiment.\""),a(),u(75,"p"),s(76,"Arnaud Lemaire "),u(77,"a",3),s(78,"Youtube tutorial : kata trip Service."),a()()(),u(79,"p"),s(80,"Contrairement au TDD, dans le code legacy, c'est au code de test de se conformer au comportement du code de production."),a(),u(81,"h4"),s(82,"Approche par compr\xe9hension du code"),a(),u(83,"p"),s(84,"Face \xe0 un code plut\xf4t clair, on peut essayer d'identifier les r\xe8gles de gestion qui serviront de fondation aux tests."),a(),u(85,"app-callout-section",4)(86,"P"),s(87,"Tester en premier les branches les moins profondes du code (les plus directement accessibles), refactorer en premier les branches les plus profondes."),a()(),u(88,"pre"),s(89,"  "),u(90,"span",5),s(91,"c#"),a(),s(92,"\n  "),u(93,"code",6),s(94,"\n    public List<Trip> getTripsByUser(User user) throws UserNotLeggedInException {\n      List<Trip> tripList = new ArrayList<Trip>();\n      User loggedUser = UserSession.getInstance().getLoggedUser();\n      boolean isFriend = false;\n      if(loggedUser != null) {\n        // ...\n      } else {\n      throw new UserNotLoggedInException();\n      }\n    }\n  "),a(),s(95,"\n"),a(),u(96,"p"),s(97,"On remarque que la ligne \"isFriend\" n'est pas utilis\xe9 \xe0 ce niveau, c'est une indication que le scope de d\xe9finition\nde cette variable est certainement trop large (la d\xe9placer \xe0 l'int\xe9rieur du bloc if serait plus pertinent)."),a(),u(98,"h4"),s(99,"Approche par observation du code"),a(),u(100,"p"),s(101,"Le code est trop \xe9nigmatique, on se tourne vers une approche \"bo\xeete noire\", en stimulant le code, c'est-\xe0-dire qu'on le force \xe0 produire un comportement et en capturant son comportement r\xe9el."),a(),u(102,"a",7),s(103,"Kata Gilded Rose"),a(),u(104,"ul")(105,"li")(106,"span",1),s(107,"Construction d'un golden master"),a(),s(108," : Avec un code si cryptique, il est n\xe9cessaire de partir sur une approche contre-intuitive. Il faut se baser sur l'id\xe9e que le code tourne en production, fait ce qui est attendu et repr\xe9sente donc une v\xe9rit\xe9 absolue. On va chercher \xe0 observer et tracer son comportement. Pour cela on va stimuler le code et enregistrer les effets produits (par exemple dans un fichier de r\xe9f\xe9rence). C'est cet enregistrement qu'on d\xe9signe par le terme de "),u(109,"span",1),s(110,"golden master"),a(),s(111,". "),u(112,"p"),s(113,"Le golder master est comme une forme de tests de caract\xe9risation, c'est-\xe0-dire, des tests qui appellent le code existant sans le modifier pour observer comment il se comporte. Le golden master enregistre tous les r\xe9sultats attendus pour chacun des jeux de valeur en entr\xe9e."),a(),u(114,"p"),s(115,"Plus il est \xe9toff\xe9, plus il offre un filet de s\xe9curit\xe9 efficace contre d'\xe9ventuelles r\xe9gressions."),a()(),u(116,"li")(117,"span",1),s(118,"Choix des donn\xe9es de test en entr\xe9e."),a()(),u(119,"li")(120,"span",1),s(121,"Construction it\xe9rative du golder master."),a()(),u(122,"li")(123,"span",1),s(124,"Exhaustivit\xe9 du golder master"),a(),s(125," : la question \xe0 se poser : \xe0 partir de quand on peut s'estimer confiant et arr\xeater d'\xe9crire des tests ? "),u(126,"ul")(127,"li")(128,"span",1),s(129,"Principe de couverture de test"),a(),s(130," : tout nouveau test augmentant le score de couverture se montrera pertinent."),a(),u(131,"li")(132,"span",1),s(133,"Importance des assertions"),a(),s(134," : v\xe9rifier quelles sont pertinentes et s'assurer qu'elles \xe9chouent au moins une fois en \xe9crivant le test (en apportant volontairement une r\xe9gression sur le code test\xe9)."),a(),u(135,"li")(136,"span",1),s(137,"Couverture des tests et approche TDD"),a(),s(138," : les tests \xe9tant \xe9crit avant le code, le code est forc\xe9ment couvert par les tests."),a(),u(139,"li")(140,"span",1),s(141,"Fiabilit\xe9 de la couverture de test"),a(),s(142," : face \xe0 un code tr\xe8s lin\xe9aire, il est facile d'obtenir une couverture \xe0 100% avec un seul test, pourtant il ne faudrait pas avoir confiance en ce seul test. Il existe des techniques permettant d'\xe9prouver davantage la robustesse des tests. En particulier, les outils de mutation testing utilisent des algorithmes pour modifier (provoquer des mutations) \xe0 la vol\xe9e certaines lignes du code test\xe9. Si au moins un test \xe9choue, cela veut dire que le comportement de la ligne modifi\xe9e \xe9tait suffisamment test\xe9. Si les mutations ne provoquent aucun \xe9chec des tests : la ligne peut \xeatre soit incorrectement test\xe9e, soit compl\xe9tement inutile."),a()()(),u(143,"li")(144,"span",1),s(145,"Aspect fastidieux du golder master"),a(),s(146," : Outiller la g\xe9n\xe9ration du golden master : Au lieu d'\xe9crire toute les assertions \xe0 la main, on peut d\xe9composer l'\xe9criture du golden master en deux \xe9tapes : "),u(147,"ul")(148,"li"),s(149,"Enregistrer les comportements observ\xe9s du code initial dans un fichier, qui sera inclus dans les ressources de test ;"),a(),u(150,"li"),s(151,"Ex\xe9cuter le code et rechercher les valeurs attendues dans le fichier de r\xe9f\xe9rence avant de les appliquer sur une assertion g\xe9n\xe9rique."),a()(),s(152," Cette approche est asym\xe9trique : une fois le fichier de r\xe9f\xe9rence construit, on pourra rejouer le code de test autant de fois qu'on le souhaite, \xe0 mesure que le refactoring progresse. Certains frameworks, "),u(153,"a",8),s(154,"ApprovalTests"),a(),s(155," g\xe9n\xe8re automatiquement l'enregistrement du golden master et son int\xe9gration des tests. "),a(),u(156,"li")(157,"span",1),s(158,"L'ex\xe9cution parall\xe8le, une alternative du golden master"),a(),s(159," : Ce qui est important, c'est que le code refactor\xe9 continuer \xe0 avoir un code identique au code initial. "),u(160,"p"),s(161,"Au lieu de g\xe9n\xe9rer un fichier de r\xe9f\xe9rence, on va garder une copie du code initial, qui sera ex\xe9cut\xe9e en parall\xe8le du code en cours de refactoring. Les assertions de test n'auront plus qu'\xe0 v\xe9rifier \xe0 la vol\xe9e que les r\xe9sultats obtenus pour la version legacy et pour la version refactor\xe9e sont identique. De fait, c'est la version legacy du code qui devient le golden master."),a(),u(162,"p"),s(163,"On s'assure que la version legacy du code ne soit jamais livr\xe9e en production. Pour \xe9viter cela, on isole cette version legacy en la d\xe9pla\xe7ant dans le code de test. Cette approche est plus facile \xe0 mettre en place lorsque le code \xe0 refactorer est tr\xe8s regroup\xe9 et ne s'\xe9tale pas sur plusieurs composants; dans le cas contraire, on est oblig\xe9 de dupliqu\xe9 de nombreux composants, ce qui multiplie les risques d'erreurs d'inattention et de confusion, et complexifie la configuration des tests."),a()(),u(164,"li")(165,"span",1),s(166,"Le caract\xe8re \xe9ph\xe9m\xe8re du golden master"),a(),s(167," : il est juste pr\xe9sent le temps de proc\xe9der au refactoring du code. D\xe8s que possible, il faut le remplacer par des tests qui repr\xe9sentent r\xe9ellement le comportement du m\xe9tier."),a()(),u(168,"h4"),s(169,"Les tests en tant que filet de s\xe9curit\xe9"),a(),u(170,"p"),s(171,"Parfois, il est n\xe9cessaire au pr\xe9alable de r\xe9organiser le code de production."),a(),u(172,"h3"),s(173,"3. Rendre testable le code legacy"),a(),u(174,"p"),s(175,"Les probl\xe9matiques :"),a(),u(176,"ul")(177,"li"),s(178,"Le code d\xe9pend d'un acc\xe8s \xe0 une ressource externe;"),a(),u(179,"li"),s(180,"Le code d\xe9pend d'une certaine configuration de l'environnement;"),a(),u(181,"li"),s(182,"Le code d\xe9pend de conditions changeantes et difficile \xe0 pr\xe9voir;"),a(),u(183,"li"),s(184,"Le comportement du code n'est pas facilement observable au capturable."),a()(),u(185,"h4"),s(186,"3.1 D\xe9pendances retorses"),a(),u(187,"p"),s(188,"Elles entrainent des configurations compliqu\xe9es voire impossibles."),a(),u(189,"p"),s(190,"Les d\xe9pendances g\xeanent fortement le maintien des caract\xe9ristiques FIRST des tests."),a(),u(191,"p"),s(192,"Il est donc indispensable de minimiser l'impact des d\xe9pendances sur les tests."),a(),u(193,"app-callout-section",9)(194,"p"),s(195,"Si le test est r\xe9p\xe9table dans un environnement local, c'est d\xe9j\xe0 une bonne chose. C'est un point de d\xe9part acceptable pour commencer le refactoring, \xe0 condition d'atteindre une couverture correcte. Il faudra par la suite s'astreindre \xe0\nfaire le n\xe9cessaire pour que les tests respectent les caract\xe9ristiques FIRST."),a()(),u(196,"ul")(197,"li")(198,"span",1),s(199,"Identification des d\xe9pendances"),a(),s(200," : "),u(201,"ul")(202,"li")(203,"span",1),s(204,"D\xe9pendance vers une ressource externe"),a(),s(205," : syst\xe8me ext\xe9rieur avec lequel notre application int\xe9ragit. (BDD, gestionnaire d'authentification, service distant). En g\xe9n\xe9ral, on travaille sur des copies de tests des d\xe9pendances, parfois sous forme de conteneurs, mais leurs mise en place peut se montrer assez lourde. On manque g\xe9n\xe9ralement de ma\xeetrise sur leur comportement dans la mesure o\xf9 ces copies peuvent \xe9voluer dans le temps, avec les donn\xe9es qu'elles contiennent, et peuvent faire \xe9chouer des tests de mani\xe8re impr\xe9vue ;"),a(),u(206,"li")(207,"span",1),s(208,"D\xe9pendances multiples."),a()(),u(209,"li")(210,"span",1),s(211,"D\xe9pendances vers des calculs non d\xe9terministes "),a(),s(212,": il s'agit essentiellement des appels \xe0 des fonctions dont le retour peut varier, m\xeame si les param\xe8tres d'entr\xe9e ne changent pas. (R\xe9cup\xe9ration de la date et heure, l'acc\xe8s \xe0 des donn\xe9es pouvant \xeatre mises en cache, car le comportement du premier appel sera diff\xe9rent des suivants."),a(),u(213,"li")(214,"span",1),s(215,"D\xe9pendance vers un \xe9tat global partag\xe9 "),a(),s(216,": l'\xe9tat d'un singleton survit au test qui l'utilise, ce qui fait que n'importe quel test en d\xe9pendant a un impact potentiel sur les tests suivants : le comportement peut \xeatre diff\xe9rent selon l'ordre dans lesquels ils s'ex\xe9cutent, et on perd le c\xf4t\xe9 ind\xe9pendant de FIRST. Cette probl\xe9matique n'est pas sp\xe9cifique au singleton et se rencontre d\xe8s lors qu'on manipule un \xe9tat global partag\xe9 entre diff\xe9rents composants."),a()()(),u(217,"li")(218,"span",1),s(219,"Isolation des d\xe9pendances "),a(),s(220,": une fois la d\xe9pendance rep\xe9r\xe9e, on peut chercher \xe0 minimiser son existence en l'isolant. L'id\xe9e est d'introduire une abstraction entre le code \xe0 tester et la d\xe9pendance, pour faire tampon entre notre code et la d\xe9pendance r\xe9elle. Ainsi, la d\xe9pendance est repouss\xe9e en marge du code \xe0 tester, ce qui limite fortement ses effets n\xe9fastes sur notre capacit\xe9 \xe0 tester."),a(),u(221,"pre"),s(222,"        "),u(223,"span",5),s(224,"C#"),a(),s(225,"\n        "),u(226,"code",10),s(227,"\n          User loggedUser = UserSession.getInstance().getLoggedUser();\n\n          devient :\n\n          User loggedUser = getLoggedInUser();\n\n          avec la m\xe9thode :\n\n          protected User getLoggedInUser(){\n            return UserSession.getInstance().getLoggedUser();\n          }\n        "),a(),s(228,"\n      "),a(),u(229,"p"),s(230,"Autre possibilit\xe9, introduire la valeur fournie par la d\xe9pendance sous forme de param\xe8tre"),a(),u(231,"pre"),s(232,"      "),u(233,"span",5),s(234,"C#"),a(),s(235,"\n      "),u(236,"code",10),s(237,"\n        public List<Trip> getTripsByUser (User user) throws UserNotLoggedInException {\n        }\n\n        Peut se r\xe9\xe9crire\n\n        public List<Trip> getTripsByUser (User user, User loggedUser) throws UserNotLoggedInException {\n        }\n\n        Ceci permet de supprimer la ligne suivante :\n\n        User loggedUser = UserSession.getInstance().getLoggedUser();\n\n      "),a(),s(238,"\n    "),a(),s(239," On ne se contente pas de d\xe9placer le probl\xe8me, ces transformations offrent des possibilit\xe9s nouvelles pour \xe9crire les tests. "),u(240,"ul")(241,"li")(242,"span",1),s(243,"Les seams "),a(),s(244,": lorsqu'il n'existe pas d'autre possibilit\xe9 viable, on peut s'octroyer la permission d'effectuer les modifications minimales sur le code de production pour le rendre testable. Les endroits sur lesquels on peut intervenir sont ceux que Michael Feathers appelle des seams "),u(245,"app-callout-section",11),s(246," A Seam is a place to alter program behavior without changing the code. "),a(),s(247," On cherche \xe0 identifier des coutures dans le code, c'est-\xe0-dire des points pr\xe9cis o\xf9 on peut intervenir sans modifier significativement le code de production. "),u(248,"p"),s(249,"Dans l'exemple avec le Singleton, le seam, c'est-\xe0-dire le point d'incision, r\xe9side dans la possibilit\xe9 d'extraire l'appel statique dans un appel non statique par extraction de m\xe9thode. Cette modification mineure offre la possibilit\xe9 de surcharger cette m\xe9thode dans un fake de test, et donc de ne plus \xeatre emb\xeat\xe9 par cet appel singleton."),a(),u(250,"p"),s(251,"Une autre approche consiste \xe0 introduire un nouveau param\xe8tre dans la m\xe9thode appelant le singleton : ainsi on d\xe9place l'appel au singleton vers une m\xe9thode de plus haut niveau, et on d\xe9finit directement la valeur souhait\xe9e dans le test. Cette approche est plus impactante dans la mesure o\xf9 elle concerne tous les appelants de la m\xe9thode que l'on souhaite tester, et est donc \xe0 manier avec davantage de pr\xe9cautions."),a()()(),u(252,"li")(253,"span",1),s(254,"Substitution des d\xe9pendances dans les tests "),a(),s(255,": le travail d'isolation des d\xe9pendances donne beaucoup plus d'autonomie et de possibilit\xe9s pour l'\xe9criture des tests, en particulier dans la mise en oeuvre de la panoplie de doublure de tests. Ces derniers vont permettre de contr\xf4ler le comportement des d\xe9pendances dans chacun des tests. "),u(256,"p"),s(257,"Si la d\xe9pendance a \xe9t\xe9 isol\xe9e sous forme de param\xe8tre, on peut ais\xe9ment fournir la valeur souhait\xe9e depuis le code de test."),a(),u(258,"p"),s(259,"Dans le cas o\xf9 une m\xe9thode a \xe9t\xe9 extraite, on peut s'appuyer sur les tests doubles, en proposant par exemple un stub, c'est-\xe0-dire une classe d\xe9di\xe9e aux tests proposant une impl\xe9mentation factice pour la m\xe9thode extraite : "),a(),u(260,"pre"),s(261,"      "),u(262,"span",5),s(263,"C#"),a(),s(264,"\n      "),u(265,"code",10),s(266,"\n        private class TestableTripService extends TripService {\n\n          @Override\n          protected User getLeggedInUser(){\n            return loggedInUser;\n          }\n        }\n      "),a(),s(267,"\n    "),a(),s(268,"\nCette impl\xe9mentation est ensuite utilis\xe9e par le test plut\xf4t que l'impl\xe9mentation r\xe9elle de TripService. "),a(),u(269,"li")(270,"span",1),s(271,"Injection de d\xe9pendance "),a(),s(272,": lorsque la couverture de tests devient satisfaisante, il convient de g\xe9rer les d\xe9pendances plus proprement. Encapsuler les d\xe9pendances extraites dans des composants injectables (en se basant sur le principe d'inversion de d\xe9pendance) est une bonne solution pour y parvenir."),a()(),u(273,"h4"),s(274,"3.2 Effets difficilement observables"),a(),u(275,"p"),s(276,"Il arrive que les effets produits par le code que nous souhaitons tester ne soient pas facilement accessibles\nou observables."),a(),u(277,"ul")(278,"li"),s(279,"Ecriture dans une base de donn\xe9es;"),a(),u(280,"li"),s(281,"Envoi de messages asynchrones sur un bus d'\xe9v\xe8nements;"),a(),u(282,"li"),s(283,"Gestion d'interface graphique; "),a(),u(284,"li"),s(285,"Modification d'un \xe9tat interne non accessible (comme l'\xe9tat interne d'un objet non expos\xe9 publiquement);"),a(),u(286,"li"),s(287,"Ecriture dans la sortie standard."),a()(),u(288,"p"),s(289,"Dans ces cas, on a des effets de bord provoqu\xe9s par le code : les fonctions test\xe9es modifient autre chose que les param\xe8tres\nd'entr\xe9e et ne renvoient pas de valeur."),a(),u(290,"p"),s(291,"Il faut donc trouver un moyen d'intercepter la modification et de r\xe9cup\xe9rer la valeur \xe9crite (qui servira dans les\nassertions). Une possibilit\xe9 consiste \xe0 introduire une abstraction en fa\xe7ade de l'effet de bord."),a(),u(292,"p"),s(293,"Exemple : Kata Trivia Game"),a(),u(294,"pre"),s(295,"      "),u(296,"span",5),s(297,"C#"),a(),s(298,"\n      "),u(299,"code",10),s(300,'\n        purses[currentPlayer]++;\n        System.out.prinln(players.get(currentPlayer)\n          + "now has "\n          + purses[currentPlayer]\n          + "Gold Coins."\n      '),a(),s(301,"\n    "),a(),u(302,"p"),s(303,"Cet effet, visible dans la console, n'est pas vraiment exploitable dans les tests unitaires."),a(),u(304,"p"),s(305,"N\xe9anmoins, on peut introduire une abstraction, GameLog, d\xe9di\xe9e \xe0 recevoir, stocker et restituer \xe0 la demande tous\nles \xe9v\xe8nements de la partie."),a(),u(306,"p"),s(307,"On apporte \xe9galement un peu de m\xe9tier en repr\xe9sentant la notion de joueur et de pi\xe8ce d'or de fa\xe7on plus concr\xe8te :"),a(),u(308,"pre"),s(309,"      "),u(310,"span",5),s(311,"C#"),a(),s(312,"\n      "),u(313,"code",10),s(314,"\n        gameLog.addEvent(new PlayerEarnedGoldCoinEvent(player));\n      "),a(),s(315,"\n    "),a(),u(316,"p"),s(317,"En tant qu'abstraction nouvellement introduite sous forme de d\xe9pendance ma\xeetris\xe9e, l'objet gameLog est plus facilement\naccessible, mockable et v\xe9rifiable."),a(),u(318,"h3"),s(319,"4. Refactorer le code legacy"),a(),u(320,"h4"),s(321,"4.1 Se m\xe9fier des optimums locaux"),a(),u(322,"p"),s(323,"Quand on observe du code legacy, il est fr\xe9quent de voir beaucoup de duplication, ou encore des blocs de code qui pourraient\n\xeatre extraits dans des m\xe9thodes ou des classes d\xe9di\xe9es."),a(),u(324,"p"),s(325,"Il est tentant de r\xe9duire la duplication pr\xe9matur\xe9ment, ou de d\xe9couper trop vite. Le risque est de se couper des opportunit\xe9s\npour faire appara\xeetre de la duplication \xe0 plus haut niveau."),a(),u(326,"h4"),s(327,"4.2 Accepter de d\xe9grader temporairement le code"),a(),u(328,"p"),s(329,"Il est pr\xe9f\xe9rable de chercher \xe0 augmenter la duplication pour mieux faire appara\xeetre les structures communes, quitte\n\xe0 faire augmenter le volume de code. Souvent la duplication est d\xe9j\xe0 l\xe0, mais pas suffisamment explicite. Pour la mettre\nen \xe9vidence :"),a(),u(330,"ul")(331,"li"),s(332,"Nommer le formatage du code (par exemple mettre syst\xe9matiquement des accolades pour les instructions conditionnelles);"),a(),u(333,"li"),s(334,"D\xe9sextraire certaines portions de codes (certains refactorings ont pu \xeatre faits trop t\xf4t dans la version initial du code);"),a(),u(335,"li"),s(336,"R\xe9duire la complexit\xe9 des conditions."),a()(),u(337,"h4"),s(338,"4.3 Commencer par les branches les plus profondes"),a(),u(339,"p"),s(340,"Les branches profondes vont repr\xe9senter un volume de code plus r\xe9duit, et pourront normalement \xeatre extraites plus facilement."),a(),u(341,"h4"),s(342,"4.4 Savoir s'arr\xeater"),a(),u(343,"p"),s(344,"Ne pas rechercher la r\xe9\xe9criture parfaite, on obtient \xe0 minima : "),a(),u(345,"ul")(346,"li"),s(347,"Un code plus lisible, avec des concepts et des abstractions clairs et bien identifi\xe9s;"),a(),u(348,"li"),s(349,"Un code plus \xe9volutif et maintenable;"),a(),u(350,"li"),s(351,"La pr\xe9sence de tests fournissant un filet de s\xe9curit\xe9."),a()(),u(352,"h3"),s(353,"5. L'approche Scratch refactoring"),a(),u(354,"p"),s(355,"Pour des syst\xe8mes h\xe9rit\xe9s vastes ou d'une certaine complexit\xe9, il est difficile d'anticiper les \xe9tapes \xe0 suivre pour am\xe9liorer le code."),a(),u(356,"p"),s(357,"L'approche de "),u(358,"span",1),s(359,"scratch refactoring"),a(),s(360,", d\xe9crite par Michael Feathers dans son livre\n"),u(361,"span",1),s(362,"Working Effectively with Legacy Code"),a(),s(363," consiste \xe0 modifier le code avec une certaine\nlibert\xe9 pour esquisser vite les \xe9tapes de fa\xe7on concr\xe8te, tout en sachant que "),u(364,"span",1),s(365,"le r\xe9sultat ne sera jamais livr\xe9 en production"),a(),s(366,". Cela permet d'avancer sans se soucier d'introduire des r\xe9gressions, \xe0 seule fin de mieux se projeter\ndans le travail n\xe9cessaire."),a(),u(367,"p"),s(368,"En pratique le scratch refactoring se termine par la prise de notes des \xe9tapes n\xe9cessaires, qui deviendront des t\xe2ches\nult\xe9rieures, avant d'annuler les modifications (ou de les garder sur une branche d\xe9di\xe9e du contr\xf4le de sources qui n'est\npas destin\xe9e \xe0 \xeatre livr\xe9e)."),a(),u(369,"h3"),s(370,"6. L'approche d'am\xe9lioration marginale"),a(),u(371,"p"),s(372,"Il est facile de se d\xe9courager face \xe0 un syst\xe8me h\xe9rit\xe9 de grande taille et de qualit\xe9 faible, en r\xe9alisant qu'il ne\nsera jamais possible de le r\xe9parer enti\xe8rement."),a(),u(373,"p"),s(374,'Pourtant, il reste possible d\'am\xe9liorer son quotidien avec le principe "\xe0 partir de maintenant on fait mieux"'),a())},dependencies:[Ft],styles:[".bg-light[_ngcontent-%COMP%]{background-color:#f3f3f8}.bg-dark[_ngcontent-%COMP%]{background-color:#010115}.light[_ngcontent-%COMP%]{color:#f3f3f8}.pink-purple-txt[_ngcontent-%COMP%]{background:-webkit-linear-gradient(90deg,#FA30C5 0%,#bf25ff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.pink-purple[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#fa30c5,#bf25ff 60%)}.red-yellow-txt[_ngcontent-%COMP%]{background:-webkit-linear-gradient(90deg,#fcbf2e 0%,#de1e12 60%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.red-yellow[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#fcbf2e,#de1e12 60%)}.red[_ngcontent-%COMP%]{color:#de1e12}.blue[_ngcontent-%COMP%]{color:#2069ff}.blue-purple[_ngcontent-%COMP%]{background:linear-gradient(0deg,#bf25ff,#2069ff 90%)}.blue-purple-txt[_ngcontent-%COMP%]{background:linear-gradient(0deg,#bf25ff,#2069ff 90%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.blue-green[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#25ff6f,#2069ff 90%)}.blue-green-txt[_ngcontent-%COMP%]{background:-webkit-linear-gradient(90deg,#25ff6f 0%,#2069ff 60%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.legacyImage[_ngcontent-%COMP%]{max-width:500px}.box-graph[_ngcontent-%COMP%]{display:block;background-color:linear-gradient(90deg,#FA30C5 0%,#bf25ff 60%);width:150px;text-align:center;padding:5px}"]})}}return e})()},{path:"kata-fraction",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-kata-fraction"]],standalone:!0,features:[H],decls:258,vars:0,consts:[["href","https://github.com/khmarbaise/kata-fraction"],[1,"pink-purple-txt"],[1,"label"],[1,"C#"],["title","Remarque"],["title","Rappel"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Etude d\xe9taill\xe9 du kata Fraction"),a(),u(2,"h3"),s(3,"Pourquoi les fractions ? "),a(),u(4,"a",0),s(5,"Kata fraction"),a(),u(6,"p"),s(7,"Ce kata est adapt\xe9 pour introduire les concepts : TDD, baby steps, immutabilit\xe9, builders, design simple, ..."),a(),u(8,"h3"),s(9,"1 Pr\xe9sentation du kata"),a(),u(10,"p"),s(11,"Le kata Fraction consiste \xe0 \xe9crire une application qui permet d\u2019effectuer les quatre op\xe9rations math\xe9matiques de base sur les fractions : "),a(),u(12,"ul")(13,"li"),s(14,"l\u2019addition,"),a(),u(15,"li"),s(16,"la soustraction,"),a(),u(17,"li"),s(18,"la multiplication,"),a(),u(19,"li"),s(20,"la division."),a()(),u(21,"p"),s(22,"Le programme doit donner le r\xe9sultat sous forme de fraction irr\xe9ductible et donc si besoin simplifi\xe9e. Exemples de fractions :"),a(),u(23,"ul")(24,"li"),s(25,"4/7 + 2/7 = 6/7"),a(),u(26,"li"),s(27,"4/7 \u2212 2/7 = 2/7"),a(),u(28,"li"),s(29,"4/7 * 2/7 = 8/49"),a(),u(30,"li"),s(31,"4/7 \xf7 2/7 = 2"),a()(),u(32,"h3"),s(33,"2 Premier exercice"),a(),u(34,"p"),s(35,"Pratiquer ce kata sans contrainte, commencer par donner une estimation du temps n\xe9cessaire pour d\xe9velopper l'application. S'allouer par exemple 25 minutes. Cela permet de simuler des situations o\xf9 le client requi\xe8re un nombre infini de besoins et souhaite qu'on lui livre tout dans des d\xe9lais qui sont souvent trop s\xe9rr\xe9s."),a(),u(36,"h5"),s(37,"Evaluation de ce premier exercice"),a(),u(38,"ul")(39,"li"),s(40,"Avez-vous commenc\xe9 par \xe9crire du code au lancement du chronom\xe8tre ?"),a(),u(41,"li"),s(42,"Par quelle op\xe9ration on a commenc\xe9 ? Pourquoi ce choix ?"),a(),u(43,"li"),s(44,"Avez-vous r\xe9ussi \xe0 aller jusqu'au bout et \xe0 impl\xe9menter les 4 op\xe9rations ? "),a(),u(45,"li"),s(46,"Est-ce que la fraction repr\xe9sentant le r\xe9sultat final est repr\xe9sent\xe9e sous sa forme simplifi\xe9e ?"),a(),u(47,"li"),s(48,"Avez-vous pens\xe9 aux cas limites comme une fraction avec le d\xe9nominateur 0 ou la division par une fraction 0 ?"),a(),u(49,"li"),s(50,"Est-ce que le code \xe0 la fin \xe9tait livrable en production ? (il n'y avait plus d'am\xe9lioration \xe0 faire en disposant de davantage de temps."),a(),u(51,"li"),s(52,"Avez-vous la garantie que tout ce qui a \xe9t\xe9 livr\xe9 fonctionne correctement ?"),a()(),u(53,"p"),s(54,"Souvent, les participants commencent directement par \xe9crire du code. Certains vont poser des questions au fur et \xe0\nmesure qu'ils avancent sur le sujet. Mais la majorit\xe9 choisi de partir sur des suppositions plut\xf4t que de poser les\nquestions directement. Ce comportement est assez proche de ce qu'on peut observer sur de vrais projets durant lesquels\nl'\xe9quipe de d\xe9veloppement va souvent avancer seule avec des suppositions, sans prendre le temps de se renseigner davantage\nou de se rapprocher du m\xe9tier. Il est alors courant de d\xe9couvrir des anomalies lors des phases de qualification, voire en production."),a(),u(55,"h3"),s(56,"3 D\xe9composition"),a(),u(57,"p"),s(58,"En d\xe9composant, on divise le probl\xe8me en sous-probl\xe8me plus simples pouvant chacun \xeatre trait\xe9 \xe0 part. "),a(),u(59,"p"),s(60,"Le premier avantage est de nous permettre d'avancer sur une partie du probl\xe8me sans avoir \xe0 nous pr\xe9occuper de toute la complexit\xe9 du sujet."),a(),u(61,"p"),s(62,"Le second b\xe9n\xe9fice est li\xe9 \xe0 la gestion des d\xe9lais. Souvent, les clients expriment des besoins consid\xe9rables et ils\nsouhaitent qu'on leur livre le r\xe9sultat dans des d\xe9lais assez serr\xe9s. Il est primordial d'entamer un dialogue avec le\nclient pour hi\xe9rarchiser les priorit\xe9s et n\xe9gocier les d\xe9lais de livraison."),a(),u(63,"p"),s(64,"Pour ce kata, on le d\xe9compose en 4 parties, une par op\xe9ration arithm\xe9tique."),a(),u(65,"p"),s(66,"Pour rendre cette d\xe9composition efficace, il faut appliquer le principe de l'abstraction ou, d'une mani\xe8re plus pr\xe9cise,\ns'int\xe9resser aux d\xe9tails qui correspondent \xe0 un seul niveau d'abstraction."),a(),u(67,"p"),s(68,"Le niveau d'abstraction le plus haut est la vue d'ensemble des 4 op\xe9rations ainsi que leurs corr\xe9lations. En travaillant\nsur ce niveau, nous ne devons pas nous int\xe9resser aux d\xe9tails de chaque op\xe9ration car ces d\xe9tails sont situ\xe9s \xe0 un autre\nniveau."),a(),u(69,"p"),s(70,"Quand on change de niveau, et qu'on s'int\xe9resse \xe0 une op\xe9ration en particulier, il faut faire l'effort d'oublier les\n3 autres."),a(),u(71,"p"),s(72,"Ces 2 principes de d\xe9composition et d'abstraction vont de pair et peuvent \xeatre appliqu\xe9 dans tous les domaines."),a(),u(73,"p"),s(74,"Echanger avec le m\xe9tier pour savoir quelle op\xe9ration est prioritaire, celle qui lui offre le plus de valeur."),a(),u(75,"h3"),s(76,"4 Exploration"),a(),u(77,"p"),s(78,"Explorer pour comprendre en d\xe9tail le besoin sous-jacent de chaque op\xe9ration en demandant au client des exemples, les\ncas limites."),a(),u(79,"h3"),s(80,"5 D\xe9coupage"),a(),u(81,"p"),s(82,"Les \xe9changes avec le client va permettre de collecter \xe0 minima les connaissances suivantes sur les fractions : "),a(),u(83,"ul")(84,"li"),s(85,"Une fraction est constitu\xe9e d'un d\xe9nominateur et d'un num\xe9rateur."),a(),u(86,"li"),s(87,"Num\xe9rateur et d\xe9nominateur sont des entiers relatifs."),a(),u(88,"li"),s(89,"Si un num\xe9rateur vaut 0, alors la fraction vaut 0, quelle que soit la valeur du d\xe9nominateur."),a(),u(90,"li"),s(91,"Si le num\xe9rateur et le d\xe9nominateur sont identiques alors la fraction vaut 1."),a(),u(92,"li"),s(93,"Le d\xe9nominateur d'une fraction ne peut pas valoir 0. On parle d'une fraction infinie le cas \xe9ch\xe9ant."),a(),u(94,"li"),s(95,"Certaines fractions se comportent comme un \xe9l\xe9ment neutre vis-\xe0-vis de certaines op\xe9rations : toute op\xe9ration d'une fraction avec l'\xe9l\xe9ment neutre donne cette fraction elle-m\xeame."),a(),u(96,"li"),s(97,"Toute fraction valant 0 est l'\xe9l\xe9ment neutre pour l'addition et la soustraction."),a(),u(98,"li"),s(99,"Toute fraction valant 1 est l'\xe9l\xe9ment neutre pour la multiplication et la division."),a(),u(100,"li"),s(101,"Pour repr\xe9senter n'importe quel entier naturel, on utilisera une d\xe9nominateur valant 1."),a(),u(102,"li"),s(103,"La commutativit\xe9 est v\xe9rifi\xe9e pour les op\xe9rations d'addition et de multiplication mais elle ne l'est pas pour les op\xe9rations de soustraction et de division. "),u(104,"p"),s(105,"La commutativit\xe9 est une propri\xe9t\xe9 d'une op\xe9ration qui permet de changer l'ordre des termes sans en changer le r\xe9sultat. Par exemple, l'addition et la multiplication de nombres naturels sont des op\xe9rations commutatives."),a()()(),u(106,"p"),s(107,"Afin de clarifier les r\xe8gles, il est indispensable de les accompagner d'exemples. Voici quelques exemples, dont certains\nfont \xe9merger de nouvelles r\xe8gles :"),a(),u(108,"ul")(109,"li"),s(110,"3/5 + 1/3 = (3*3 + 1*5)/(5*3) = 14/15 (les d\xe9nominateurs sont diff\xe9rents)"),a(),u(111,"li"),s(112,"1/7 + 4/7 = 5/7 (les d\xe9nominateurs sont identiques)"),a(),u(113,"li"),s(114,"1/-7 + 3/7 = 2/7 (un des nombre est n\xe9gatif)"),a(),u(115,"li"),s(116,"3/1 + 4/1 = 7/1 (addition des entiers naturels sous forme de fraction)"),a(),u(117,"li"),s(118,"1/7 + 0/1 = 1/7 (\xe9l\xe9ment neutre \xe0 droite)"),a(),u(119,"li"),s(120,"0/1 + 1/3 = 1/3 (\xe9l\xe9ment neutre \xe0 gauche)"),a(),u(121,"li"),s(122,"0+0 = 0 (\xe9l\xe9ment neutre ajout\xe9 \xe0 lui-m\xeame)"),a(),u(123,"li"),s(124,"1/0 + 3/7 = infini (un des d\xe9nominateurs vaut 0)"),a(),u(125,"li"),s(126,"1/4 + 3/4 = 4/4 (simplification de la fraction)"),a()(),u(127,"p"),s(128,"A ce stade, on dispose de suffisamment de cas pour d\xe9couper l'op\xe9ration de l'addition en tranches assez fines, en nous\nbasant sur les diff\xe9rentes r\xe8gles m\xe9tiers."),a(),u(129,"p"),s(130,"L'id\xe9e est d'ordonner les r\xe8gles de fa\xe7on \xe0 construire l'addition de mani\xe8re incr\xe9mentale, chaque \xe9tape apportant de\nla valeur. Ainsi, on est capable \xe0 tout moment de fournir un livrable d\xe9ployable en production et r\xe9pondant \xe0 un certain\nnombre de cas."),a(),u(131,"p"),s(132,"Proposition de d\xe9coupage : "),a(),u(133,"ul")(134,"li"),s(135,"Gestion de l'\xe9l\xe9ment neutre : "),u(136,"ul")(137,"li"),s(138,"El\xe9ment neutre + \xe9l\xe9ment neutre (0+0=0)"),a(),u(139,"li"),s(140,"El\xe9ment neutre + fraction (0+F=F)"),a(),u(141,"li"),s(142,"Fraction + \xe9l\xe9ment neutre (F+0=F)"),a()()(),u(143,"li"),s(144,"Addition des 2 entiers naturels repr\xe9sent\xe9s par une fraction : "),u(145,"ul")(146,"li"),s(147,"Addition des num\xe9rateurs avec d\xe9nominateur \xe0 1 : 3/1 + 4/1 = 7/1"),a()()(),u(148,"li"),s(149,"Addition de 2 fractions avec le m\xeame d\xe9nominateur"),a(),u(150,"li"),s(151,"Addition de 2 fractions avec des d\xe9nominateurs diff\xe9rents"),a(),u(152,"li"),s(153,"Gestion des fractions n\xe9gatives : "),u(154,"ul")(155,"li"),s(156,"Cas o\xf9 l'une des 2 fractions est n\xe9gative"),a(),u(157,"li"),s(158,"Cas des 2 fractions n\xe9gatives"),a()()(),u(159,"li"),s(160,"Gestion de cas d'in d\xe9nominateur \xe9gal \xe0 0 (la fraction infinie)"),a(),u(161,"li"),s(162,"Cas n\xe9cessitant une simplification"),a()(),u(163,"p"),s(164,"Avec ce d\xe9coupage, l'op\xe9ration de l'addition est pr\xeate \xe0 \xeatre d\xe9velopp\xe9e."),a(),u(165,"p"),s(166,"En fonction du contexte et des contraintes temporelles, on a 2 options :"),a(),u(167,"ul")(168,"li"),s(169,"Passer directement \xe0 la partie impl\xe9mentation, "),a(),u(170,"li"),s(171,"ou continuer \xe0 faire le m\xeame travail de d\xe9composition avec les 2 autres op\xe9ration."),a()(),u(172,"h3"),s(173,"6 Second exercice : impl\xe9mentation avec l'approche TDD"),a(),u(174,"p"),s(175,"Appliquer les principes : TDD, Clean Code et refactoring."),a(),u(176,"h5"),s(177,"6.1 Phase d'impl\xe9mentation en TDD"),a(),u(178,"p"),s(179,"Premier test \xe0 \xe9crire : l'addition de 2 fractions."),a(),u(180,"p",1),s(181,"Cas de l'addition de l'\xe9l\xe9ment neutre 0"),a(),u(182,"pre"),s(183,"  "),u(184,"span",2),s(185,"C#"),a(),s(186,"\n  "),u(187,"code",3),s(188,"\n    @test\n    public void zero_plus_zero_should_return_zero(){\n      Fraction zero = new Fraction(0);\n\n      Fraction sum = zero.add(zero);\n\n    Assert.assertEquals(zero, sum);\n    }\n  "),a(),s(189,"\n"),a(),u(190,"app-callout-section",4)(191,"p"),s(192,"Commencer par \xe9crire l'assertion. Le test sera rouge car le compilateur ne reconna\xeetra pas les diff\xe9rentes classes et m\xe9thodes, et pour compl\xe9ter le test, on se sert de l'IDE pour extraire les parties Arrange et Act."),a()(),u(193,"p"),s(194,"Pour faire passer le test au vert, il suffit de retourner l'objet pass\xe9 en param\xe8tre."),a(),u(195,"pre"),s(196,"  "),u(197,"span",2),s(198,"C#"),a(),s(199,"\n  "),u(200,"code",3),s(201,"\n    public class Fraction(){\n      public Fraction(int value){\n\n      }\n\n      public Fraction add(Fraction fraction){\n        return fraction;\n      }\n    }\n  "),a(),s(202,"\n"),a(),u(203,"p",1),s(204,"Cas de test de l'addition avec \xe9l\xe9ment neutre \xe0 droite"),a(),u(205,"pre"),s(206,"  "),u(207,"span",2),s(208,"C#"),a(),s(209,"\n  "),u(210,"code",3),s(211,"\n    @test\n    public void not_zero_plus_zero_should_return_not_zero_fraction(){\n      Fraction zero = new Fraction(0);\n      Fraction not_zero = new Fraction(3);\n\n      Fraction sum = not_zero.add(zero);\n\n    Assert.assertEquals(not_zero, sum);\n    }\n  "),a(),s(212,"\n"),a(),u(213,"p"),s(214,"Pour passer le test au vert :"),a(),u(215,"pre"),s(216,"  "),u(217,"span",2),s(218,"C#"),a(),s(219,"\n  "),u(220,"code",3),s(221,"\n    public class Fraction(){\n      public Fraction(int value){\n        this.value = value\n      }\n\n      public Fraction add(Fraction fraction){\n        if(fraction.value==0){\n          return this;\n        }\n        return fraction;\n      }\n    }\n  "),a(),s(222,"\n"),a(),u(223,"p"),s(224,"On ajoute le dernier test correspondant au cas de l'\xe9l\xe9ment neutre \xe0 gauche :"),a(),u(225,"pre"),s(226,"  "),u(227,"span",2),s(228,"C#"),a(),s(229,"\n  "),u(230,"code",3),s(231,"\n    @test\n    public void zero_plus_not_zero_should_return_not_zero_fraction(){\n      Fraction zero = new Fraction(0);\n      Fraction not_zero = new Fraction(1);\n\n      Fraction sum = not_zero.add(zero);\n\n    Assert.assertEquals(not_zero, sum);\n    }\n  "),a(),s(232,"\n"),a(),u(233,"p"),s(234,"Le test passe au vert sans avoir besoin d'ajouter du code. On peut tol\xe9rer cela car le test impl\xe9mente une r\xe8gle\nfonctionnelle n\xe9cessaire pour la documentation."),a(),u(235,"p",1),s(236,"Cas de l'ajout de 2 fractions enti\xe8res"),a(),u(237,"p",1),s(238,"Cas de l'ajout de 2 fractions avec le m\xeame d\xe9nominateur"),a(),u(239,"p",1),s(240,"Cas de l'ajout de 2 fractions avec des d\xe9nominateurs diff\xe9rents"),a(),u(241,"p",1),s(242,"Cas de simplification de 2 fractions"),a(),u(243,"p",1),s(244,"Cas limite : d\xe9nominateur \xe0 z\xe9ro"),a(),u(245,"h3"),s(246,"7. Les 4 r\xe8gles du design simple appliqu\xe9e au kata"),a(),u(247,"app-callout-section",5),s(248," 4 r\xe8gles simples pour un design simple : "),u(249,"ul")(250,"li"),s(251,"Passer les tests;"),a(),u(252,"li"),s(253," R\xe9veler l'intention (am\xe9liorer le nommage) : un code claire et facile \xe0 comprendre;"),a(),u(254,"li"),s(255," \xc9viter la duplication : DRY;"),a(),u(256,"li"),s(257," Rester petit et ne conserver que ce qui est important."),a()()())},dependencies:[Ft],encapsulation:2})}}return e})()},{path:"principes-et-outils",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-principes-et-outils"]],standalone:!0,features:[H],decls:433,vars:0,consts:[[1,"pink-purple-txt"],["href","http://xunitpatterns.com/"],["href","https://nsubstitute.github.io/"],[1,"label"],[1,"C#"],["src","assets/images/automated-tests.png"],["src","assets/images/niveauDeTest.jpeg",1,"niveauTest"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Principes et outils pour tester efficacement"),a(),u(2,"h3"),s(3,"Les caract\xe9ristiques des tests : les tests unitaires F.I.R.S.T"),a(),u(4,"p"),s(5,"Les tests viennent en premier."),a(),u(6,"ul")(7,"li")(8,"span",0),s(9,"F"),a(),s(10,"ast : soit rapide;"),a(),u(11,"li")(12,"span",0),s(13,"I"),a(),s(14,"solate/Independent : soit isol\xe9, ind\xe9pendant;"),a(),u(15,"li")(16,"span",0),s(17,"R"),a(),s(18,"epeatable : soit r\xe9p\xe9table, reproductible;"),a(),u(19,"li")(20,"span",0),s(21,"S"),a(),s(22,"elf verifying : soit auto validant;"),a(),u(23,"li")(24,"span",0),s(25,"T"),a(),s(26,"imely/Thorough : soit opportun, pr\xe9cis;"),a()(),u(27,"h3"),s(28,"Le test doit \xeatre auto validant"),a(),u(29,"p"),s(30,"Le r\xe9sultat doit \xeatre outill\xe9 et sauter aux yeux, sans requ\xe9rir une intervention humaine pour comprendre ou interpr\xe9ter\nle statut du test. (Si on doit v\xe9rifier et analyser un fichier de log pour savoir si le test a r\xe9ussi ou \xe9chou\xe9, le\ntest n'est pas auto validant). L'utilisation d'assertions pertinentes contribue \xe0 rendre les tests auto-validants."),a(),u(31,"h3"),s(32,"Le test doit \xeatre opportun et pr\xe9cis"),a(),u(33,"p"),s(34,"Opportun = le moment id\xe9al pour l'\xe9crire (avant le code)."),a(),u(35,"p"),s(36,"Pr\xe9cis = couvrir un seul cas."),a(),u(37,"h2"),s(38,"Doublures de tests (test double)"),a(),u(39,"p"),s(40,"En r\xe9alisant des tests unitaires, on est souvent confront\xe9 \xe0 des d\xe9pendances qui viennent se mettre en travers de\nnotre chemin. Pour s'en sortir, on se retrouve \xe0 substituer le composant qui nous g\xeane par un composant \xe9quivalent (et\ncompatible) au comportement plus docile et que l'on peut contr\xf4ler. On peut ainsi se concentrer uniquement sur le\ncomportement du composant test\xe9, et non plus sur les comportements des composants dont il d\xe9pend."),a(),u(41,"p"),s(42,"Lorsque l'on remplace une d\xe9pendance, on parle parfois de substitut (mock)."),a(),u(43,"h3"),s(44,"1. Historique et terminologie"),a(),u(45,"p"),s(46,"Le terme anglophone originel est celui de "),u(47,"span",0),s(48,"test double"),a(),s(49," par analogie avec le monde\ndu cin\xe9ma et sa notion de doublure r\xe9alisant les cascades \xe0 la place de l'acteur principal."),a(),u(50,"p"),s(51,"Le terme "),u(52,"span",0),s(53,"mock"),a(),s(54," d\xe9signe un type de substitut particulier, parmi d'autres tels que\nle dummy, le stub, le spy et le fake. Par abus de langage, on les appelle tous mock."),a(),u(55,"p"),s(56,"Mock, peut donc d\xe9signer un cas particulier de doublure ou n'importe quelle doublure."),a(),u(57,"h3"),s(58,"2. Mise en oeuvre des doublures"),a(),u(59,"p"),s(60,"Les doublures de tests peuvent \xeatre r\xe9parties en 5 types qui sont pr\xe9sent\xe9s dans le livre de G\xe9rard Meszaros, "),u(61,"a",1),s(62,"xUnit Test Patterns: Refactoring Test Code"),a(),s(63,"."),a(),u(64,"ul")(65,"li"),s(66,"Dummy Object;"),a(),u(67,"li"),s(68,"Test Stub;"),a(),u(69,"li"),s(70,"Test Spy;"),a(),u(71,"li"),s(72,"Mock Object;"),a(),u(73,"li"),s(74,"Fake Object;"),a()(),u(75,"p"),s(76,"Librairie C# : "),u(77,"a",2),s(78,"NSubstitue"),a()(),u(79,"h4"),s(80,"2.1 Doublure de type dummy"),a(),u(81,"p"),s(82,"Par exemple, une m\xe9thode de division d'un num\xe9rateur par un d\xe9nominateur. "),a(),u(83,"p"),s(84,"Dans le cas o\xf9 le d\xe9nominateur est \xe9gal \xe0 0, une erreur doit \xeatre lev\xe9e."),a(),u(85,"h5"),s(86,"Sans librairie : "),a(),u(87,"pre"),s(88,"  "),u(89,"span",3),s(90,"C#"),a(),s(91,"\n  "),u(92,"code",4),s(93,"\n    [TestMethod]\n    public void Should_throw_an_exception_when_Divide_by_zero(){\n      Calculator calculator = new Calculator();\n      int numerator = 3;\n      int denominator = 0;\n\n      Assert.ThrowsException<InvalidOperationException&gt(() =>\n      {\n        calculator.Divide(numerator, denominator);\n      })\n    }\n  "),a(),s(94,"\n"),a(),u(95,"p"),s(96,"Quelque soit la valeur du num\xe9rateur, le comportement attendu du test ne change pas. On pourrait m\xeame g\xe9n\xe9rer al\xe9atoirement cette valeur."),a(),u(97,"p"),s(98,"Le num\xe9rateur est exprim\xe9 par une variable fantoche (marionette), d'o\xf9 le nom de dummy. "),a(),u(99,"h5"),s(100,"Avec librairie : "),a(),u(101,"p"),s(102,"Pas de m\xe9thode de type Arg.Any() permettant de g\xe9n\xe9rer une valeur al\xe9atoire. Donc le code ne changera pas, \xe0 moins\nd'utiliser d'autres techniques comme la PBT (Property Based Testing)."),a(),u(103,"h4"),s(104,"2.2 Doublure de type stub"),a(),u(105,"p"),s(106,"En pr\xe9sence d'un service d'authentification, on a besoin de tester le comportement de Calculator :"),a(),u(107,"ul")(108,"li"),s(109,"quand on est authentifi\xe9 et que le calcul peut se poursuivre;"),a(),u(110,"li"),s(111,"quand on ne l'est pas, et qu'une exception appropri\xe9e se d\xe9clenche."),a()(),u(112,"h5"),s(113,"Sans librairie :"),a(),u(114,"p"),s(115,"Nous avons besoin de stubs, c'est-\xe0-dire d'objets qui se substituent aux impl\xe9mentations r\xe9elles et dont la raison\nd'\xeatre est de simplement observer le comportement souhait\xe9 pour un test. Nous aurons donc un premier stub correspondant\n\xe0 une authentification r\xe9ussie et un second qui permettra de simuler une authentification refus\xe9e."),a(),u(116,"p"),s(117,"Cas d'authentification r\xe9ussie : "),a(),u(118,"p"),s(119,"Nous avons besoin d'une impl\xe9mentation qui retourne true tout le temps."),a(),u(120,"p"),s(121,"Introduire un stub n'est possible que si la d\xe9pendance de la classe Calculator vers l'authentificateur existe \xe0 travers\nune interface faisant office de contrat."),a(),u(122,"pre"),s(123,"  "),u(124,"span",3),s(125,"C#"),a(),s(126,"\n  "),u(127,"code",4),s(128,"\n    [TestMethod]\n    public void Should_divide_a_numerator_by_a_denominator_when_authorization_is_accepted(){\n      IAuthorizer authorizer = new AllowAccessAuthorizer();\n      Calculator calculator = new Calculator(authorizer);\n      int numerator = 4;\n      int denominator = 2;\n\n      var result = calculator.Divide(numerator, denominator);\n\n      Assert.AreEqual(2, result);\n    }\n\n    // avec le stub simulant l'authentification accept\xe9e\n    public class AllowAccessAuthorizer : IAuthorizer\n    {\n      public bool Authorize()\n      {\n        return true;\n      }\n    }\n  "),a(),s(129,"\n"),a(),u(130,"p"),s(131,"Proposition d'impl\xe9mentation de la class Calculator"),a(),u(132,"pre"),s(133,"  "),u(134,"span",3),s(135,"C#"),a(),s(136,"\n  "),u(137,"code",4),s(138,'\n    public class Calculator\n    {\n      private readonly IAuthorizer authorizer;\n\n      public Calculator(IAuthorizer authorizer)\n      {\n        this.authorizer = authorizer;\n      }\n\n      public double Divide(int numerator, int denominator)\n      {\n        if(!authorizer.Authorize())\n        {\n          throw new UnauthorizedAccessException();\n        }\n        if(denominator == 0)\n        {\n          throw new InvalidOperationException("Can\'t divide by zero!");\n        }\n        return numerator/denominator;\n      }\n    }\n  '),a(),s(139,"\n"),a(),u(140,"p"),s(141,"Cas d'authentification \xe9chou\xe9e"),a(),u(142,"pre"),s(143,"  "),u(144,"span",3),s(145,"C#"),a(),s(146,"\n  "),u(147,"code",4),s(148,"\n    [TestMethod]\n    public void Should_throw_an_exception_when_unauthorized_Division(){\n      IAuthorizer authorizer = new DenyAccessAuthorizer();\n      Calculator calculator = new Calculator(authorizer);\n      int numerator = 4;\n      int denominator = 2;\n\n      Assert.ThrowsException<UnauthorizedAccessException>(() =>\n      {\n        calculator.Divide(numerator, denominator);\n      });\n    }\n\n    // le stub simulant l'authentification refus\xe9e\n    public class DenyAccessAuthorizer : IAuthorizer\n    {\n      public bool Authorize()\n      {\n        return false;\n      }\n    }\n  "),a(),s(149,"\n"),a(),u(150,"h4"),s(151,"Avec librairie :"),a(),u(152,"p"),s(153,"Il suffit de cr\xe9er un objet substitut bas\xe9 sur l'interface IAuthorizer et de le programmer pour qu'il renvoie true"),a(),u(154,"pre"),s(155,"  "),u(156,"span",3),s(157,"C#"),a(),s(158,"\n  "),u(159,"code",4),s(160,"\n    [TestMethod]\n    public void Should_throw_an_exception_when_unauthorized_Division(){\n      IAuthorizer authorizer = Substitute.For<IAuthorizer>();\n      authorizer.Authorize().Returns(true);\n      Calculator calculator = new Calculator(authorizer);\n      int numerator = 4;\n      int denominator = 2;\n\n      Assert.ThrowsException<UnauthorizedAccessException>(() =>\n      {\n        calculator.Divide(numerator, denominator);\n      });\n    }\n  "),a(),s(161,"\n"),a(),u(162,"h4"),s(163,"2.3 Doublure de type spy"),a(),u(164,"p"),s(165,"On test une fonctionnalit\xe9 sur une application de commerce, qui s'appuie sur un service dont le r\xf4le est : "),a(),u(166,"ul")(167,"li"),s(168,"d'appliquer une r\xe9duction sur un article;"),a(),u(169,"li"),s(170,"de pr\xe9venir les utilisateurs de l'application de la r\xe9duction."),a()(),u(171,"p"),s(172,"On veut s'assurer qu'il y a autant d'appels au service notification que d'utilisateurs \xe0 notifier. Il faut donc espionner\nles appels \xe0 ce service pendant le test et les comptabiliser, \xe0 travers une doublure de test de type spy."),a(),u(173,"p"),s(174,"Sans librairie : "),a(),u(175,"p"),s(176,'On cr\xe9e une class spy "CounterNotifier" qui va compter le nombre d\'appels \xe0 la m\xe9thode Notify() :'),a(),u(177,"pre"),s(178,"  "),u(179,"span",3),s(180,"C#"),a(),s(181,"\n  "),u(182,"code",4),s(183,"\n    [TestMethod]\n    public void Should_Notify_twice_when_having_two_users_to_notify(){\n\n      List<User> users = new List<User>(){\n        new User(),\n        new User()\n      };\n\n      var notifier = new CounterNotifier();\n      DiscountApplier discountApplier = new DiscountApplier(notifier, users);\n      var item = new Item();\n      discountApplier.Apply(item, 20);\n\n      Assert.AreEqual(users.Count, notifier.CallCount);\n    }\n\n    public class CounterNotifier : INotifier\n    {\n      public int CallCount { get; private set; };\n\n      public void Notify(User userToNotify){\n        CallCount++;\n      };\n    }\n  "),a(),s(184,"\n"),a(),u(185,"p"),s(186,"Le spy CounterNotifier se substitue bien \xe0 l'impl\xe9mentation r\xe9elle du Notifier. Au lieu de produire de vraies\nnotifications, la m\xe9thode "),u(187,"span",0),s(188,"Notify()"),a(),s(189," se contente de compter le nombre de fois o\xf9 elle est appel\xe9e. Elle remonte aussi le nombre total d'appels, ce qui sert les besoins de notre test."),a(),u(190,"p"),s(191,"Il est possible de d\xe9finir des spys plus \xe9volu\xe9s, pour par exemple observer : "),a(),u(192,"ul")(193,"li"),s(194,"les valeurs des attributs d'une classe apr\xe8s un appel de m\xe9thode;"),a(),u(195,"li"),s(196,"la valeur des arguments au moment de l'appel de la m\xe9thode."),a()(),u(197,"p"),s(198,"Avec librairie :"),a(),u(199,"p"),s(200,"NSubstitute : le substitut r\xe9cup\xe9r\xe9 va compter automatiquement le nombre d'appels, il suffit \xe0 la fin du test de\nv\xe9rifier que le compte est bon avec la m\xe9thode "),u(201,"span",0),s(202,"Received()"),a()(),u(203,"pre"),s(204,"  "),u(205,"span",3),s(206,"C#"),a(),s(207,"\n  "),u(208,"code",4),s(209,"\n    [TestMethod]\n    public void Should_Notify_twice_when_having_two_users_to_notify(){\n\n      List<User> users = new List<User>(){\n        new User(),\n        new User()\n      };\n\n      var notifier = new verifyNotifier();\n      DiscountApplier discountApplier = new DiscountApplier(notifier, users);\n      var item = new Item();\n\n      discountApplier.Apply(item, 20);\n\n      notifier.Received(user.Count);\n    }\n  "),a(),s(210,"\n"),a(),u(211,"p"),s(212,"Il est \xe9galement possible d'\xeatre plus pr\xe9cis en sp\xe9cifiant quelle m\xe9thode est concern\xe9e par le nombre d'appels : "),a(),u(213,"pre"),s(214,"  "),u(215,"span",3),s(216,"C#"),a(),s(217,"\n  "),u(218,"code",4),s(219,"\n      notifier.Received(user.Count).Notify(Arg.Any<User>());\n  "),a(),s(220,"\n"),a(),u(221,"h4"),s(222,"2.4 Doublure de type mock"),a(),u(223,"p"),s(224,"Compter les notifications avec le spy n'est pas suffisant, on veut v\xe9rifier que les utilisateurs recevant la\nnotification sont bien ceux qui sont connus du service de r\xe9duction."),a(),u(225,"p",0),s(226,"Sans librairie : "),a(),u(227,"p"),s(228,"On construit une classe de mock qui permet de garder en m\xe9moire les utilisateurs notifi\xe9s, afin de v\xe9rifier que les\nutilisateurs sont les m\xeames que ceux pass\xe9s au service de r\xe9duction."),a(),u(229,"pre"),s(230,"  "),u(231,"span",3),s(232,"C#"),a(),s(233,"\n  "),u(234,"code",4),s(235,"\n    [TestMethod]\n    public void Should_Notify_user_when_apply_discount(){\n\n      List<User> users = new List<User>(){new User()};\n\n      var notifier = new verifyNotifier();\n      DiscountApplier discountApplier = new DiscountApplier(notifier, users);\n      var item = new Item();\n\n      discountApplier.Apply(item, 20);\n\n      Assert.IsTrue(notifier.IsCalledForAll(users));\n    }\n\n    public class VerifierNotifier : INotifier\n    {\n      private readonly  List<User> notifierUsers = new List<User>();\n\n      public void Notify (User userToNotify)\n      {\n        notifiedUsers.Add(userToNotify):\n      };\n\n      public bool IsCalledForAll(List<User> users){\n        return notifiedUsers.TrueForAll(user => users.Contains(user));\n      };\n  "),a(),s(236,"\n"),a(),u(237,"p"),s(238,"L'impl\xe9mentation du mock est \xe0 peine plus complexe que celle du spy, au lieu d'incr\xe9menter un compteur, on stock la liste\ndes utilisateurs notifi\xe9s."),a(),u(239,"p"),s(240,"Un mock est donc un objet pr\xe9programm\xe9 avec le comportement attendu. Il a d\xe9tr\xf4n\xe9 le terme test double car il v\xe9rifie\nque les attentes de la sp\xe9cification sont bien r\xe9alis\xe9es en termes de comportement."),a(),u(241,"p",0),s(242,"Avec librairie : "),a(),u(243,"p"),s(244,"Avec NSubstitute, pour v\xe9rifier que chaque utilisateur a \xe9t\xe9 notifi\xe9, on it\xe8re sur les utilisateurs et on appelle la\nm\xe9thode "),u(245,"span",0),s(246,"Received()"),a(),s(247," du mock \xe0 chaque tour."),a(),u(248,"pre"),s(249,"  "),u(250,"span",3),s(251,"C#"),a(),s(252,"\n  "),u(253,"code",4),s(254,"\n    [TestMethod]\n    public void Should_Notify_user_when_apply_discount(){\n\n      List<User> users = new List<User>(){new User()};\n\n      var notifier = new verifyNotifier();\n      DiscountApplier discountApplier = new DiscountApplier(notifier, users);\n      var item = new Item();\n\n      discountApplier.Apply(item, 20);\n\n      users.ForEach(user => notifier.Received().Notify(user));\n    }\n  "),a(),s(255,"\n"),a(),u(256,"h4"),s(257,"2.5 Doublure de type fake"),a(),u(258,"p"),s(259,"Les notifications aux utilisateurs se font par mail, en se basant sur le protocole SMTP. "),a(),u(260,"p"),s(261,"On veut faire un test d'int\xe9gration et v\xe9rifier que le contenu du message est bien conforme \xe0 l'attendu."),a(),u(262,"p"),s(263,"Il faut donc un composant factice qui g\xe9n\xe8re le contenu des messages, sans les envoyer r\xe9ellement (il pourrait\n\xe9crire dans un fichier de log)."),a(),u(264,"p"),s(265,"Un fake est une impl\xe9mentation r\xe9elle mais simplifi\xe9e de la vraie classe, une sorte de simulateur."),a(),u(266,"pre"),s(267,"  "),u(268,"span",3),s(269,"C#"),a(),s(270,"\n  "),u(271,"code",4),s(272,"\n    public interface INotifier\n    {\n      void Notify(User userToNotify);\n    }\n\n    public classe Notifier : INotifier\n    {\n      public void Notify(User userToNotify){\n        // Send an email to user\n      }\n    }\n\n    // L'impl\xe9mentation du fake :\n    public classe FileNotifier : INotifier\n    {\n      public void Notify(User userToNotify){\n        // Write un a file\n      }\n    }\n  "),a(),s(273,"\n"),a(),u(274,"p",0),s(275,"Avec librairie : "),a(),u(276,"p"),s(277,"Le fake est le seul test double qui n\xe9cessite une vraie impl\xe9mentation mais qui ne doit pas s'ex\xe9cuter en production"),a(),u(278,"h4"),s(279,"2.6 Limites et dangers de l'utilisation excessive des doublures de tests"),a(),u(280,"p"),s(281,"Il faut veiller \xe0 ce que le substitut ne change pas le comportement du composant originel."),a(),u(282,"p"),s(283,"Il est plus prudent de substituer uniquement des objets que l'on ma\xeetrise. C'est le concept "),u(284,"span",0),s(285,"Only mock code you own"),a(),s(286,". En substituant un objet externe, on risque de se confronter\n\xe0 une modification majeure si l'objet externe est amen\xe9 \xe0 changer. Il est conseill\xe9 de cr\xe9er une couche interm\xe9diaire\nentre notre application et le syst\xe8me externe, sour la forme d'un adaptateur par exemple."),a(),u(287,"h4"),s(288,"2.7 Astuces"),a(),u(289,"p"),s(290,"Plusieurs types peuvent se c\xf4toyer dans un test : "),a(),u(291,"ul")(292,"li"),s(293,"Un dummy pour valoriser un param\xe8tre n\xe9cessaire mais dont la valeur importe peu;"),a(),u(294,"li"),s(295,"Un stub pour programmer le retour d'une d\xe9pendance (il s'agit en quelque sorte des param\xe8tres d'entr\xe9e indirects);"),a(),u(296,"li"),s(297,"Un spy pour v\xe9rifier que la d\xe9pendance est appel\xe9e le nombre de fois requis."),a()(),u(298,"h3"),s(299,"3. Types de test, au del\xe0 des tests unitaires"),a(),u(300,"p"),s(301,"Un test est un essai d'un produit ou appareil pour v\xe9rifier la conformit\xe9 de son action ou de son fonctionnement. Il\nsert \xe9galement \xe0 v\xe9rifier qu'un livrable r\xe9pond bien au besoin m\xe9tier. Ils fournissent \xe9galement une documentation efficace."),a(),u(302,"h4"),s(303,"3.1 La pyramide des tests"),a(),j(304,"img",5),u(305,"h4"),s(306,"3.2 Les niveaux de tests"),a(),u(307,"ul")(308,"li")(309,"span",0),s(310,"Test unitaire"),a(),s(311," : R\xe8gles de gestion. \xc9value une m\xe9thode, une classe. Il doit respecter les crit\xe8res "),u(312,"span",0),s(313,"FRIST"),a(),s(314,";"),a(),u(315,"li")(316,"span",0),s(317,"Test d'int\xe9gration"),a(),s(318," : Use cases. Permet d'\xe9valuer si des composants test\xe9s unitairement fonctionnent ensemble; "),u(319,"ul")(320,"li")(321,"span",0),s(322,"Narrow integration tests "),a(),s(323,": (tests d'int\xe9gration \xe9troits) la port\xe9e de ces tests se limite \xe0 quelques composants. Ces tests ressemblent \xe0 des tests unitaires au niveau de l'utilisation des frameworks et de la fa\xe7on de les \xe9crire. "),u(324,"p"),s(325,"Exemple : le convertisseur appelle l'impl\xe9mentation r\xe9elle d'Amount, mais on cr\xe9e un substitut au fournisseur des taux"),a(),u(326,"pre"),s(327,"          "),u(328,"span",3),s(329,"C#"),a(),s(330,"\n          "),u(331,"code",4),s(332,'\n            [TestMethod]\n            public void Should_convert_the_amount_when_the_target_currency_is_different(){\n              var usdCurrency = new Currency("USD");\n              var uerCurrency = new Currency("EUR");\n\n              var eurAmount = new Amount(10, eurCurrency);\n              IRates rates = Substitute.For<IRates>();\n\n              var eurUsdRate = new Rate(1.14);\n              rates.GetRateOf(usdCurrency).Returns(eurUsdRate);\n\n              var convert = new Converter(rates);\n              var convertAmount = converter.Convert(eurAmount, usdCurrency);\n\n              var expectedAmount = new Amount(11.4, usdCurrency);\n              Check.That(convertedAmount).IsEqualTo(expectedAmount);\n            }\n          '),a(),s(333,"\n        "),a()(),u(334,"li")(335,"span",0),s(336,"Broad integration tests "),a(),s(337,": (tests d'int\xe9gration de grande envergure). "),u(338,"p"),s(339,"Ils utilisent des instances r\xe9elles de services (par exemple une base de donn\xe9e). Le sc\xe9nario doit \xeatre plus concret que celui utilisant les substituts. Ainsi on s'assure que l'int\xe9gration des composants se pr\xe9pare au mieux et soit suffisamment r\xe9aliste pour \xe9viter les mauvaises surprises lors des tests utilisateurs."),a(),u(340,"pre"),s(341,"          "),u(342,"span",3),s(343,"C#"),a(),s(344,"\n          "),u(345,"code",4),s(346,'\n            [TestMethod]\n            public void Should_convert_the_amount_when_the_target_currency_is_different(){\n              Currency usdCurrency = new Currency("USD");\n              Currency uerCurrency = new Currency("EUR");\n\n              Amount eurAmount = new Amount(10, eurCurrency);\n              IRates rates = Substitute.For<IRates>();\n              Converter converter = new Converter(rates);\n\n              Amount convertedAmount = converter.Convert(eurAmount, usdCurrency);\n\n              Amount expectedAmount = new Amount(11.4, usdCurrency);\n              Check.That(convertedAmount).IsEqualTo(expectedAmount);\n            }\n          '),a(),s(347,"\n        "),a(),u(348,"p"),s(349,"La diff\xe9rence r\xe9side dans l'utilisation d'un substitut pour le test \xe9troit et de l'impl\xe9mentation r\xe9elle pour le test de grande envergure, ce qui fait que le deuxi\xe8me test est plus profond que le premier."),a(),u(350,"p"),s(351,"Le format de Gherkin sur le BDD, se pr\xeate bien \xe0 l'\xe9criture des tests d'int\xe9gration. Le formalisme en given/when/then, proche des langages naturels, facilites l'\xe9criture des tests avec le PO ou avec les utilisateurs et permet de produire un sc\xe9nario proche d'une sp\xe9cification ou d'une documentation."),a(),u(352,"pre"),s(353,"          "),u(354,"span",3),s(355,"C#"),a(),s(356,"\n          "),u(357,"code",4),s(358,"\n            [En Gherkin]\n            Scenario : Convert amount if the rate is found\n            Given I have 10 EUR\n            And I have entered USD as target currency\n            And the rate is 1.14\n            When I convert amount\n            Then the converted amount should be 11.4 USD\n          "),a(),s(359,"\n        "),a(),u(360,"p"),s(361,"Les tests d'int\xe9grations s'\xe9crivent finalement avec les m\xeames outils que les tests unitaires (et \xe0 l'inverse, rien n'emp\xeache de d\xe9crire des tests unitaires au format Gherkin)."),a(),u(362,"p"),s(363,"Il est possible de m\xe9langer des substituts pour un ou plusieurs composants et des impl\xe9mentations r\xe9elles pour d'autres. Parfois, on d\xe9pend d'une ressource externe, et plusieurs cas de figures peuvent se pr\xe9senter."),a(),u(364,"ul")(365,"li"),s(366,"On d\xe9pend d'une API externe : on a besoin d'un environnement hors production avec une version compatible du service;"),a(),u(367,"li"),s(368,"On acc\xe8de \xe0 une base de donn\xe9es : il faut une base de donn\xe9es pour les tests, celle-ci pouvant \xeatre mise \xe0 jour p\xe9riodiquement."),a()(),u(369,"p"),s(370,"L'utilisation d'une base de donn\xe9e pour les tests n\xe9cessite de d\xe9finir une strat\xe9gie au niveau de l'\xe9quipe et se montre relativement co\xfbteuse et complexe : il ne faut pas oublier que le sch\xe9ma de la base \xe9volue, ainsi que les donn\xe9es. Ceci rend les tests potentiellement fragiles. De plus pour garder la base de test dans un \xe9tat correct, il faudra penser \xe0 nettoyer les donn\xe9es ins\xe9r\xe9es lors des tests afin que les tests restent reproductibles. Si les donn\xe9es en base ne sont pas identiques d'une ex\xe9cution \xe0 l'autre, le comportement peut \xeatre alt\xe9r\xe9."),a(),u(371,"p"),s(372,"Il existe des solutions moins lourdes pour lancer des tests n\xe9cessitant une base, sans besoin de d\xe9ployer une base en dur. On peut utiliser les bases in-memory. C'est une base en m\xe9moire dont la dur\xe9e de vie est limit\xe9e \xe0 l'ex\xe9cution d'un test. Elle est recr\xe9\xe9e \xe0 chaque ex\xe9cution du test, et supprim\xe9e en fin d'ex\xe9cution. Cela impose de r\xe9initialiser les jeux de donn\xe9es \xe0 chaque test, ce qui n\xe9cessite plus de travail mais donne aussi plus de ma\xeetrise. Cela rend moins d\xe9pendants des alt\xe9rations de donn\xe9es sur une base de donn\xe9es partag\xe9e."),a(),u(373,"p"),s(374,"En plus des donn\xe9es utiles pour les tests, on peut choisir de pr\xe9voir des donn\xe9es qu'on appelle des "),u(375,"span",0),s(376,"donn\xe9es parasites"),a(),s(377,". Les tests n'ont pas besoin de ces donn\xe9es pour \xeatre ex\xe9cut\xe9s, mais leur pr\xe9sence permet de simuler au plus pr\xe8s la production."),a()()()(),u(378,"li")(379,"span",0),s(380,"Test end to end"),a(),s(381,". Ils permettent de v\xe9rifier que l'ensemble des composants d'une fonctionnalit\xe9 fonctionnent de bout en bout, de la partie IHM aux d\xe9pendances externes (base de donn\xe9es, ou service API,... ). Ils sont utilis\xe9s pour les sc\xe9narios critiques. "),u(382,"p"),s(383,"Plusieurs outils permettent d'automatiser les tests E2E. Selenium fait partie des plus populaires du march\xe9."),a()(),u(384,"li")(385,"span",0),s(386,"Test exploratoire"),a(),s(387,". Ce sont les tests ex\xe9cut\xe9s manuellement. Leur r\xf4le est de trouver les bugs qui ne sont pas d\xe9tect\xe9s par les autres tests afin d'am\xe9liorer la stabilit\xe9 et l'utilisabilit\xe9 de l'application. Ils permettent aussi l'apprentissage et la compr\xe9hension du produit, et de trouver de nouvelles fonctionnalit\xe9s. G\xe9n\xe9ralement ils ne sont pas bas\xe9s sur des documents et sont donc non dirig\xe9s, et leur dur\xe9e d'ex\xe9cution peut s'\xe9taler."),a(),u(388,"li")(389,"span",0),s(390,"Visualisation des niveaux de test"),a(),j(391,"img",6),a()(),u(392,"h4"),s(393,"3.3 Viser plus de qualit\xe9"),a(),u(394,"p"),s(395,"Quand on veut viser plus de qualit\xe9, on peut r\xe9aliser d'autres types de tests qui pourront se greffer \xe0 divers niveaux\nde la pyramide. Il s'agit plus d'une particularit\xe9 ajout\xe9e aux tests comme : "),a(),u(396,"ul")(397,"li")(398,"span",0),s(399,"Les tests automatiques: "),a(),s(400,"automatiser leur ex\xe9cution en local en utilisant le live-testing de l'IDE ou dans un terminal \xe0 c\xf4t\xe9. On peut configurer le processus d'int\xe9gration continue pour ex\xe9cuter les tests apr\xe8s la compilation, lors de chaque publication du code;"),a(),u(401,"li")(402,"span",0),s(403,"Les tests de performances ou de charges: "),a(),s(404,"permettent de s'assurer que l'application supporte bien une certaine charge (en termes de volume de donn\xe9es, de sollicitations par le nombre d'appels simultan\xe9s, ...) en restant r\xe9active et stable. Il faut commencer par d\xe9finir les objectifs et pourquoi on en a besoin en r\xe9pondant \xe0 certaines questions m\xe9tier comme : "),u(405,"ul")(406,"li"),s(407,"Quel est le temps de r\xe9ponse maximal attendu en secondes ou millisecondes (temps de r\xe9ponse serveur et temps d'affichage)?"),a(),u(408,"li"),s(409,"Quels sont les modules ou composants qui rentrent dans le p\xe9rim\xe8tre des tests de performance ?"),a(),u(410,"li"),s(411,"Quelle est l'affluence en nombre d'utilisateurs attendus ? Il faut distinguer le cas nominal du cas critique."),a()(),u(412,"p"),s(413,"Les tests de performance peuvent \xeatre automatis\xe9 et lanc\xe9 depuis l'usine d'int\xe9gration continue. On peut utiliser l'outil DevTools du navigateur pour calculer le temps de r\xe9ponse. L'IDE peut aider en int\xe9grant un outil de diagnostique lors du d\xe9bug de l'application (les \xe9v\xe8nements lanc\xe9s et l'\xe9tat de l'utilisation de la m\xe9moire et du CPU)"),a(),u(414,"p"),s(415,"Pour des tests plus pouss\xe9s, on peut utiliser des outils tels que Apache Bench ou Siege pour la partie serveur."),a(),u(416,"p"),s(417,"C\xf4t\xe9 client, SiteSpeed qui analyse les sites pas rapport aux bonnes pratiques en mati\xe8re de m\xe9trique et de performance, ou WebPageTest, qui est gratuit et qui teste une page sur le navigateur choisi et remonte les informations pr\xe9cises sur les performances de la page."),a(),u(418,"p"),s(419,"Les librairies telles que QuickPerf en Java, permettent d'\xe9tablir des crit\xe8res de performance sous forme d'assertions dans les tests d'int\xe9gration, en mesurant par exemple, le nombre d'appels vers la base de donn\xe9es."),a()(),u(420,"li")(421,"span",0),s(422,"Les tests de v\xe9rification en service r\xe9gulier : "),a(),s(423,"Une fois que l'application est livr\xe9e dans un environnement de recette ou en production, il est important de v\xe9rifier qu'elle est fonctionnelle. "),u(424,"p"),s(425,"La v\xe9rification peut se faire manuellement en testant lors de la livraison, ou plus r\xe9guli\xe8rement en testant quelques parcours critiques : on parle alors de "),u(426,"span",0),s(427,"smoke tests"),a(),s(428,"."),a(),u(429,"p"),s(430,"On peut \xe9galement l'automatiser avec des tests end to end type Selenium, pour s'assurer qu'une page se charge bien."),a(),u(431,"p"),s(432,"On peut effectuer r\xe9guli\xe8rement des health checks de nos API, en v\xe9rifiant que le service est toujours actif et r\xe9pond bien avec un statut HTTP 200 par exemple."),a()()())},styles:[".niveauTest[_ngcontent-%COMP%]{display:block;max-width:500px}"]})}}return e})()},{path:"techniques-avancees-tdd",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-techniques-avancees-tdd"]],standalone:!0,features:[H],decls:197,vars:0,consts:[["title","Crit\xe8res INVEST"],[1,"pink-purple-txt"],["alt","","src","assets/images/arbre.jpeg",1,"img"],["alt","","src","assets/images/chicagoSchool.jpeg",1,"img"],["alt","","src","assets/images/fonctionnaliteChicagoSchool.jpeg",1,"img"],["title","User Story"],["src","./assets/images/ATDD.jpg","alt",""]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Outils et techniques avanc\xe9es de TDD"),a(),u(2,"h3"),s(3,"Baby steps et ordonnancement des tests"),a(),u(4,"p"),s(5,"Il s'agit de d\xe9composer la fonctionnalit\xe9 en une suite de plusieurs \xe9volutions incr\xe9mentales, chacune \xe9tant la plus\npetite possible, et de fa\xe7on que cette suite permette d'atteindre la fonctionnalit\xe9 enti\xe8re. Ensuite, les baby steps sont\nordonn\xe9s en une s\xe9quence progressive qui deviendra la s\xe9quence des cas de tests qui vont guider le d\xe9veloppement. Il est\ndonc important de prioriser."),a(),u(6,"app-callout-section",0)(7,"p"),s(8,"La notion de baby steps se retrouve dans la progression des tests qui guident le d\xe9veloppement en TDD, mais aussi dans\nles incr\xe9ments de d\xe9coupage fonctionnel au niveau des Users Stories. Au niveau d'une application, le d\xe9coupage fonctionnel\ndonne naissance \xe0 des Users Stories qui doivent r\xe9pondre aux crit\xe8res INVEST :"),a(),u(9,"ul")(10,"li")(11,"span",1),s(12,"I"),a(),s(13,"nd\xe9pendant : chaque incr\xe9ment du d\xe9coupage doit \xeatre ind\xe9pendant des autres incr\xe9ments d\xe9cid\xe9s. Si un incr\xe9ment est d\xe9pendant d'un autre, on peut utiliser un substitut pour la d\xe9pendance. Ainsi on peut quand m\xeame livrer l'incr\xe9ment en question sans soucis particuliers."),a(),u(14,"li")(15,"span",1),s(16,"N"),a(),s(17,"\xe9gociable : Un incr\xe9ment est d\xe9crit par une phrase qui peut correspondre \xe0 une r\xe8gle de gestion. On s'int\xe9resse moins aux d\xe9tails d'impl\xe9mentation, qui ne doivent pas \xeatre mentionn\xe9s dedans. Ainsi ces d\xe9tails techniques peuvent \xeatre n\xe9gociables pour ajuster le p\xe9rim\xe8tre en cas de d\xe9lai r\xe9duit par rapport \xe0 la complexit\xe9 de la t\xe2che."),a(),u(18,"li")(19,"span",1),s(20,"V"),a(),s(21,"aluable : qui a de la valeur. Chaque incr\xe9ment doit apporter de la valeur \xe0 l'utilisateur. Si ce n'est pas le cas, il faut repenser le d\xe9coupage. Ne pas faire des d\xe9coupages techniques au risque de mettre du temps \xe0 d\xe9livrer la valeur au m\xe9tier."),a(),u(22,"li")(23,"span",1),s(24,"E"),a(),s(25,"stimable : l'incr\xe9ment doit \xeatre suffisamment petit pour rentrer dans une it\xe9ration de d\xe9veloppement. C'est pourquoi il est important de noter les crit\xe8res d'acceptation de l'incr\xe9ment."),a(),u(26,"li")(27,"span",1),s(28,"S"),a(),s(29,"mall : pour rentrer dans une it\xe9ration de d\xe9veloppement."),a(),u(30,"li")(31,"span",1),s(32,"T"),a(),s(33,"estable : tout incr\xe9ment doit \xeatre associ\xe9 \xe0 un test automatis\xe9 de pr\xe9f\xe9rence. On peut ainsi facilement le valider pour v\xe9rifier que la valeur est bien apport\xe9e \xe0 l'utilisateur."),a()()(),u(34,"h3"),s(35,"Styles de TDD"),a(),u(36,"p"),s(37,"Une fa\xe7on de pr\xe9parer le d\xe9veloppement d'une nouvelle fonctionnalit\xe9 est d'esquisser des bo\xeetes au tableau pour repr\xe9senter\nles fonctionnalit\xe9s \xe0 cr\xe9er et les d\xe9pendances entre elles. On imagine ainsi la premi\xe8re fonctionnalit\xe9 \xe0 mettre en place,\navec son point d'entr\xe9e, puis la deuxi\xe8me, ... Une fois le diagramme fini, au moment de d\xe9buter le d\xe9veloppement, une question\nse pose : \"Par o\xf9 commencer ?\""),a(),j(38,"img",2),u(39,"p"),s(40,"Dans cet arbre de fonctionnalit\xe9s, qui deviendra un arbre d'appels entre composants \xe0 terme, on peut commencer par les\nfeuilles C, D ou E, ou bien la racine A. Ce sont les 2 principales approches de TDD."),a(),u(41,"p"),s(42,"Le choix entre ces 2 approches est une question d'affinit\xe9 et de contexte."),a(),u(43,"h4"),s(44,"1. Style de TDD inside-out (Chicago school ou bottom up)"),a(),u(45,"p"),s(46,"Consiste \xe0 d\xe9velopper les fonctionnalit\xe9s dont d\xe9pendent des fonctionnalit\xe9s plus complexes, jusqu'\xe0 arriver \xe0 la racine de l'arbre."),a(),j(47,"img",3),u(48,"p"),s(49,"Si l'application comprend un service qui applique une r\xe9duction sur un article puis qui notifie les clients par mail\nde la r\xe9duction appliqu\xe9e : "),a(),j(50,"img",4),u(51,"p"),s(52,"En inside-out, on impl\xe9menterait d'abord le Notifier, puis le DiscountApplier. Pour tester le Notifier, il faut utiliser\nun mock qui remplace la classe collaborative (qui pourrait \xeatre un SMTPUtils), soit avec un framework de mocks, soit avec\nun mock avec une sous-classe qui va v\xe9rifier qu'elle est appel\xe9e comme d\xe9sir\xe9e."),a(),u(53,"p"),s(54,"Le service d'envoi de mails peut aussi \xeatre impl\xe9ment\xe9 en un second temps. Dans ce cas, pour d\xe9velopper le service\nd'application de r\xe9duction qui doit utiliser le service d'envoi de mails, on va utiliser un mock qui le remplace."),a(),u(55,"h4"),s(56,"2. Style de TDD outside-in (London school ou top down)"),a(),u(57,"p"),s(58,"Met l'accent sur le besoin utilisateur. Elle n\xe9cessite une d\xe9composition pr\xe9alable du probl\xe8me en \xe9l\xe9ments plus simples,\nqui seront r\xe9mplac\xe9s temporairement par des substituts, avant d'\xeatre enfin construits. Le d\xe9veloppement est guid\xe9 par le\nbesoin, ainsi la construction de la solution se fait de l'ext\xe9rieur vers l'int\xe9rieur."),a(),u(59,"p"),s(60,"Avec un usage aussi intensif de doublure de tests, il faut v\xe9rifier \xe0 la fin qu'il existe bien une impl\xe9mentation de\nchaque substitut utilis\xe9. Un moyen rapide et s\xfbr est la m\xe9thode ATDD (Acceptance Test Driven Development)"),a(),u(61,"p",1),s(62,"Exemple : "),a(),u(63,"p"),s(64,"Pour le relev\xe9 de compte, la fonctionnalit\xe9 compl\xe8te peut se repr\xe9senter en un seul sc\xe9nario m\xe9tier, qui est le point\nde d\xe9part en TDD outside-in"),a(),u(65,"app-callout-section",5)(66,"p"),s(67,"Etant donn\xe9 un solde initial de 200,"),a(),u(68,"p"),s(69,"Avec un d\xe9bit de 50 \xe0 la date du 03/03/2022"),a(),u(70,"p"),s(71,"Et un cr\xe9dit de 10 \xe0 la date du 04/03/2022"),a(),u(72,"p"),s(73,"Alors quand on demande le relev\xe9"),a(),u(74,"p"),s(75,"Il affiche :"),a(),u(76,"p"),s(77,"03/03/2022 | -50 | 150 "),a(),u(78,"p"),s(79,"04/03/2022 | 10 | 160 "),a()(),u(80,"p"),s(81,"MAIS, il ne faut pas impl\xe9menter un tel sc\xe9nario en une seule boucle de TDD, cela reviendrait \xe0 tout coder en un seul\nincr\xe9ment de grande taille, donc sans b\xe9n\xe9ficier de TDD. Il faut donc d\xe9composer la fonctionnalit\xe9 en sous-fonctionnalit\xe9s."),a(),u(82,"p"),s(83,"On commencerait par exemple \xe0 impl\xe9menter l'affichage de relev\xe9 avec 2 substituts de tests correspondant \xe0 l'acc\xe8s \xe0\nla liste des mouvements du mois, et au calcul du solde correspondant \xe0 chaque ligne."),a(),u(84,"p"),s(85,"Une fois le sc\xe9nario principal pass\xe9 au vert avec les substituts, on s'int\xe9resse \xe0 chaque doublure pour en faire une\nv\xe9ritable impl\xe9mentation, par exemple en commen\xe7ant par le calcul du nouveau sold, et ainsi de suite jusqu'\xe0 impl\xe9menter\nla totalit\xe9 du probl\xe8me."),a(),u(86,"h4"),s(87,"3. ATDD et double boucle"),a(),u(88,"p"),s(89,"Dans l'approche ATDD (Acceptance Test Driver Development), on commence par \xe9crire un test d'acceptation couvrant\nla fonctionnalit\xe9 \xe0 ajouter. Les tests d'acceptations sont \xe9crits d'un point de vue utilisateur du syst\xe8me. Il peuvent\nservir comme documentation et ensuite comme tests de non-r\xe9gression. G\xe9n\xe9ralement, on n'utilise pas de substituts (mock)\npour ce test ou on minimise leur utilisation aux fronti\xe8res de notre syst\xe8me (les services externes ou infrastructure ...).\nCe test restera rouge tout au long du d\xe9veloppement du nouveau besoin. C'est notre indicateur de fin de d\xe9veloppement.\nIl passera vert quand toutes les briques seront finalis\xe9es. Comme en TDD, on v\xe9rifie que le test d'acceptation commence\nen \xe9chec. Puis on d\xe9marre des petites boucles TDD. On parle alors de 2 boucles imbriqu\xe9es (double loop)."),a(),j(90,"img",6),u(91,"p"),s(92,"En TDD, les tests ne doivent jamais rester rouge pour une longue p\xe9riode. En ATDD, la boucle est plus grande car on\na pas fini la fonctionnalit\xe9, le test d'acceptation reste rouge. Certains frameworks permettent de les marquer \"pending\"\n(en cours) pour ne pas cr\xe9er d'alertes inutiles."),a(),u(93,"h3"),s(94,"L'id\xe9e du TDD pouss\xe9e au maximum : TDD as if you meant it"),a(),u(95,"p"),s(96,"L'approche de TDD strict consiste \xe0 se retenir dans ses r\xe9flexes d'impl\xe9mentation. On s'oblige \xe0 commencer par mettre\ntout le code, y compris le code destin\xe9 \xe0 \xeatre livr\xe9 en production \xe0 terme, dans le corps de la m\xe9thode de test. L'id\xe9e\nest de progresser au vu du code strictement n\xe9cessaire, rassembl\xe9 en un seul endroit pour avoir tout sous les yeux. La\nseule fa\xe7on d'introduire une m\xe9thode, une classe, ou une constante est de le faire par refactoring \xe0 partir du code qui\nfonctionne d\xe9j\xe0 dans la m\xe9thode de test. Il s'agit d'\xe9viter de concevoir des classes, enums, interfaces ou m\xe9thodes d\xe8s\nle d\xe9but, afin de laisser TDD faire \xe9merger la conception sans l'influencer de nos anticipations."),a(),u(97,"p"),s(98,"Quand on d\xe9bute un cycle de TDD, le code fait l'objet de nombreux refactoring \xe0 un rythme rapide, de l'ordre de quelques secondes ou minutes, et avoir tout le code dans une m\xeame m\xe9thode, ou un m\xeame fichier, aide \xe0 refactorer plus vite. Mais au fil du d\xe9veloppement et des cas de tests, le code tend \xe0 grossir et \xe0 changer un peu moins radicalement. C'est donc le moment d'extraire les \xe9l\xe9ments de conception de plus en plus englobants tels que les m\xe9thodes, les classes, puis \xe0 terme les modules, qui vont progressivement former la structure du code. On introduit les \xe9l\xe9ments de conception tels que les packages, classes et m\xe9thodes, qui tendent \xe0 rendre le code plus difficile \xe0 changer, au moment le plus opportun, c'est-\xe0-dire quand le code a d\xe9j\xe0 prouv\xe9 qu'il fonctionne apr\xe8s avoir pass\xe9 plusieurs tests."),a(),u(99,"p"),s(100,"La d\xe9marche consiste \xe0 ne pas penser au design de la solution, et \xe0 y aller sans id\xe9e pr\xe9-con\xe7ue. "),a(),u(101,"h4"),s(102,"1. Qu'est ce que le TDD strict ? "),a(),u(103,"p"),s(104,"Le TDD strict n'autorise pas \xe0 cr\xe9er une classe, une m\xe9thode ou m\xeame une constante sauf si les \xe9l\xe9ments sont cr\xe9es \xe0\npartir d'un refactoring. A la phase rouge du TDD, on va cr\xe9er le code directement dans la classe de test. Et \xe0 la phase\nde refactor, on peut bouger la m\xe9thode dans une classe."),a(),u(105,"h4"),s(106,"2. Triangulation"),a(),u(107,"p"),s(108,"La premi\xe8re impl\xe9mentation de la m\xe9thode peut contenir des constantes. Il arrive qu'on passe \xe0 un nouveau cas de test\ntout en oubliant de variabiliser la constante cr\xe9\xe9e. Afin de v\xe9rifier qu'on n'a rien oubli\xe9, on cr\xe9e un test de "),u(109,"span",1),s(110,"triangulation"),a(),s(111,". C'est un test qui correspond au dernier \xe9crit, mais on change une\nseule valeur d'entr\xe9e. Le but est de v\xe9rifier qu'on a rien laiss\xe9 en dur dans le code."),a(),u(112,"p"),s(113,"Robert C. Martin \xe9num\xe8re plusieurs transformations possibles pour am\xe9liorer la lisibilit\xe9 du code. "),a(),u(114,"h4"),s(115,"3. A l'extr\xeame : transformation priority premise (TPP)"),a(),u(116,"p"),s(117,"En appliquant le TDD, on enrichi le code de production au fur et \xe0 mesure des ajouts de nouveaux tests. C'est lors de\nla phase de refactoring qu'on am\xe9liore la lisibilit\xe9 du code en changeant sa structure sans changer son comportement.\nQuand on ajoute un nouveau test, on va potentiellement changer le comportement sans changer de fa\xe7on significative la\nstructure du code."),a(),u(118,"p"),s(119,"Souvent, quand on commence \xe0 appliquer le TDD, on oublie les baby steps. Pour ne pas les oublier, on applique les\ntransformation prioris\xe9es par Robert C. Martin."),a(),u(120,"p"),s(121,"Alors que les actions de refactoring consistent \xe0 changer la structure du code sans changer le comportement, les "),u(122,"span",1),s(123,"transformation"),a(),s(124," sont des modifications de code simples qui changent le comportement."),a(),u(125,"p"),s(126,"Il propose de ne changer le code qu'en appliquant des transformations simples, et en s'imposant toujours de commencer\npar "),u(127,"span",1),s(128,"la plus simple possible"),a(),s(129," avant de devoir recourir \xe0 des transformations "),u(130,"span",1),s(131,"moins simples"),a(),s(132,". Comme les transformations sont ordonn\xe9es par priorit\xe9s, il a donn\xe9\n"),u(133,"span",1),s(134,"Transformation Priority Premise"),a(),s(135," \xe0 cette approche :"),a(),u(136,"ul")(137,"li")(138,"span",1),s(139,"({} -> null) "),a(),s(140,": partir sans code vers un code qui emploie ou retourne null;"),a(),u(141,"li")(142,"span",1),s(143,"(null -> constante) "),a(),s(144,": transformer le null en utilisant une constante;"),a(),u(145,"li")(146,"span",1),s(147,"(constante -> constante+) "),a(),s(148,": d'une constante simple vers une constante plus complexe;"),a(),u(149,"li")(150,"span",1),s(151,"(constante -> scalaire) "),a(),s(152,": remplacer une constante par une variable ou un argument;"),a(),u(153,"li")(154,"span",1),s(155,"(instruction -> instructions) "),a(),s(156,": ajouter des instructions sans condition;"),a(),u(157,"li")(158,"span",1),s(159,"(unconditional -> if) "),a(),s(160,": introduire une condition;"),a(),u(161,"li")(162,"span",1),s(163,"(scalaire -> tableau) "),a(),s(164,";"),a(),u(165,"li")(166,"span",1),s(167,"(tableau -> conteneur) "),a(),s(168,";"),a(),u(169,"li")(170,"span",1),s(171,"(instruction -> recursion) "),a(),s(172,";"),a(),u(173,"li")(174,"span",1),s(175,"(if -> while) "),a(),s(176,";"),a(),u(177,"li")(178,"span",1),s(179,"(expression -> fonction) "),a(),s(180,": remplacer une expression par une fonction ou un algorithme;"),a(),u(181,"li")(182,"span",1),s(183,"(variable -> affectation) "),a(),s(184,";"),a()(),u(185,"p"),s(186,"Ces transformation vont du sp\xe9cifique au g\xe9n\xe9rique."),a(),u(187,"p"),s(188,'Sur le kata FizzBuzz, au premier test, on peut retourner directement la valeur 1. Puis avec le test de triangulation,\non a transform\xe9 la constante par une variable "number", qui est pass\xe9e en param\xe8tre. On a utilis\xe9 la 4\xe8me transformation\nd\'une constante \xe0 une variable dans cette \xe9volution.'),a(),u(189,"p"),s(190,'Quand on voulait faire passer le test avec le nombre 3, pour retourner "Fizz", on a ajout\xe9 une condition '),u(191,"span",1),s(192,"if (number % 3 == 0)"),a(),s(193,". C'est l'application de la 6\xe8me transformation "),u(194,"span",1),s(195,"(unconditional -> if)"),a(),s(196,". Le conseil de respecter l'ordre des priorit\xe9s des transformations\npermet de se retenir de faire du code complexe superflu."),a())},dependencies:[Ft],styles:[".img[_ngcontent-%COMP%]{max-width:500px}"]})}}return e})()},{path:"techniques-conception",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-techniques-conception"]],standalone:!0,features:[H],decls:652,vars:0,consts:[[1,"pink-purple-txt"],[1,"c#"],["title","Attention"],["src","assets/images/tell-dont-ask.png","alt",""],["title","Remarque"],[1,"java"],["title","Pour aller plus loin"],[1,"C#"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Techniques de conception"),a(),u(2,"h3"),s(3,"1. Principes essentiels de conception"),a(),u(4,"h4"),s(5,"1.1 Les principes SOLID"),a(),u(6,"ul")(7,"li")(8,"span",0),s(9,"Single responsibility principle "),a(),s(10,": une classe ne doit avoir qu'une seule responsabilit\xe9."),a(),u(11,"li")(12,"span",0),s(13,"Open close principle "),a(),s(14,": ouvert aux extensions, ferm\xe9 \xe0 la modification. Penser l'\xe9volution d'un syst\xe8me compos\xe9 de plusieurs \xe9l\xe9ments par ajout, suppression ou remplacement d'un \xe9l\xe9ment \xe0 la fois (non par la modification quelconque des \xe9l\xe9ments). "),u(15,"p"),s(16,"exemple : un ordinateur est compos\xe9 d'une carte m\xe8re et d'un ensemble de composants, et \xe9volue par ajout, suppression ou remplacement des composants, et non par changement d'un composant qui n\xe9cessiterait de souder."),a(),u(17,"p"),s(18,"C'est l'id\xe9e des architectures de plugins, d'un grand nombre de design patterns et des microservices."),a()(),u(19,"li")(20,"span",0),s(21,"Liskov substitution principle "),a(),s(22,": principe de substitution, pour pouvoir remplacer un composant par un autre, il est n\xe9cessaire que le rempla\xe7ant v\xe9rifie au moins toutes les propri\xe9t\xe9s de l'original (un sous-type doit v\xe9rifier toutes les propri\xe9t\xe9s du super type ou de l'interface impl\xe9ment\xe9e, par exemple, ne pas lever de nouvelle exception."),a(),u(23,"li")(24,"span",0),s(25,"Interface segregation principle "),a(),s(26,": principe de s\xe9gr\xe9gation d'interfaces, encourage \xe0 s\xe9parer les m\xe9thodes d'une classe dans plusieurs interfaces distinctes, pour que le code qui utilise la classe ne voie que les m\xe9thodes dont il a besoin. Si un code n'utilise que des m\xe9thodes de consultation d'une classe, les \xe9ventuelles m\xe9thodes de mutation de la classe ne devraient pas \xeatre dans l'interface r\xe9f\xe9renc\xe9e pas ce code. Cela am\xe8ne donc souvent \xe0 des classes qui impl\xe9mentent plusieurs interfaces, chacune sur un sous-ensemble de leurs m\xe9thodes publiques."),a(),u(27,"li")(28,"span",0),s(29,"Dependency inversion principle "),a(),s(30,": principe d'inversion des d\xe9pendances, consiste \xe0 inverser la direction d'une d\xe9pendance entre un code appelant la classe et une classe appel\xe9e. L'astuce consiste \xe0 introduire une interface r\xe9f\xe9renc\xe9e par le code appelant et impl\xe9menter par la classe appel\xe9e."),a()(),u(31,"p"),s(32,"Il est possible d'utiliser ces principes \xe9galement dans les architectures distribu\xe9es, o\xf9 les interfaces deviennent des\ncontrats REST/JSON et o\xf9 les classes deviennent des services."),a(),u(33,"h4"),s(34,'1.2 Le principe "Composition over inh\xe9ritance"'),a(),u(35,"p"),s(36,"Ce principe d\xe9courage l'usage de l'h\xe9ritage des langages objets, au profit de la composition."),a(),u(37,"p"),s(38,"Exemple : plut\xf4t que de regrouper du code en commun dans une classe de base, on met ce code dans une classe d\xe9di\xe9e\nqu'on inclut dans chaque classe qui en a besoin."),a(),u(39,"p"),s(40,"L'usage des interfaces reste encourag\xe9, le polymorphisme n'\xe9tant pas de l'h\xe9ritage."),a(),u(41,"h4"),s(42,"1.3 Les principes de faible couplage et de forte coh\xe9sion"),a(),u(43,"p"),s(44,"Ce principe stipule que l'organisation du code doit regrouper les responsabilit\xe9s similaires dans une zone \xe0 forte\ncoh\xe9sion, avec le moins de couplage possible avec les zones de code. "),a(),u(45,"h4"),s(46,"1.4 Le principe de d\xe9pendance du sp\xe9cifique vers le g\xe9n\xe9rique"),a(),u(47,"p"),s(48,"Ce principe provient du raisonnement sur la stabilit\xe9 relative des classes, modules ou services en termes de changements\nde leur code. L'id\xe9e est que le code le plus stable ne doit pas d\xe9pendre de code moins stable, sous peine de devenir\ninstable. A d\xe9faut de pouvoir mesurer la stabilit\xe9 des \xe9l\xe9ments du code, on peut l'estimer en comparant les fonctionnalit\xe9s\ndes plus sp\xe9cifiques aux plus g\xe9n\xe9riques, les plus sp\xe9cifiques \xe9tant consid\xe9r\xe9es plus propices aux changements, donc moins\nstables que celles qui sont g\xe9n\xe9riques."),a(),u(49,"p"),s(50,"On peut donc dire : "),u(51,"span",0),s(52,"le g\xe9n\xe9rique ne doit jamais d\xe9pendre du sp\xe9cifique"),a(),s(53,"."),a(),u(54,"h4"),s(55,"1.5 La loi de Demeter : pour \xeatre heureux, vivons cach\xe9s"),a(),u(56,"p"),s(57,"Principe de la connaissance minimale."),a(),u(58,"p"),s(59,"Un objet devrait faire aussi peu d'hypoth\xe8se que possible quant \xe0 la structure et aux d\xe9tails internes de fonctionnement\nde quoi que ce soit d'autre, y compris ses propres composants."),a(),u(60,"h5"),s(61,"Exemple : "),a(),u(62,"p"),s(63,"Un site de vente en ligne souhaite d\xe9terminer le pays d'exp\xe9dition pour chaque commande afin d'appliquer les r\xe8gles\ndouani\xe8re en vigueur : "),a(),u(64,"pre"),s(65,"  "),u(66,"code",1),s(67,"\n    order.Customer().getShippingAddress().getCountry().getCode();\n  "),a(),s(68,"\n"),a(),u(69,"p"),s(70,"Avec la loi Demeter, on obtient :"),a(),u(71,"pre"),s(72,"  "),u(73,"code",1),s(74,"\n    order.getCustomsCountryCode();\n  "),a(),s(75,"\n"),a(),u(76,"p"),s(77,"Les b\xe9n\xe9fices sont multiples :"),a(),u(78,"ul")(79,"li"),s(80,"L'intension est exprim\xe9e clairement : on sait que le code pays renvoy\xe9 est utilis\xe9 pour des raisons douani\xe8res"),a(),u(81,"li"),s(82,"La logique de calcul du code pays pour les questions de douanes est encapsul\xe9e : si elle vient \xe0 \xe9voluer, le changement se fera seulement dans Order.getCustomsCountryCode() et non partout o\xf9 on pourrait avoir besoin de ce calcul. "),u(83,"p"),s(84,"C'est une fa\xe7on de respecter DRY et de r\xe9duire le couplage."),a()(),u(85,"li"),s(86,"C\xf4t\xe9 lisibilit\xe9 on va directement \xe0 l'essentiel."),a(),u(87,"li"),s(88,"En limitant l'exposition du fonctionnement interne, la s\xe9curit\xe9 des composants est renforc\xe9e."),a(),u(89,"li"),s(90,"On limite aussi le couplage entre le fonctionnement interne d'une composant et ceux qui l'utilisent. Modifier l'impl\xe9mentation, occasionne tr\xe8s peu d'impacts. On peut le voir comme une r\xe9duction de la surface de contact entre les composants."),a()(),u(91,"p"),s(92,"La loi de Demeter va dans le sens de limiter ce qu'on expose, notamment les d\xe9tails d'impl\xe9mentation. Plus on les expose,\nplus on cr\xe9e de couplage, multipliant ainsi les impactes en cas de modification. On doit plut\xf4t raisonner en termes de\nservices fournis par un composant, et des probl\xe8mes qu'il aide \xe0 r\xe9soudre. La loi de Demeter offre un moyen efficace\nd'augmenter l'encapsulation (contr\xf4ler ce qui est accessible ou non) et de renforcer les abstractions."),a(),u(93,"app-callout-section",2)(94,"p"),s(95,"La forme a().b().c() ne veut pas forc\xe9ment dire qu'on est en pr\xe9sence d'une violation de la loi de Demeter. On peut \xeatre face \xe0 une API fluent ou un pattern de type Builder, et ces approches sont \xe0 encourager."),a()(),u(96,"h4"),s(97,'1.6 Principe du "Tell, don\'t ask"'),a(),u(98,"p"),s(99,"Dans l'approche objet, un objet ne consiste pas seulement en de la donn\xe9e. Il est pr\xe9f\xe9rable de chercher \xe0 incorporer\nde la logique \xe0 c\xf4t\xe9 des donn\xe9es, au sein de la classe. Ainsi au lieu de demander les donn\xe9es \xe0 l'objet pour les manipuler\net les modifier, il est pr\xe9f\xe9rable de fournir directement les abstractions qui permettent d'effectuer des actions de plus\nhaut niveau. On peut le combiner avec l'effort de limiter des accesseurs au strict minimum."),a(),u(100,"p"),s(101,"Cela contribue \xe0 :"),a(),u(102,"ul")(103,"li"),s(104,"Renforcer l'encapsulation en masquant des d\xe9tails d'impl\xe9mentation que les composants ext\xe9rieurs n'ont pas besoin de conna\xeetre ;"),a(),u(105,"li"),s(106,"Limiter l'acc\xe8s sur les donn\xe9es, on renforce la s\xe9curit\xe9 des objets en emp\xeachant des utilisations impr\xe9vues, on \xe9vite que chaque composant client fournissent sa propre interpr\xe9tation du traitement \xe0 effectuer ;"),a(),u(107,"li"),s(108,"Eviter de multiplier les objets an\xe9miques (qui ne servent qu'\xe0 stocker de la donn\xe9e, aussi appel\xe9s DTO ou POxO, mais qui sont en fait des structures cl\xe9-valeur de luxe) ;"),a(),u(109,"li"),s(110,"Eviter de la duplication lorsque de multiples composants ext\xe9rieurs vont avoir besoin de la m\xeame logique."),a()(),u(111,"p"),s(112,"Exemple : on veut calculer la montant total d'une commande. Au lieu de demander \xe0 l'objet Order la liste des articles\ncommend\xe9s et de faire le calcul ensuite : "),a(),u(113,"pre"),s(114,"  "),u(115,"code",1),s(116,"\n    double orderAmount = 0.0;\n    for(OrderLine orderLine : order.getOrderLines()){\n      orderAmount += orderLine.getItemPrice() * orderLine.getQuantity;\n    }\n  "),a(),s(117,"\n"),a(),u(118,"p"),s(119,"Cette logique pourrait directement \xeatre fournie dans la classe Order, le client n'ayant alors qu'\xe0 l'appeler :"),a(),u(120,"pre"),s(121,"  "),u(122,"code",1),s(123,"\n    double orderAmount = order.getOrderAmount();\n  "),a(),s(124,"\n"),a(),u(125,"p"),s(126,"Ainsi, l'appelant n'a pas besoin de savoir comment une commande est structur\xe9e. Si par la suite la classe Order \xe9volue\ndans sa logique m\xe9tier, pour int\xe9grer par exemple le calcul des taxes, ou dans sa fa\xe7on de structurer ses \xe9l\xe9ments OrderLine,\nle client ne sera pas impact\xe9."),a(),u(127,"h4"),s(128,"1.7 Principe d'Hollywood : \"Don't call us, we'll call you\""),a(),u(129,"p"),s(130,"Ce principe est fortement li\xe9 \xe0 ceux d'inversion de contr\xf4le (IoC) et d'inversion de d\xe9pendance (DIP). Plut\xf4t que de\ns'ins\xe9rer dans un flux de contr\xf4le, une portion de code doit d\xe9crire un comportement qui se d\xe9clenche en r\xe9ponse \xe0 des\n\xe9v\xe8nements ext\xe9rieurs (clic sur un bouton, chargement d'une page,...)"),a(),u(131,"p"),s(132,"On parle d'\xe9v\xe8nements, de hooks, de call backs, et la plupart des frameworks reposent fortement sur ces principes. Par\nexemple : lambdas, patterns tels que Observer ou Template Method."),a(),u(133,"p"),s(134,"La notion de d\xe9clarativit\xe9 est importante, oppos\xe9e au style imp\xe9ratif. Le style fonctionnel aide ainsi \xe0 renforcer le\nprincipe d'Hollywood."),a(),u(135,"h3"),s(136,'2. Le jeu de contraintes "object calisthenics"'),a(),u(137,"p"),s(138,"Les r\xe8gles suivantes permettent d'am\xe9liorer la lisibilit\xe9 du code pour le rendre plus maintenable et plus facilement\ntestable :"),a(),u(139,"ul")(140,"li")(141,"span",0),s(142,"Only one level of indentation per method"),a(),s(143,";"),a(),u(144,"li")(145,"span",0),s(146,"Don't use the else keyword"),a(),s(147," : Ne pas utiliser le mot-cl\xe9 else;"),a(),u(148,"li")(149,"span",0),s(150,"Wrap all primitives and strings"),a(),s(151," : Encapsuler tous les types primitifs et toutes les cha\xeenes de caract\xe8res;"),a(),u(152,"li")(153,"span",0),s(154,"First class collections "),a(),s(155,": Cr\xe9er des classes encapsulant les collections;"),a(),u(156,"li")(157,"span",0),s(158,"One dot per ligne"),a(),s(159,";"),a(),u(160,"li")(161,"span",0),s(162,"Don't abbreviate"),a(),s(163," : Ne pas abr\xe9ger;"),a(),u(164,"li")(165,"span",0),s(166,"Keep all entities small"),a(),s(167,";"),a(),u(168,"li")(169,"span",0),s(170,"No classes with more than two instance variables"),a(),s(171," : Pas de classe avec plus de 2 attributs;"),a(),u(172,"li")(173,"span",0),s(174,"No getters/setters/properties "),a(),s(175,": Pas de getter, ni de setter, ni de propri\xe9t\xe9."),a()(),u(176,"h4"),s(177,"2.1 Un seul niveau d'indentation par m\xe9thode"),a(),u(178,"p"),s(179,"Plus il y a d'indentation dans une m\xe9thode, moins elle est lisible et plus elle est complexe.\nR\xe9duire le nombre d'indentations permet de favoriser le d\xe9coupage et de r\xe9duire l'\xe9parpillement du contexte (variable,\ndonn\xe9es en entr\xe9e et en sortie). De plus, plus le nombre d'indentation est \xe9lev\xe9, plus la complexit\xe9 cyclomatique de la\nm\xe9thode est \xe9lev\xe9e. La complexit\xe9 cyclomatique correspond au nombre de chemins de la m\xe9thode."),a(),u(180,"p"),s(181,"Exemple : Ici, 4 indentations repr\xe9sentent une complexit\xe9 cyclomatique de 4 au minimum \xe0 cause des 3 if imbriqu\xe9s :"),a(),u(182,"pre"),s(183,"  "),u(184,"code",1),s(185,"\n    public bool WasCorrectlyAnswered()\n    {\n      if(_inPenaltyBox[_currentPlayer])\n      {\n        if(_isGettingOutOfPenaltyBox)\n        {\n          [...]\n          if(_currentPlayer == _players.Count)\n            _currentPlayer = 0;\n\n          return winner;\n        }\n        [...]\n      }\n      [...]\n    }\n  "),a(),s(186,"\n"),a(),u(187,"p"),s(188,"Pour am\xe9liorer cette m\xe9thode, on peut extraire des m\xe9thodes ou inverser certains if pour sortir au plus t\xf4t et reduire\nla complexit\xe9. Il est possible dans certains cas, d'extraire du code dans d'autres classes et les composer pour garder le\nm\xeame fonctionnement."),a(),u(189,"h4"),s(190,"2.2 Ne plus utiliser le mot-cl\xe9 else"),a(),u(191,"p"),s(192,"Le pr\xe9sence du mot-cl\xe9 else oblige \xe0 faire un effort intellectuel suppl\xe9mentaire pour la lecture du code. En le supprimant,\non est amen\xe9 \xe0 sortir plus t\xf4t de la m\xe9thode, ce qui facilite la lecture et la compr\xe9hension de la fonctionnalit\xe9.\nPlusieurs approches se r\xe9sument en cette r\xe8gle :"),a(),u(193,"ul")(194,"li")(195,"span",0),s(196,"Return early "),a(),s(197,": sortir au plus t\xf4t;"),a(),u(198,"li")(199,"span",0),s(200,"Fail fast"),a()(),u(201,"li")(202,"span",0),s(203,"Happy path/sad path "),a(),s(204,": le code est lin\xe9aire et d\xe8s qu'il y a une validation \xe9chou\xe9e on sort directement de la m\xe9thode."),a()(),u(205,"p"),s(206,"Exemple : la m\xe9thode retourne vrai si le nombre pass\xe9 en param\xe8tre est pair, autrement la valeur de retour est \xe9gale\n\xe0 faux. Pour cette m\xe9thode, on est oblig\xe9 de la lire jusqu'\xe0 le fin pour s'assurer qu'il n'y a pas un autre traitement\n\xe0 part l'affectation de la variable isEvenNumber \xe0 vrai."),a(),u(207,"pre"),s(208,"  "),u(209,"code",1),s(210,"\n    public string IsEvenNumber(int number)\n    {\n      bool isEventNumber;\n      if(number % 2 == 0)\n      {\n        isEventNumber = true;\n      }\n      else {\n        isEventNumber = false;\n      }\n      return isEventNumber;\n    }\n  "),a(),s(211,"\n"),a(),u(212,"p"),s(213,"En appliquant la r\xe8gle : "),a(),u(214,"pre"),s(215,"  "),u(216,"code",1),s(217,"\n    public string IsEvenNumber(int number)\n    {\n      if(number % 2 == 0)\n      {\n        return true;\n      }\n\n      return false;\n    }\n  "),a(),s(218,"\n"),a(),u(219,"h4"),s(220,"2.3 Encapsuler tous les types primitifs et toutes les cha\xeenes de caract\xe8res"),a(),u(221,"p"),s(222,"L'encapsulation des types primitifs en objets s\xe9curise le code en masquant les d\xe9tails d'impl\xe9mentation. En rapprochant\nles traitements appliqu\xe9s aux donn\xe9es, on apporte une saveur m\xe9tier au code. On s'affranchit ainsi de l'anti-pattern Primitive\nobsession. L'encapsulation est une fa\xe7on d'introduire le DDD (Domain Driven Design) dans le code en utilisant les \"value\nobjects\" pour repr\xe9senter un concept m\xe9tier."),a(),u(223,"p"),s(224,"Exemple : Le montant et le taux sont pr\xe9sent\xe9s avec des types primitifs."),a(),u(225,"pre"),s(226,"  "),u(227,"code",1),s(228,"\n    public double Convert(double amount, double rate)\n    {\n      return amount * rate;\n    }\n  "),a(),s(229,"\n"),a(),u(230,"p"),s(231,"En les exposants sous forme d'objet, on ajoute une touche m\xe9tier au code et on explicite le comportement voulu : "),a(),u(232,"pre"),s(233,"  "),u(234,"code",1),s(235,"\n    public double Convert(double amount, double rate)\n    {\n      return amount.MultiplyBy(rate);\n    }\n  "),a(),s(236,"\n"),a(),u(237,"p"),s(238,"Cette r\xe8gle invite \xe0 s\xe9curiser le code en encapsulant les donn\xe9es dans des objets et \xe0 exposer des comportements."),a(),u(239,"h4"),s(240,"2.4 Cr\xe9er des classes encapsulant les collections"),a(),u(241,"p"),s(242,"Cette r\xe8gle permet de rapprocher le traitement des donn\xe9es qu'il manipule. Ainsi on d\xe9finit un type plus orient\xe9 m\xe9tier\nen frontal de la collection et on contr\xf4le davantage les actions possibles sur la collection. On peut par exemple,\nrendre la suppression d'\xe9l\xe9ments impossible. Cette r\xe8gle r\xe9pond au principe de \"Tell, don't ask\" qui invite \xe0 regrouper\nles donn\xe9es et les m\xe9thodes qui les manipulent."),a(),j(243,"img",3),u(244,"h4"),s(245,"2.5 Un seul point par ligne"),a(),u(246,"p"),s(247,"Avoir plusieurs points dans une m\xeame ligne montre qu'on a besoin d'acc\xe9der \xe0 une donn\xe9e dans un objet qui n'est pas\nr\xe9f\xe9renc\xe9 directement dans l'objet manipul\xe9. Lorsque l'on respecte la loi de Demeter qui demande de ne pas parler aux\n\xe9trangers et de parler uniquement aux amis imm\xe9diats (les objets r\xe9f\xe9renc\xe9s directement), il vaut mieux encapsuler le\ntraitement voulu dans une m\xe9thode. Ainsi, le code devient plus fluide et plus facile \xe0 lire et \xe0 comprendre. On parle\nsouvent d'interface fluide (Fluent interface) dans le cadre de la construction d'API avec une lisibilit\xe9 du code proche\ndu langage parl\xe9. L'avantage est qu'on peut facilement substituer le comportement des objets amis ou voisins pour tester\nunitairement la fonctionnalit\xe9 voulue."),a(),u(248,"p"),s(249,'Dans le cas o\xf9 on ne peut pas modifier le code pour appliquer les concepts de Fluent interface ou "Tell, don\'t ask", on\npeut retourner \xe0 la ligne \xe0 chaque utilisation de ce point pour am\xe9liorer la lisibilit\xe9 du code : '),a(),u(250,"pre"),s(251,"  "),u(252,"code",1),s(253,"\n    public bool CanEnter(User user)\n    {\n      return user.GetAge().ToYear() <= 18;\n    }\n  "),a(),s(254,"\n"),a(),u(255,"p"),s(256,"Pour rendre le code plus fluide, on peut le refactorer pour extraire une m\xe9thode de la classe User. "),a(),u(257,"pre"),s(258,"  "),u(259,"code",1),s(260,"\n    public bool CanEnter(User user)\n    {\n      return user.IsAgeOver() <= 18;\n    }\n  "),a(),s(261,"\n"),a(),u(262,"h4"),s(263,"2.6 Ne pas abr\xe9ger"),a(),u(264,"p"),s(265,"Il vaut mieux favoriser l'expression de l'intention en nommant explicitement les notions m\xe9tier, plut\xf4t que d'utiliser\nles acronymes ou abr\xe9viation. Cela permet une meilleure lisibilit\xe9 pour les nouveaux d\xe9veloppeurs."),a(),u(266,"p"),s(267,"Dans certains cas, le code peut \xeatre tr\xe8s verbeux en supprimant les abr\xe9viations. Un meilleur d\xe9coupage peut alors\nr\xe9gler le probl\xe8me."),a(),u(268,"h4"),s(269,"2.7 Garder toutes les entit\xe9s petites"),a(),u(270,"p"),s(271,"Avoir des classes de 50 lignes maximum, des m\xe9thodes de 10 lignes maximum. Le meilleur moyen pour y arriver est de\nrepenser le d\xe9coupage et de simplifier le design. On invite souvent \xe0 utiliser la composition. On peut par exemple extraire\ndans des classes \xe0 une seule responsabilit\xe9 et les composer entre elles pour obtenir le comportement attendu."),a(),u(272,"h4"),s(273,"2.8 Pas de classe avec plus de 2 attributs"),a(),u(274,"p"),s(275,"Le but de cette r\xe8gle est de renforcer l'encapsulation. En se limitant \xe0 2 attributs par classe, on tend vers une\nmeilleure explication du r\xf4le de classe."),a(),u(276,"p"),s(277,"Exemple : Une p\xe9riode et une valeur sont repr\xe9sent\xe9es par une classe Period : "),a(),u(278,"pre"),s(279,"  "),u(280,"code",1),s(281,"\n    public class Period\n    {\n      public DateTime Start { get; set; }\n      public DateTime End { get; set; }\n      public DateTime Value { get; set; }\n    }\n  "),a(),s(282,"\n"),a(),u(283,"p"),s(284,"En observant cette classe et le code qui l'utilise, on peut se demander ce que repr\xe9sente cette p\xe9riode, pourquoi elle\na une valeur et ce que repr\xe9sente cette valeur. Si on creuse le m\xe9tier, on se rend compte qu'il s'agit d'une p\xe9riode \xe0\nlaquelle on associe un taux. La classe peut donc \xeatre repr\xe9sent\xe9e par 2 classes, voire 3 si on applique la r\xe8gle\n\"Encapsuler les types primitifs\" en encapsulant la valeur dans une classe Rate."),a(),u(285,"pre"),s(286,"  "),u(287,"code",1),s(288,"\n    public class Period\n    {\n      public DateTime Start { get; set; }\n      public DateTime End { get; set; }\n    }\n\n    public class RatePeriod\n    {\n      public Period period { get; set; }\n      public Rate rate { get; set; }\n    }\n  "),a(),s(289,"\n"),a(),u(290,"h4"),s(291,"2.9 Pas de getter ni de setter ni de propri\xe9t\xe9"),a(),u(292,"p"),s(293,"En cr\xe9ant les accesseurs (get, set), on fini par avoir des objets an\xe9miques dont le comportement est pauvre. En supprimant\nles accesseurs, on tend vers des objets immuables, ayant des comportements qu'on expose pour respecter le principe de\n\"Tell, don't ask\". L'immutabilit\xe9 pr\xe9sente plusieurs avantages :"),a(),u(294,"ul")(295,"li")(296,"span",0),s(297,"la simplicit\xe9"),a(),s(298," : vu qu'on ma\xeetrise l'\xe9tat de l'objet et son comportement;"),a(),u(299,"li")(300,"span",0),s(301,"la s\xe9curit\xe9 en cas d'ex\xe9cution parall\xe8le (thread-safety)"),a(),s(302," : parce que l'\xe9tat de l'objet ne peut pas \xeatre chang\xe9 directement, aucune synchronisation entre les threads n'est n\xe9cessaire;"),a(),u(303,"li")(304,"span",0),s(305,"la robustesse du code"),a(),s(306," : \xe9crire dans un style immuable r\xe9duit statistiquement la quantit\xe9 de bugs;"),a()(),u(307,"h3"),s(308,"3. Principes de programmation fonctionnelle"),a(),u(309,"p"),s(310,"M\xeame sans utiliser de langage de programmation fonctionnelle, il reste avantageux de s'inspirer des principes issus\ndes langages fonctionnels, tels que l'absence de mutation des donn\xe9es, la puret\xe9 des fonctions et d'idempotence."),a(),u(311,"p"),s(312,"La puret\xe9 d'une fonction est aussi d\xe9sign\xe9e comme l'absence d'effets de bords. Elle ne modifie pas son contexte\next\xe9rieur, et notamment les param\xe8tres en entr\xe9e ne sont pas mut\xe9s. Tous acc\xe8s au disque, au r\xe9seau, \xe0 l'horloge ou au\ng\xe9n\xe9rateur al\xe9atoire sont ainsi \xe0 proscrire dans une fonction pure. Comme un programme totalement pur est absolument\ninutile, l'id\xe9e est de s\xe9parer et de maximiser l'utilisation de fonctions pures, tout en sachant que quelques fonctions\ndevront avoir des effets de bord."),a(),u(313,"h3"),s(314,"4. Code smells courants"),a(),u(315,"h4"),s(316,"4.1 Code omniscient, ou code complexe"),a(),u(317,"p"),s(318,"Un code omniscient fait beaucoup trop de choses, c'est le cas par exemple des bloated classes :"),a(),u(319,"ul")(320,"li"),s(321,"qui g\xe9n\xe8rent trop de responsabilit\xe9s, en violation \xe9vidente du Single Responsibility Principle;"),a(),u(322,"li"),s(323,"qui n\xe9cessite des modifications d\xe8s qu'on introduit une \xe9volution dans le syst\xe8me, en d\xe9saccord manifeste avec le principe Open-Closed."),a()(),u(324,"p"),s(325,"Il est fr\xe9quent de rencontrer du code qui pr\xe9sente une complexit\xe9 cyclomatique \xe9lev\xe9e, il y a plusieurs solutions pour\nles r\xe9duire. En pr\xe9sence de boucles, on peut d\xe9couper le code en plus petites m\xe9thodes et s'orienter vers un style de parcours\nplus fonctionnel. Pour cela, on se pose la question : "),u(326,"span",0),s(327,"quels traitements doit-on effectuer sur cette collection ?"),a(),s(328,' plut\xf4t que "comment parcourt-on cette collection ? '),a(),u(329,"p"),s(330,"Dans le cas de l'accumulation de if/else ou switch dans une m\xe9thode, on est face \xe0 une violation potentielle du principe\nOpen-Closed. Il arrive \xe9galement que l'utilisation de variable s'\xe9tale trop dans le code; il est pr\xe9f\xe9rable de repenser\nle scope de d\xe9claration en rendant la variable plus locale. On peut aussi limiter les effets de bords en faisant un effort\nsur l'immutabilit\xe9 et la puret\xe9 des fonctions. "),a(),u(331,"p"),s(332,"Pour simplifier le code et en r\xe9duire la complexit\xe9, plusieurs patterns sont appropri\xe9s, notamment le d\xe9placement de lignes, l'extraction de m\xe9thode, le d\xe9coupage en plusieurs classes avec d\xe9placement de m\xe9thodes, la mise en place du\ndesign pattern Strategy ou encore le principe de fail fast."),a(),u(333,"h4"),s(334,"4.2 Donn\xe9es globales partag\xe9es"),a(),u(335,"p"),s(336,"On retrouve souvent ce code smell avec une variable globale ou un objet impl\xe9mentant le design pattern Singleton."),a(),u(337,"p"),s(338,"La donn\xe9e globale partag\xe9e induit une d\xe9pendance forte associ\xe9e \xe0 un couplage \xe9lev\xe9 entre les composants qui l'utilisent. Ces derniers sont difficiles \xe0 tester, notamment lorsque certains d'entre eux modifient l'\xe9tat partag\xe9. On se retrouve\nalors face \xe0 des tests qui interagissent (l'ordre d'ex\xe9cution des tests impacte le r\xe9sultat), m\xeame si on a la possibilit\xe9\nde r\xe9initialiser les variables globales entre les sc\xe9narios de test."),a(),u(339,"p"),s(340,"Parfois, il n'est pas possible de se s\xe9parer directement de l'\xe9tat partag\xe9. Du point de vue du composant qui l'utilise,\non peut malgr\xe9 tous le d\xe9placer en p\xe9riph\xe9rie : plut\xf4t que d'acc\xe9der \xe0 l'\xe9tat partag\xe9 dans le coeur de la m\xe9thode, cet\n\xe9tat est pass\xe9 en param\xe8tre, ce qui donne beaucoup plus de contr\xf4le dans les tests. D'autres techniques li\xe9es \xe0 l'inversion\nde d\xe9pendance peuvent \xe9galement \xeatre d'un grand secours."),a(),u(341,"h4"),s(342,"4.3 Primitive obsession"),a(),u(343,"p"),s(344,"Il est fr\xe9quent de repr\xe9senter dans le code des informations propres au m\xe9tier directement par un type technique num\xe9rique\n(int, float) ou textuel (char, string). Ceci entraine des turpitudes :"),a(),u(345,"ul")(346,"li"),s(347,"Les utilisateurs d'une classe doivent conna\xeetre les d\xe9tails de fonctionnements internes;"),a(),u(348,"li"),s(349,"La logique m\xe9tier n'est pas explicite;"),a(),u(350,"li"),s(351,"Une partie de la logique n'est pas partageable parce que chaque utilisateur va interpr\xe9ter les valeurs et recr\xe9er une logique \xe0 sa fa\xe7on;"),a(),u(352,"li"),s(353,"Une partie de la logique technique va se retrouver dupliqu\xe9e \xe0 plusieurs endroits dans le code."),a()(),u(354,"p"),s(355,"Un exemple courant concerne la repr\xe9sentation d'un taux, pour lequel nous pouvons utiliser une classe "),u(356,"span",0),s(357,"Taux"),a(),s(358," d\xe9di\xe9e plut\xf4t qu'un nombre flottant. Cette classe "),u(359,"span",0),s(360,"Taux"),a(),s(361," va g\xe9rer sa propre arithm\xe9tique, en garantissant le nombre de d\xe9cimale appropri\xe9es\net le calcul correct des arrondis. Ainsi, ce n'est plus aux classes ayant besoin d'utiliser des taux de se poser ce genre\nde question, le probl\xe8me \xe9tant r\xe9gl\xe9 une fois pour toutes dans la classe "),u(362,"span",0),s(363,"Taux"),a(),s(364,"."),a(),u(365,"p"),s(366,"Par exemple : \xe0 l'origine les taux affichaient 2 d\xe9cimales, mais le besoin m\xe9tier \xe9volue et il faut gagner en pr\xe9cision\navec une 3\xe8me d\xe9cimale. Si les taux sont repr\xe9sent\xe9s sous une forme flottante \xe0 chaque usage, les impacts sur le code\nsont nombreux. Au contraire, s'ils sont g\xe9r\xe9s dans une classe Taux, les seules modifications n\xe9cessaires concernent cette\nclasse et b\xe9n\xe9ficient \xe0 tous les composants l'utilisant."),a(),u(367,"p"),s(368,"Un autre avantage est de pouvoir combiner la classe "),u(369,"span",0),s(370,"Taux"),a(),s(371," avec d'autres abstractions\nvenant du m\xe9tier comme une classe "),u(372,"span",0),s(373,"Montant"),a(),s(374,"."),a(),u(375,"p"),s(376,"Par exemple : un calcul d'int\xe9r\xeat combinerait un capital (repr\xe9sent\xe9 par un "),u(377,"span",0),s(378,"Montant"),a(),s(379,")\navec un taux (sous forme de "),u(380,"span",0),s(381,"Taux"),a(),s(382," pour renvoyer les int\xe9r\xeats calcul\xe9s (sous la forme\nd'un autre "),u(383,"span",0),s(384,"Montant"),a(),s(385,")."),a(),u(386,"p"),s(387,"On peut ainsi construire notre propre arithm\xe9tique bas\xe9e sur les r\xe8gles du m\xe9tier, qui a le m\xe9rite d'offrir un fort\nniveau d'abstraction et de s\xe9curiser l'utilisation en limitant les possibilit\xe9s et donc les causes de bugs. On peut m\xeame\naller plus loin en proposant diff\xe9rent type de taux r\xe9pondant \xe0 des sp\xe9cificit\xe9s du m\xe9tier, chacun ayant sa propre logique\nd'arrondi et de pr\xe9cision, avec par exemple une classe "),u(388,"span",0),s(389,"TauxInterets"),a(),s(390," et une autre classe\n"),u(391,"span",0),s(392,"TauxTaxes"),a(),s(393,"."),a(),u(394,"p"),s(395,"Pour pallier \xe0 la "),u(396,"span",0),s(397,"primitive obsession"),a(),s(398,", il est n\xe9cessaire d'introduire une\nnouvelle classe encapsulant le type primitif de d\xe9part. Les \xe9tapes suivantes permettent de refactorer progressivement :"),a(),u(399,"ul")(400,"li"),s(401,"Encapsuler la variable dont le type est primitif en extrayant une m\xe9thode en lecture et une en \xe9criture;"),a(),u(402,"li"),s(403,"Cr\xe9er une classe qui englobe la valeur primitive;"),a(),u(404,"li"),s(405,"Remplacer le type primitif dans les m\xe9thodes encapsulant la variable par la nouvelle classe;"),a(),u(406,"li"),s(407,"R\xe9-inliner les m\xe9thodes d'encapsulation (c'est un raccourcis de refactoring pour remplacer les appels \xe0 une m\xe9thode directement par le contenu de leur corps)."),a()(),u(408,"p"),s(409,"Un autre code smell, "),u(410,"span",0),s(411,"message obsession"),a(),s(412,", d\xe9crit la multiplication des m\xe9thodes\nrelatives \xe0 une m\xeame probl\xe9matique. On peut souvent le solutionner en introduisant un param\xe8tre suppl\xe9mentaire."),a(),u(413,"h4"),s(414,"4.4 Commentaire honteux"),a(),u(415,"p"),s(416,"Le besoin d'un commentaire pour d\xe9crire ce que fait un morceau de code est un bon r\xe9v\xe9lateur du fait que ce code peut\n\xeatre am\xe9lior\xe9, afin de mieux v\xe9hiculer l'intention. La bo\xeete \xe0 outils des techniques de refactoring contient tout ce qui\nest utile pour se passer le plus possible des commentaires :"),a(),u(417,"ul")(418,"li"),s(419,"Lorsqu'un commentaire d\xe9crit une variable ou le comportement d'une m\xe9thode, on peut utiliser un renommage ad\xe9quat;"),a(),u(420,"li"),s(421,"Lorsqu'un commentaire d\xe9crit un bloc de code, on peut extraire une m\xe9thode dont le nom est suffisamment descriptif."),a()(),u(422,"p"),s(423,"Les principes de clean code tels que "),u(424,"span",0),s(425,"KISS"),a(),s(426," ou les 4 r\xe8gles du design simple rendent\nrapidement caduque la pr\xe9sence de commentaires. Un code dont les \xe9l\xe9ments sont suffisamment petits, bien d\xe9coup\xe9s et bien\nnomm\xe9s se comprend assez facilement sans n\xe9cessiter d'explications suppl\xe9mentaires."),a(),u(427,"h4"),s(428,"4.5 Litanie de param\xe8tres"),a(),u(429,"p"),s(430,"Certaines m\xe9thodes doivent r\xe9aliser des calcules complexes, en prenant une pl\xe9thore de donn\xe9es en entr\xe9e, qui tend \xe0 se\nrefl\xe9ter dans le nombre de param\xe8tre de la m\xe9thode. Cette situation pose des difficult\xe9s \xe0 l'utilisation : l'appel de la\nm\xe9thode n'est pas intuitive, obligeant syst\xe9matiquement \xe0 se r\xe9f\xe9rer \xe0 la documentation. On risque d'oublier des param\xe8tres,\net de perdre du temps \xe0 identifier ceux qui manquent. Pire encore, on est susceptible d'intervertir des param\xe8tres de m\xeame\ntype, provoquant ainsi des anomalies difficiles \xe0 diagnostiquer. Plus on a de param\xe8tres, plus on est amen\xe9 \xe0 modifier\nfr\xe9quemment la signature de la m\xe9thode, avec tous les impacts que \xe7a entra\xeene sur le code appelant."),a(),u(431,"p"),s(432,"Cette multitude de param\xe8tres peut \xeatre un indicateur de violation du principe de responsabilit\xe9 unique. La m\xe9thode\nfait peut-\xeatre trop de choses : en mesurant sa longueur on pourra d\xe9terminer si un d\xe9coupage est possible. On pourra\naussi essayer de regrouper les param\xe8tres de fa\xe7on th\xe9matique : ils ont peut-\xeatre un lien fonctionnel entre eux (par\nexemple : certains param\xe8tres d\xe9taillent un ordre de bourse) ou un lien technique (par exemple, certains param\xe8tres sont\nli\xe9s \xe0 des options de performance ou d\xe9crivent un contexte d'ex\xe9cution). On pourra alors les regrouper dans des classes\nd\xe9di\xe9es. En plus de r\xe9duire le nombre de param\xe8tres, les \xe9volutions de la m\xe9thode seront facilit\xe9es : si on a besoin\nd'introduire une donn\xe9e suppl\xe9mentaire dans le traitement, il suffira de modifier la classe regroupant les param\xe8tres\nplut\xf4t que de modifier la signature de la m\xe9thode."),a(),u(433,"h5"),s(434,"Approche par API fluente"),a(),u(435,"p"),s(436,"Plus on a de param\xe8tres optionnels, et plus l'approche "),u(437,"span",0),s(438,"API fluente"),a(),s(439," est pertinente.\nUne telle API permet de d\xe9composer un seul gros appel en plusieurs petits appels, chacun g\xe9rant une th\xe9matique pr\xe9cise.\nOn parle aussi d'approche de langage sp\xe9cifique au domaine (Domain-Specific-Language, ou DSL). Par exemple :"),a(),u(440,"pre"),s(441,"  "),u(442,"code",1),s(443,'\n    Order order = new Order ()\n      .withDish("Bibimbap", 2)\n      .withDish("Pho", 1)\n      .withDrink("Bubble Tea", 2)\n      .paid(PaymentOption.ONLINE)\n      .toTakeAway();\n  '),a(),s(444,"\n"),a(),u(445,"p"),s(446,"L'impl\xe9mentation reprend beaucoup au design pattern Builder, l'id\xe9e est que chaque appel renvoie l'objet lui-m\xeame, ce\nqui permet de cha\xeener les appels."),a(),u(447,"app-callout-section",4)(448,"p"),s(449,"Du point de vue de la structure du code, l'usage d'une API fluente ressemble \xe0 une violation de la "),u(450,"span",0),s(451,"loi de Demeter"),a(),s(452,". Ce n'est pas le cas, parce que \xe7a a \xe9t\xe9 con\xe7u pour cha\xeener les appels (et chaque appel renvoie le m\xeame objet), mais aussi parce qu'on n'expose pas les d\xe9tails internes d'autres objets."),a()(),u(453,"h4"),s(454,"4.6 Mutation des param\xe8tres d'une m\xe9thode"),a(),u(455,"p"),s(456,"En utilisant un param\xe8tre en entr\xe9e dont la valeur est modifi\xe9e par l'ex\xe9cution de la m\xe9thode, on g\xe9n\xe8re la modification\nd'une entr\xe9e qui constitue un effet de bord. C'est comme si la m\xe9thode renvoyait plusieurs valeurs. Cela n\xe9cessite un effort\nlors des tests pour v\xe9rifier aussi les valeurs des param\xe8tres apr\xe8s ex\xe9cution de la m\xe9thode, et c'est clairement une source\ninsidieuse de bugs."),a(),u(457,"p"),s(458,"Une meilleure solution serait de retourner un objet plus complexe. Ainsi les param\xe8tres en entr\xe9e ne sont plus modifi\xe9s et une copie modifi\xe9e des param\xe8tres d'entr\xe9e est mise dans l'objet de retour."),a(),u(459,"p"),s(460,"D'une mani\xe8re g\xe9n\xe9rale, il est pr\xe9f\xe9rable de s'assurer que les m\xe9thodes soient d\xe9terministes, avec, pour une combinaison\ndes param\xe8tres en entr\xe9e, toujours le m\xeame r\xe9sultat en retour."),a(),u(461,"h4"),s(462,"4.7 Donn\xe9es muables, et comment rendre une classe immuable"),a(),u(463,"p"),s(464,"Des donn\xe9es muables sont par exemple des donn\xe9es membres dans une classe qui peuvent \xeatre r\xe9affect\xe9es plusieurs fois.\nBien que d'usage fr\xe9quent, c'est une forme de smell, dont le rem\xe8de consiste \xe0 concevoir des classes immuables."),a(),u(465,"p"),s(466,"Une classe immuable est une classe dont les donn\xe9es ne changent jamais une fois qu'elle est cr\xe9\xe9e. Cela \xe9vite principalement\nde devoir suivre mentalement les changements de valeurs, ce qui r\xe9duit le nombre de bugs, et de r\xe9utiliser et partager\nlibrement une m\xeame instance, m\xeame entre threads, sans effort."),a(),u(467,"p"),s(468,"En java : "),a(),u(469,"pre"),s(470,"  "),u(471,"code",5),s(472,"\n    public class LigneCommande {\n      private final String reference;\n      private final int quantite;\n      private final int prixUnitaire;\n\n      // Constructeur \xe0 param\xe8tres\n      public LigneCommande(String reference, int quantite, int prixUnitaire){\n        this.reference = reference;\n        this.quantite = quantite;\n        this.prixUnitaire = prixUnitaire;\n      }\n\n      // Aucun setter\n\n      // getters seulement quand n\xe9cessaire\n      public String reference() {\n        return reference;\n      }\n    }\n  "),a(),s(473,"\n"),a(),u(474,"p"),s(475,"Dans le cas des collections, mettre "),u(476,"span",0),s(477,"final"),a(),s(478," sur le champ ne suffit pas \xe0 les rendre\nimmuables, il convient de retourner une copie de la collection, ou une collection d\xe9cor\xe9e pour \xeatre immuable, comme\nci-dessous : "),a(),u(479,"pre"),s(480,"  "),u(481,"code",5),s(482,"\n    public class Commande {\n      private final String numero;\n      private final List<LigneCommande> lignes;\n\n      public CommandeListe(String numero, List<LigneCommande> lignes){\n        this.numero = numero;\n        this.lignes = Collections.unmodifiableList(lignes); // protection\n      }\n\n      public List<LigneCommande> lignes() {\n        return lignes;\n      }\n    }\n  "),a(),s(483,"\n"),a(),u(484,"p"),s(485,"Usage de "),u(486,"span",0),s(487,"Collections.unmodifiableList(lignes)"),a(),s(488," pour rendre immuable la collection\npass\xe9e en param\xe8tre du constructeur. Une alternative fr\xe9quente et compl\xe9mentaire dans un autre constructeur de confort,\nest d'utiliser les param\xe8tres optionnels "),u(489,"span",0),s(490,"LigneCommande... lignes"),a(),s(491," conjointement avec\nl'usage de la m\xe9thode utilitaire "),u(492,"span",0),s(493,"Arrays.asList()"),a(),s(494," pour en faire une liste, qui se r\xe9v\xe8le\ndans ce cas \xeatre d\xe9j\xe0 non modifiable elle-m\xeame :"),a(),u(495,"pre"),s(496,"  "),u(497,"code",5),s(498,"\n    public class Commande {\n      private final String numero;\n      private final List<LigneCommande> lignes;\n\n      public CommandeListe(String numero, List<LigneCommande> lignes){\n        this.numero = numero;\n        this.lignes = Array.asList(lignes); // liste non modifiable\n      }\n\n      // d\xe9j\xe0 prot\xe9g\xe9e\n      public List<LigneCommande> lignes() {\n        return lignes;\n      }\n    }\n  "),a(),s(499,"\n"),a(),u(500,"h5"),s(501,"Un builder comme compagnon"),a(),u(502,"p"),s(503,"Si la construction d'une instance de classe n\xe9cessite plusieurs \xe9tapes successives, alors on peut introduire une autre\nclasse "),u(504,"span",0),s(505,"compagnon"),a(),s(506,", totalement muable, qui suit le pattern "),u(507,"span",0),s(508,"Builder (GoF)"),a(),s(509,", avec des m\xe9thodes pour chaque \xe9tapes :"),a(),u(510,"pre"),s(511,"  "),u(512,"code",5),s(513,'\n    public class Commande {\n      private final String numero;\n      private final double tauxTVA;\n      private final String mentionsLegales;\n      private final List<LigneCommande> lignes;\n\n      /* package */ Commande(String numero, double tauxTVA, String mentionsLegales, List<LigneCommande> lignes){\n        this.numero = numero;\n        this.tauxTVA = tauxTVA;\n        this.mentionsLegales = mentionsLegales;\n        this.lignes = Collections.unmodifiableList(lignes);\n       }\n\n      public static class CommandeBuilder{\n        private String numero = "123";\n        private double tauxTVA = 18.6;\n        private String mentionsLegales = "legal : voir  notre site";\n        private List<LigneCommande> lignes = new ArrayList<>();\n      }\n\n      // static factory method\n      public static CommandeBuilder uneCommande(){\n        return new CommandBuilder();\n      }\n\n      public CommandeBuilder avecNumero(String numeroCommande) {\n        this.numero = numeroCommande;\n        return this;\n      }\n\n      public CommandeBuilder avecTauxTva(double taux) {\n        this.tauxTVA = taux;\n        return this;\n      }\n\n      public CommandeBuilder avecMentionsLegales(String mentions) {\n        this.mentionsLegales = mentions;\n        return this;\n      }\n\n      public CommandeBuilder avecLigne1(String reference, int prixUnitaire) {\n        this.lignes.add(new LigneCommande(reference, 1, prixUnitaire));\n        return this;\n      }\n\n      public CommandeBuilder avecLigne2(String reference, int prixUnitaire) {\n        this.lignes.add(new LigneCommande(reference, 2, prixUnitaire));\n        return this;\n      }\n\n      public Commande obtenir() {\n        return new Commande(numero, tauxTVA, mentionsLegales, lignes);\n      }\n    }\n  '),a(),s(514,"\n"),a(),u(515,"p"),s(516,"Les m\xe9thodes de mutation des donn\xe9es retournent toutes "),u(517,"span",0),s(518,"this"),a(),s(519," afin de pouvoir les cha\xeener librement. Les donn\xe9es internes sont toutes initialis\xe9es par d\xe9faut \xe0 des valeurs typiques, ce qui peut largement\nam\xe9liorer le confort \xe0 l'usage."),a(),u(520,"p"),s(521,"\xc0 l'usage, on importe le builder via un static import pour rendre le code plus lisible, puis on appelle la factory\nm\xe9thode statique pour r\xe9cup\xe9rer une instance du builder, ensuite on appelle les m\xe9thodes en s\xe9quence pour d\xe9finir ses\nvaleurs, \xe9tape par \xe9tape : "),a(),u(522,"pre"),s(523,"  "),u(524,"code",5),s(525,'\n    import static kata.immutable.CommandeBuilder.uneCommande;\n\n    Commande commande = une commande() // static factory method\n    .avecNumero("456")\n    .avecTauxTva(21.6)\n    // mentions l\xe9gales par d\xe9faut\n    .avecLigne1("SKU1", 990)\n    .avecLigne2("SKU3", 32)\n    .obtenir(); // retourne l\'instance\n  '),a(),s(526,"\n"),a(),u(527,"p"),s(528,"Puis le dernier appel \xe0 la m\xe9thode "),u(529,"span",0),s(530,"obtenir()"),a(),s(531," retourne l'instance immuable patiemment\nconstruite."),a(),u(532,"p"),s(533,"Certains concepts ont un cycle de vie, par exemple une commande dont le statut \xe9volue au fil du temps; quand on\nmod\xe9lise cela avec des classes immuables, on mod\xe9lise ainsi chaque version comme une instance distincte de la m\xeame classe\nimmuable. Cela permet alors par exemple de lancer un traitement sur une version (pointeur sur l'instance v1), puis\nd'ajouter une nouvelle version (instance v2), tandis que le traitement d\xe9j\xe0 en cours continue de travailler sur l'instance\nv1, et l'ensemble reste donc parfaitement coh\xe9rent."),a(),u(534,"p"),s(535,"Pour pouvoir acc\xe9der facilement \xe0 la version la plus r\xe9cente, un pointeur muable, sur des instances immuables, peut se\nr\xe9v\xe9ler utile :"),a(),u(536,"pre"),s(537,"  "),u(538,"code",5),s(539,"\n    AtomicReference<Commande> latest = new AtomicReference<>();\n    latest.set(objet_v1);\n    latest.get(); // V1\n    latest.set(objet_v2); // pas de souci de synchronisation entre threads\n    // les 2 instances v1 et v2 peuvent continuer de co-exister\n  "),a(),s(540,"\n"),a(),u(541,"p"),s(542,"La classe "),u(543,"span",0),s(544,"AtomicReference"),a(),s(545," de Java garantit ainsi que tout changement de la r\xe9f\xe9rence\nvers les derni\xe8res versions est coh\xe9rent, m\xeame entre multiples threads."),a(),u(546,"app-callout-section",6)(547,"p"),s(548,"Une classe immuable est probablement aussi un Value Object au sens de Domain-Driven Design."),a()(),u(549,"h3"),s(550,"5. Design patterns classiques comme destinations de refactorings"),a(),u(551,"h4"),s(552,"5.1 Switchs multiples vers les design pattern Strategy"),a(),u(553,"p"),s(554,"Il arrive que dans une base de code on rencontre des clauses "),u(555,"span",0),s(556,"switch"),a(),s(557," tr\xe8s similaires,\ntravaillant sur le m\xeame espace de valeurs mais pour des traitements diff\xe9rents. "),a(),u(558,"p"),s(559," Par exemple, pour un programme travaillant sur des figures g\xe9om\xe9triques, on souhaite fournir diff\xe9rents calculs comme le p\xe9rim\xe8tre et la surface. Pour chacune de ces m\xe9thodes, nous avons un "),u(560,"span",0),s(561,"switch en fonction de la forme g\xe9om\xe9trique."),a()(),u(562,"p"),s(563,"Lorsqu'on ajoute une nouvelle forme g\xe9om\xe9trique, les impacts sur le code sont multiples : il faut ajouter une condition\nsuppl\xe9mentaire dans chacun des switch pour supporter cette nouvelle valeur, et ainsi modifier plusieurs endroits dans le\ncode. On se retrouve face \xe0 une violation du principe "),u(564,"span",0),s(565,"Open-Closed"),a(),s(566," : un code qui doit\n\xeatre ouvert \xe0 l'extension et ferm\xe9 \xe0 la modification."),a(),u(567,"p"),s(568,"Pour s'en sortir, on pourrait d\xe9finir une hi\xe9rarchie de classes pour repr\xe9senter les diff\xe9rentes formes, chacune des\nsous-classes impl\xe9mentant les m\xe9thodes surface et p\xe9rim\xe8tre. Lorsqu'on ajoute un nouvelle forme, il suffit de lui cr\xe9er\nune sous-classe d\xe9di\xe9e, sans toucher au code existant. Cette mani\xe8re de faire est une application du design pattern Strategy."),a(),u(569,"p"),s(570,"Par exemple : un calcul de costing, c'est-\xe0-dire le prix \xe0 utiliser pour valoriser un inventaire. Ce calcul se fait sur\nla base des derniers prix d'achat des produits, au travers d'une m\xe9thode de costing."),a(),u(571,"p"),s(572,"Dans l'impl\xe9mentation initiale, un enum repr\xe9sente les diff\xe9rents types de costings et un switch effectue le calcul\npour chaque valeur de l'enum :"),a(),u(573,"pre"),s(574,"  "),u(575,"code",7),s(576,"\n    public static enum CostingType{\n      MAX, AVERAGE, MIN_MAX\n    }\n\n    public int costing(CostingType type, int[] costs){\n      switch (type){\n        case MAX:\n          return costs[costs.length -1];\n        case AVERAGE:\n          return Array.stream(costs).sum() / costs.length;\n        case MIN_MAX:\n          return (costs[0] + costs[costs.length - 1]) / 2;\n      }\n      return 0;\n    }\n  "),a(),s(577,"\n"),a(),u(578,"p"),s(579,"Le code est compact, tout est au m\xeame endroit, ce qui peut \xeatre pratique tant que \xe7a reste simple et avec un nombre de cas limit\xe9."),a(),u(580,"pre"),s(581,"  "),u(582,"code",7),s(583,"\n    @Test\n    public void testCostingSwitch(){\n      final int[] costs = { 5, 6, 6, 6, 7, 7, 8, 10 }\n\n      assertEquals(10, costing(CostingType.MAX, costs))\n      assertEquals(6, costing(CostingType.AVERAGE, costs))\n      assertEquals(7 costing(CostingType.MIN_MAX, costs))\n    }\n  "),a(),s(584,"\n"),a(),u(585,"p"),s(586,"Cependant, la pr\xe9sence de 3 cas similaires mais distincts, ainsi que l'anticipation de nouveaux cas \xe0 venir ult\xe9rieurement\nencouragent \xe0 consid\xe9rer le design pattern Strategy. Celui-ci permet de s\xe9parer chaque cas dans sa propre classe, ce\nqui facilite l'extension de nouveaux cas :"),a(),u(587,"pre"),s(588,"  "),u(589,"code",7),s(590,"\n    public interface CostingMethod {\n      int costing(final int[] costs);\n    }\n\n    public static class MaxCostingMethod implements CostingMethod {\n      @Override\n      public int costing(int[] costs){\n        return costs[costs.length - 1];\n      }\n    }\n\n    public static class AverageCostingMethod implements CostingMethod {\n      @Override\n      public int costing(int[] costs){\n        return Array.stream(costs).sum() / costs.length;\n      }\n    }\n\n    public static class MinMaxCostingMethod implements CostingMethod {\n      @Override\n      public int costing(int[] costs){\n        return (costs[0] + costs[costs.length - 1]) / 2;\n      }\n    }\n\n    // Il rest \xe0 instancier l'instance de cas choisi pr\xe9alablement \xe0 son usage :\n\n    @Test\n    public void testCostingStrategyPattern(){\n      final int[] costs = { 5, 6, 6, 6, 7, 7, 8, 10 }\n\n      assertEquals(10, costing(new MaxCostingMethod().costing(costs))\n      assertEquals(6, costing(new AverageCostingMethod().costing(costs))\n      assertEquals(7 costing(new MinMaxCostingMethod().costing(costs))\n    }\n  "),a(),s(591,"\n"),a(),u(592,"p"),s(593,"Les \xe9volutions langages (par exemple les lambda) encouragent et simplifient l'usage du design pattern Strategy. Il est\n\xe9galement possible d'utiliser un enum polymorphique pour impl\xe9menter les CostingMethod :"),a(),u(594,"pre"),s(595,"  "),u(596,"code",7),s(597,"\n    public static enum CostingStrategy {\n      int costing(final int[] costs);\n    }\n\n    MAX(){\n      @override\n      public int costing(int[] costs){\n        return costs[costs.length - 1];\n      }\n    },\n    AVERAGE(){\n      @override\n      public int costing(int[] costs){\n        return Array.stream(costs).sum() / costs.length;\n      }\n    },\n    MIN_MAX(){\n      @override\n      public int costing(int[] costs){\n        return (costs[0] + costs[costs.length - 1]) / 2;\n      }\n    };\n\n    public int costing(final int[] costs) {\n        return 0;\n      }\n  "),a(),s(598,"\n"),a(),u(599,"h4"),s(600,"5.2 Boucles visibles vers le design pattern Composite"),a(),u(601,"p"),s(602,"Exemple : une application simple de dessin graphique, elle propose des formes simples, qui peuvent \xeatre combin\xe9es pour\nobtenir des graphiques plus complexes. La repr\xe9sentation se base sur les classes suivantes : "),a(),u(603,"ul")(604,"li"),s(605,"Forme, pour repr\xe9senter les formes simples;"),a(),u(606,"li"),s(607,"Graphique, pour repr\xe9senter les graphiques, qui contient une collection de forme mais aussi, de fa\xe7on r\xe9cursive, une collection de graphique."),a()(),u(608,"p"),s(609,"Pour calculer la surface d'un graphique, il faut parcourir les 2 collections (de Forme et de Graphique) pour ensuite\nfaire la somme des surfaces calcul\xe9es pour chacun des sous-\xe9l\xe9ments. Comme un graphique peut contenir d'autres graphiques,\nla gestion des sous-niveaux dans la boucle de parcours devient rapidement complexe."),a(),u(610,"p"),s(611,"Pour simplifier le calcul, on peut consid\xe9rer une interface Composant qui d\xe9finit la m\xe9thode surface. Les classes Graphique\net Forme l'impl\xe9mentant et la classe Graphique ne contient qu'une collection de Composant (qui peuvent \xeatre soit des graphiques,\nsoit des formes). Une forme retourne sa surface et un graphique retourne la somme des surfaces de ses composants. Ainsi\nla r\xe9cursivit\xe9 est cr\xe9\xe9e simplement. Ce pattern s'appelle "),u(612,"span",0),s(613,"Composite"),a(),s(614,"."),a(),u(615,"p"),s(616,"Sans le pattern Composite :"),a(),u(617,"pre"),s(618,"  "),u(619,"code",7),s(620,"\n    public class Graphic {\n      private List<Graphic> subGraphics;\n      private List<Shape> shapes;\n\n      public Graphic(List<Graphic> subGraphics, List<Shape> shapes){\n        this.subGraphics = subGraphics == null ? new List<Graphic>() : subGraphics;\n        this.shapes = shapes == null ? new List<Shape>() : shapes;\n      }\n\n      public double CalculateArea(){\n        double shapesAreaSum = shapes.Sum(s => s == null ? 0 : s.CalculateShapeArea());\n        double graphicAreaSum = subGraphics.Sum(g => g == null ? 0 : g.CalculateArea());\n        return shapesAreaSum + graphicsAreaSum;\n      }\n\n      public interface Shape {\n        double CalculateShapeArea();\n      }\n\n      public class Rectangle : Shape{\n        private int height;\n        private int width;\n\n        public Rectangle(int height, int width){\n          this.height = height;\n          this.width = width;\n        }\n\n        public double CalculateShapeArea(){\n          return this.height * this.width;\n        }\n      }\n    }\n  "),a(),s(621,"\n"),a(),u(622,"p"),s(623,"En utilisant le pattern Composite, le graphique ne contient qu'une collection de composants qui peuvent \xeatre des\ngraphiques ou des formes(rectangle ou autre)."),a(),u(624,"pre"),s(625,"  "),u(626,"code",7),s(627,"\n\n    public interface Component{\n      double CalculateArea();\n    }\n\n    public classe Graphic : Component{\n      private List<Component> subGraphics;\n\n\n      public Graphic(List<Graphic> subGraphics){\n        this.subGraphics = subGraphics == null ? new List<Graphic>() : subGraphics;\n      }\n\n      public double CalculateArea(){\n        double graphicAreaSum = subGraphics.Sum(g => g == null ? 0 : g.CalculateArea());\n        return shapesAreaSum;\n      }\n\n      public interface Shape {\n      }\n\n      public class Rectangle : Shape{\n        private int height;\n        private int width;\n\n        public Rectangle(int height, int width){\n          this.height = height;\n          this.width = width;\n        }\n\n        public double CalculateShapeArea(){\n          return this.height * this.width;\n        }\n      }\n    }\n  "),a(),s(628,"\n"),a(),u(629,"h4"),s(630,"5.3 V\xe9rification de nullit\xe9 vers pattern Null Object"),a(),u(631,"p"),s(632,"Lorsqu'on manipule un objet, il est fr\xe9quent de v\xe9rifier qu'il est bien initialis\xe9 (qu'il n'est pas null). Dans\ncertains cas, si l'objet est nul, alors on proc\xe8de \xe0 un traitement, et s'il n'est pas nul alors une autre m\xe9thode est\nappel\xe9e."),a(),u(633,"p"),s(634,"Avec l'exemple des formes g\xe9om\xe9triques, avant d'appeler la m\xe9thode "),u(635,"span",0),s(636,"surface"),a(),s(637," de l'objet,\non v\xe9rifie la nullit\xe9 de la forme. Si c'est le cas, la surface retourne est z\xe9ro par exemple. Cette v\xe9rification risque\nd'\xeatre un peu partout dans le code et rend le code moins fluide."),a(),u(638,"p"),s(639,"Pour \xe9viter cela, on peut cr\xe9er une classe (PasForme par exemple) qui impl\xe9mente l'interface Forme attendue et dont\nla m\xe9thode surface retourne 0. Ce type de classe s'appelle Null Object. Ainsi on n'a plus besoin de v\xe9rifier la nullit\xe9\nde l'objet puisqu'il a un comportement pr\xe9visible et n'a pas d'effet sur le reste du code."),a(),u(640,"pre"),s(641,"  "),u(642,"code",7),s(643,"\n    public class NotAComponent : Component {\n      public double CalculateArea(){\n        return 0;\n      }\n    }\n  "),a(),s(644,"\n"),a(),u(645,"p"),s(646,"\xc0 l'utilisation, on peut simplifier le code de la classe Graphic :"),a(),u(647,"pre"),s(648,"  "),u(649,"code",7),s(650,"\n    public class Graphic : Component {\n      // ...\n      public double CalculateArea(){\n        double graphicAreaSum = subGraphics.Sum(g => g.CalculateArea());\n        return shapesAreaSum;\n      }\n    }\n  "),a(),s(651,"\n"),a())},dependencies:[Ft],styles:["img[_ngcontent-%COMP%]{max-width:300px}"]})}}return e})()},{path:"architecture",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-architecture"]],standalone:!0,features:[H],decls:372,vars:0,consts:[[1,"C#"],["title","Pour aller plus loin ..."],["src","assets/images/ObserverPattern.jpeg","alt","Observer pattern"],[1,"pink-purple-txt"],["title","Attention"],["title","Astuce"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Transformation de code \xe0 caract\xe8re architectural"),a(),u(2,"h3"),s(3,"1. D\xe9coupler un lien navigable par une m\xe9thode de recherche"),a(),u(4,"p"),s(5,"Lorsqu'on cherche \xe0 enregistrer des donn\xe9es en base de donn\xe9es en succession rapide, il arrive d'observer des lenteurs,\net parfois des blocages \xe0 l'ex\xe9cution des requ\xeates. Cela peut provenir de plusieurs causes, par exemple des conflits sur\nles m\xeames tables en base de donn\xe9es. Une approche de conception pour \xe9viter ces probl\xe8mes est de r\xe9duire le nombre\nd'associations navigables entre les classes. Cela am\xe8ne \xe0 des groupes de classes qui sont dans des transactions plus petites\net surtout plus ind\xe9pendantes."),a(),u(6,"pre"),s(7,"  "),u(8,"code",0),s(9,"\n    public class Contrat {\n      private final String numero;\n      private final String date;\n      private final String texte;\n      // ... autres champs\n      private final Client client;\n\n      public Contrat(String numero, String date, String texte, Client client){\n        this.numero = numero;\n        this.date = date;\n        this.texte = texte;\n        this.client = client;\n      }\n\n      public Client getClient(){\n        return client;\n      }\n\n      public String getClient(){\n        return getClient().getId;\n      }\n    }\n\n    public class Client {\n      private final String id;\n      private final String nom;\n      private final String adresseDeLivraison;\n      private final String adresseDeFacturation;\n      // ... autres champs\n\n      public Client(String id, String nom, String adresseDeLivraison, String adresseDeFacturation){\n        this.id = id;\n        this.nom = nom;\n        this.adresseDeLivraison = adresseDeLivraison;\n        this.adresseDeFacturation = adresseDeFacturation;\n      }\n\n      public Client getId(){\n        return id;\n      }\n\n      public String getNom(){\n        return nom\n      }\n\n       // ... autres champs\n    }\n  "),a(),s(10,"\n"),a(),u(11,"p"),s(12,"\xc0 l'utilisation, le code appelant peut naviguer directement, par transitivit\xe9, de la classe Contrat vers la classe\nClient en cha\xeenant les accesseurs (cela semble fort pratique mais attache toutes les portions du code ensemble):"),a(),u(13,"pre"),s(14,"  "),u(15,"code",0),s(16,'\n    // navigation transitive du contrat vers le client\n    Client client = new Client("client42", "@cyriux", "au bureau", "\xe0 la maison");\n    final Contrat contrat = new Contrat("123", "11/12/13", "J\'ach\xe8te !", client);\n    assertEquals( "@cyriux", contrat.getClient().getNom()); // navigation transitive\n  '),a(),s(17,"\n"),a(),u(18,"p"),s(19,"Pour \xe9viter cette association qui couple les deux concepts, le lien navigable est remplac\xe9 par un simple identifiant\ndans la classe Contrat."),a(),u(20,"pre"),s(21,"  "),u(22,"code",0),s(23,"\n    public class Contrat {\n      private final String numero;\n      private final String date;\n      private final String texte;\n      // ... autres champs\n      private final String clientId; // seulement l'id du client\n\n      public Contrat(String numero, String date, String texte, String clientId){\n        this.numero = numero;\n        this.date = date;\n        this.texte = texte;\n        this.clientId = clientId;\n      }\n  "),a(),s(24,"\n"),a(),u(25,"p"),s(26,"C\xf4t\xe9 appelant de la fonctionnalit\xe9, la navigation Contrat vers Client est remplac\xe9e par une recherche explicite vers\nla base de donn\xe9es :"),a(),u(27,"pre"),s(28,"  "),u(29,"code",0),s(30,'\n    Contrat contrat = new Contrat("123", "11/12/13", "J\'ach\xe8te !", client);\n    String clientId = contrat.getClientId();\n    assertEquals( "@cyriux", new ListeClient().find(clientId).getNom()); // lookup\n  '),a(),s(31,"\n"),a(),u(32,"p"),s(33,"La classe ListeClients permet de trouver, acc\xe9der (et peut-\xeatre ajouter) des clients dans une base de donn\xe9es sous-jacente,\nsouvent au travers d'un ORM."),a(),u(34,"p"),s(35,"Cette transformation est essentielle pour \xe9viter que toute l'application ne soit un enchev\xeatrement de classes qui se\nr\xe9f\xe9rencent toutes indirectement, ce qui \xe0 terme d\xe9grade les performances et rend tout refactoring difficile."),a(),u(36,"p"),s(37,"Les fonctionnalit\xe9s de lazy loading des ORM encouragent \xe0 associer les classes entre elles pour pouvoir facilement\nacc\xe9der \xe0 toute information \xe0 partir de n'importe o\xf9. Mais cette apparente facilit\xe9 est la cause de trop de probl\xe8mes de\nperformances et de couplage de tout le code, il convient donc de r\xe9duire, voir \xe9viter enti\xe8rement cet usage du lazy-loading."),a(),u(38,"app-callout-section",1)(39,"p"),s(40,"Cette d\xe9marche se rapporte au concept d'Aggregate au sens de DDD."),a()(),u(41,"h3"),s(42,"2. Refactorer vers une architecture hexagonale"),a(),u(43,"p"),s(44,"Pouvoir changer un fragment de code sans impact sur le reste de la base de code est l'un des principaux objectifs des\ntechniques de conception logicielle. \xc0 l'\xe9chelle des classes, on pense ainsi \xe0 l'encapsulation des donn\xe9es dans une\nclasse, au principe de s\xe9paration des responsabilit\xe9s, parmi tant d'autres. \xc0 plus grande \xe9chelle, celle des modules qui regroupent un nombre de clauses, on suit une d\xe9marche similaire avec le pattern de l'architecture hexagonale."),a(),u(45,"p"),s(46,"Par exemple : une classe d'\xe9tude d'un dossier de cr\xe9dit pour approuver ou rejeter la demande d'emprunt selon les\nscorings des co-emprunteurs :"),a(),u(47,"pre"),s(48,"  "),u(49,"code",0),s(50,"\n    public class EtudeCredit {\n\n      public Decision evaluer(Dossier d){\n        int totalScore = 0;\n        int minScore = 100;\n        final List<Emprunteur> coEmprunteurs = d.coEmprunteurs();\n\n        for(Emprunter p : coEmprunteurs) {\n          final int score = scoringPour(p); // appel \xe0 un web-service externe\n          totalScore += score;\n          minScore = min(minScore, score);\n        }\n        int moyenne = totalScore / coEmprumteurs.size();\n        return minScore >= 20 && moyenne >= 40 ? APPROBATION : REJET;\n      }\n    }\n  "),a(),s(51,"\n"),a(),u(52,"p"),s(53,"L'\xe9tude de cr\xe9dit sert d'illustration \xe0 du code m\xe9tier d'une certaine complexit\xe9. Dans l'exemple, il s'agit de calculer\nle score moyen et le score minimum sur l'ensemble de tous les co-emprunteurs. Pour cela le code doit appeler un\nweb-service externe autant de fois qu'il y a d'emprunteurs."),a(),u(54,"p"),s(55,"Le code d'origine m\xe9lange la complexit\xe9 m\xe9tier avec l'appel du web-service :"),a(),u(56,"pre"),s(57,"  "),u(58,"code",0),s(59,"\n    // dans la classe EtudeCredit\n    private int scoringPour(Emprunteur p) {\n      final String identity = p.identity();\n\n    // try\n    // HttpRequest request = HttpRequest.newBuilder().GET()...\n    // HttpResponse<String> response = httpClient.send(request, ... )\n    // ... parse response into variable score ...\n    // catch ... finally ...\n\n    return score;\n    }\n  "),a(),s(60,"\n"),a(),u(61,"p"),s(62,"Ce m\xe9lange de m\xe9tier et de code d'int\xe9gration fait d\xe9sordre ; cela rend difficile le test du calcul m\xe9tier, qui n'est\npossible que sur un environnement avec acc\xe8s au web-service externe."),a(),u(63,"p"),s(64,"L'id\xe9ale serait de pouvoir facilement configurer les d\xe9pendances pour utiliser une doublure de test pour les tests\nunitaires, ou le v\xe9ritable web-service externe en production ou en test de bout en bout."),a(),u(65,"p"),s(66,"Pour cela, on commence par extraire la m\xe9thode d'appel au web-service externe dans sa propre classe ScoringWebService :"),a(),u(67,"pre"),s(68,"  "),u(69,"code",0),s(70,"\n    // dans la classe ScoringWebService\n    public class ScoringWebService() {\n      public int Score(String identite) {\n         // try\n        // HttpRequest request = HttpRequest.newBuilder().GET()...\n        // HttpResponse<String> response = httpClient.send(request, ... )\n        // ... parse response into variable score ...\n        // catch ... finally ...\n\n        return score;\n      }\n    }\n  "),a(),s(71,"\n"),a(),u(72,"p"),s(73,"On l'ajoute comme membre de la classe EtudeCredit, auquel on d\xe9l\xe8gue les appels au scoring :"),a(),u(74,"pre"),s(75,"  "),u(76,"code",0),s(77,"\n    // dans la classe EtudeCredit\n    private final ScoringWebService scoring = new ScoringWebService();\n    private int scoringPour(Emprunteur p) {\n      final String identity = p.identity();\n      return scoring.score(identity);\n    }\n  "),a(),s(78,"\n"),a(),u(79,"p"),s(80,"Afin de pouvoir remplacer le ScoringWebService par une doublure, il reste \xe0 extraire son interface Scoring : "),a(),u(81,"pre"),s(82,"  "),u(83,"code",0),s(84,"\n    public interface Scoring{\n      int score(String identite);\n    }\n\n    public class ScoringWebService implements Scoring {\n        ...\n    }\n  "),a(),s(85,"\n"),a(),u(86,"p"),s(87,"Puis introduire une ou plusieurs doublures de tests (stubs) selon les besoins de tests :"),a(),u(88,"pre"),s(89,"  "),u(90,"code",0),s(91,"\n    public class ConstantScoring implements Scoring {\n       private final int score;\n\n      public ConstantScoring(int score){\n        this.score = score;\n      }\n\n      @Override\n      public int score(String identite){\n        return score;\n      }\n    }\n  "),a(),s(92,"\n"),a(),u(93,"p"),s(94,"Enfin, on doit permettre d'injecter l'instance de notre choix par le constructeur de la classe EtudeCredit :"),a(),u(95,"pre"),s(96,"  "),u(97,"code",0),s(98,"\n    // dans la classe EtudeCredit\n    private final Scoring scoring;\n\n    public EtudeCredit(Scoring scoring;) {\n      this.scoring = scoring;\n    }\n  "),a(),s(99,"\n"),a(),u(100,"p"),s(101,"On peut d\xe9sormais \xe9crire des tests unitaire avec par exemple un scoring qui retourne toujours 100 (le score maximum)"),a(),u(102,"pre"),s(103,"  "),u(104,"code",0),s(105,"\n    Scoring scoring = new ConstantScoring(100);\n    EtudeCredit etude = new EtudeCredit(scoring);\n    Dossier dossier = new Dossier(PERSONNE_1);\n    assertEquals(Decision.APPROBATION, etude.evaluer(dossier));\n  "),a(),s(106,"\n"),a(),u(107,"p"),s(108,"Le code de d\xe9marrage du service inject l'adapteur vers le web-service externe (renommons ScoringWebService en ScoringWebServiceAdapter) : "),a(),u(109,"pre"),s(110,"  "),u(111,"code",0),s(112,"\n    // au d\xe9marrage du service\n    Scoring scoring = new ScoringWebServiceAdapter();\n    EtudeCredit etude = new EtudeCredit(scoring);\n\n    // \xe0 chaque appel\n    Dossier dossier = new Dossier(PERSONNE_1);\n    assertEquals(Decision.APPROBATION, etude.evaluer(dossier));\n  "),a(),s(113,"\n"),a(),u(114,"p"),s(115,"La d\xe9pendance du scoring est d\xe9sormais configurable. Cette id\xe9e de d\xe9pendance configurable est l'architecture hexagonale,\naussi nomm\xe9e ports et adaptateurs. L'id\xe9e est d'avoir le mod\xe8le du domaine m\xe9tier qui ignore totalement ses d\xe9pendances.\nIci, l'interface Scoring appartient au mod\xe8le du domaine mais ne conna\xeet aucune autre classe ; ce sont l'adapteur et la\ndoublure qui l'impl\xe9mente, et qui par cons\xe9quent la connaissent."),a(),u(116,"p"),s(117,"La classe EtudeCredit peut ainsi appeler la m\xe9thode de la classe ScoringWebServiceAdapter sans la conna\xeetre. En\nintroduisant l'interface Scoring on a suivi le principe d'inversion de d\xe9pendance."),a(),u(118,"p"),s(119,"Pour \xeatre v\xe9ritablement en architecture hexagonale, il reste \xe0 organiser les classes dans des packages distincts :"),a(),u(120,"pre"),s(121,"  "),u(122,"code",0),s(123,"\n    com.mybank.etudecredit.domain/\n      EtudeCredit\n      Emprunteur\n      Decision\n      Scoring<<interface>>\n    com.mybank.etudecredit.adapter/\n      ScoringWebServiceAdapter\n      ConstantScoring<<stub>>\n      RestController (exposition REST...)\n  "),a(),s(124,"\n"),a(),u(125,"p"),s(126,"Les classes du package com.mybank.etudecredit.domain ne doivent jamais conna\xeetre les classes ext\xe9rieures."),a(),u(127,"p"),s(128,"Toujours dans l'optique des tests unitaires, il est possible d'exprimer cette r\xe8gle litt\xe9ralement avec la librairie\nd'assertions ArchUnit"),a(),u(129,"pre"),s(130,"  "),u(131,"code",0),s(132,'\n    noClasses().that()\n      .resideInAPackage("com.mybank.etudecredit.domain")\n      .should().dependOnClassesThat()\n      .resideInAPackage("com.mybank.etudecredit.adapter")\n  '),a(),s(133,"\n"),a(),u(134,"h3"),s(135,"3. Renommer une colonne de base de donn\xe9es, un champ d'une requ\xeate ou une r\xe9ponse d'un service"),a(),u(136,"p"),s(137,"Renommer directement une colonne dans une table en base de donn\xe9es pose probl\xe8me : cela oblige \xe0 d\xe9ployer le nouveau\nsch\xe9ma de base et le nouveau code simultan\xe9ment, ce qui am\xe8ne souvent \xe0 devoir tout arr\xeater puis tout red\xe9marrer plus tard.\nSi on souhaite assurer une continuit\xe9 de service, il faut progresser par petits pas : "),a(),u(138,"ul")(139,"li"),s(140,"Ajouter la nouvelle colonne."),a(),u(141,"li"),s(142,"Modifier le code pour \xe9crire dans cette colonne en plus d'\xe9crire dans la colonne existante \xe9quivalente."),a(),u(143,"li"),s(144,"Attendre que tous les utilisateurs de l'ancienne colonne aient modifi\xe9 leur code pour utiliser la nouvelle colonne."),a(),u(145,"li"),s(146,"Optionnel : supprimer l'ancienne colonne."),a()(),u(147,"h3"),s(148,"4. \xc9voluer progressivement vers un style r\xe9actif orient\xe9 chor\xe9graphie"),a(),u(149,"p"),s(150,"Pour exemple : un syst\xe8me de distributions de billets de spectacles en ligne. Le processus de vente consiste \xe0 \xe9mettre\nune r\xe9servation (booking), puis \xe0 r\xe9duire l'inventaire en correspondance (inventory), puis \xe0 envoyer les billets (ticketing), chacune de ces \xe9tapes \xe9tant un service distinct :"),a(),u(151,"pre"),s(152,"  "),u(153,"code",0),s(154,'\n    public static class BookingService {\n      private final OrchestrationService orchestration;\n\n      public BookingService(OrchestrationService orchestration) {\n        this.orchestration = orchestration;\n      }\n\n      public void bookTicket(int number) {\n        System.out.println("Ticket booked");\n        orchestration.onTicketBooked(number);\n      }\n    }\n\n    public static class InventoryService {\n      private int capacity;\n\n      public InventoryService(int initialCapacity) {\n        this.capacity = initialCapacity;\n      }\n\n      public int onTicketBooked(int number) {\n        capacity -= number;\n        System.out.println("Capacity changed" + capacity);\n        return capacity;\n      }\n\n      public int currentCapacity() {\n        return capacity;\n      }\n    }\n\n     public static class TicketingService {\n      public void onTicketBooked(int number) {\n        System.out.println("Ticket printed for : " + number + "people");\n      }\n    }\n  '),a(),s(155,"\n"),a(),u(156,"p"),s(157,"Dans une approche classique par orchestration, cela pourrait se coder avec un service d\xe9di\xe9 qui orchestre les deux autres,\nlui-m\xeame d\xe9clench\xe9 par le premier :"),a(),u(158,"pre"),s(159,"  "),u(160,"code",0),s(161,"\n    public static class OrchestrationService {\n      private final InventoryService inventory;\n      private final TicketingService ticketing;\n\n      public OrchestrationService(InventoryService inventory, TicketingService ticketing) {\n        this.inventory = inventory;\n        this.ticketing = ticketing;\n      }\n\n      public void onTicketBooked(int number) {\n        int capacityLeft = inventory.onTicketBooked(number);\n        if(capacityLeft >= 0) {\n          ticketing.onTicketBooked(number);\n        }\n      }\n    }\n  "),a(),s(162,"\n"),a(),u(163,"p"),s(164,"Les services doivent \xeatre d\xe9marr\xe9s dans l'ordre inverse des appels, pour pouvoir injecter leurs r\xe9f\xe9rences :"),a(),u(165,"pre"),s(166,"  "),u(167,"code",0),s(168,"\n    @Test\n    public void  orchestration() {\n      InventoryService inventory = new InventoryService(3);\n      TicketingService ticketing = new TicketingService();\n      OrchestrationService orchestration = new OrchestrationService(inventory, ticketing);\n      BookingService booking = new BookingService(orchestration);\n\n      assertEquals(3, inventory.currentCapacity());\n      booking.bookTicket(1);\n      assertEquals(2, inventory.currentCapacity());\n  "),a(),s(169,"\n"),a(),u(170,"p"),s(171,"BookingService conna\xeet le service Orchestrateur Service (inject\xe9 en donn\xe9e membre), qui lui-m\xeame conna\xeet les 2 autres, (inject\xe9s en donn\xe9e membre)."),a(),u(172,"p"),s(173,"Cette approche est simple et convient tant que la liste des services reste inchang\xe9e. Mais, si on souhaite r\xe9guli\xe8rement\najouter des services dans le processus, une telle orchestration doit changer \xe0 chaque fois."),a(),u(174,"p"),s(175,"Par exemple, si on souhaite ajouter un service de notification en cas de capacit\xe9 de places insuffisantes, on doit\najouter ce nouveau service mais aussi modifier le service OrchestrationService \xe0 plusieurs endroits pour qu'il appelle : "),a(),u(176,"pre"),s(177,"  "),u(178,"code",0),s(179,'\n    public static class NotificationService{\n      public void notifyAlert(Sting text){\n        System.out.println("Attention : " + texte)\n      }\n    }\n\n\n    public static class OrchestrationService {\n      private final InventoryService inventory;\n      private final TicketingService ticketing;\n      private final NotificationService notification; // ajout\n\n\n      public OrchestrationService(InventoryService inventory, TicketingService ticketing, NotificationService notification) {\n        this.inventory = inventory;\n        this.ticketing = ticketing;\n        this.notification = notification; // ajout\n      }\n\n      public void onTicketBooked(int number) {\n        int capacityLeft = inventory.onTicketBooked(number);\n        if(capacityLeft >= 0) {\n          ticketing.onTicketBooked(number);\n        }\n        else {\n          notification.notifyAlert("Plus assez de places!") // ajout\n        }\n      }\n    }\n  '),a(),s(180,"\n"),a(),u(181,"p"),s(182,"L'alternative \xe0 l'orchestration est la chor\xe9graphie, au travers d'un bus de messages qui permet d'informer tous les\nservices de tout changement, sans jamais les conna\xeetre au sens des d\xe9pendances."),a(),u(183,"p"),s(184,"L'id\xe9e est celle du pattern Observer (GoF). Exemple en repr\xe9sentant le bus de messages par un pattern Observer :"),a(),u(185,"pre"),s(186,"  "),u(187,"code",0),s(188,"\n    /**The listener interface*/\n    public interface Listener {\n      void onMessage(Object msg);\n    }\n\n    /**\n    * A basic event with a name and one single integer value\n    */\n    public class Event {\n      private final String name;\n      private final int value;\n\n      public Event (String name, int value){\n        this.name = name;\n        this.value = value;\n      }\n\n      public String getName() { return name }\n      public int getValue() { return value }\n    }\n\n    /**\n    * A simple in-memory, observer-pattern-based single-threaded message bus for designing architecture and testing using\n    unit tests before switching to using actual middleware\n    */\n    public class MessageBus{\n      private List<Listener> subs = new ArrayList<Listener>\n\n      public void subscribe(Listener 1){\n        this.subs.add(1);\n      }\n\n      public void send(String msg){\n        for(Listener l : subs){\n          l.onMessage(msg);\n        }\n      }\n    }\n  "),a(),s(189,"\n"),a(),u(190,"p"),s(191,"Chaque service va s'inscrire au bus, pour \xeatre notifi\xe9 de chaque changement, et prend en m\xeame temps une r\xe9f\xe9rence au\nbus pour pouvoir aussi lui envoyer des changements."),a(),u(192,"pre"),s(193,"  "),u(194,"code",0),s(195,'\n    public static class BookingService implements Listener {\n      private final MessageBus bus;\n\n      public BookingService(MessageBus bus){\n        this.bus = bus;\n      }\n\n      public void bookTicket(int number){\n        System.out.println("Ticket booked");\n        bus.send(new Event("TicketBooked", number));\n      }\n\n     \t@Override\n      public void onMessage(Object msg){\n        // ignore all\n      }\n    }\n\n    public static class InventoryService implements Listener {\n      private int capacity;\n      private final MessageBus bus;\n\n      public InventoryService(MessageBus bus, int initialCapacity){\n        this.bus = bus;\n        this.capacity = initialCapacity;\n      }\n\n      @Override\n      public void onMessage(Object msg){\n        Event event = (event) msg;\n        // ... impl\xe9mentation \xe0 faire ...\n      }\n\n      // impl\xe9mentation\n\n      public int currentCapacity(){\n        return capacity;\n      }\n    }\n\n    public static class TicketingService implements Listener {\n      private final MessageBus bus;\n\n      public TicketingService(MessageBus bus){\n        this.bus = bus;\n      }\n\n      public void onTicketBooked(int number){\n        System.out.println("Ticket printed for :" + number + "people");\n      }\n\n\n      @Override\n      public void onMessage(Object msg){\n        Event event = (event) msg;\n        // ... impl\xe9mentation \xe0 faire ...\n      }\n    }\n  '),a(),s(196,"\n"),a(),u(197,"p"),s(198,"Il est d\xe9sormais temps d'impl\xe9menter le corps des m\xe9thodes onMessage() selon les \xe9v\xe8nements re\xe7us. L'id\xe9e est que tout\nle code dans le service d'orchestration doit \xeatre fragment\xe9 et d\xe9plac\xe9 dans les m\xe9thodes onMessage() de chaque service. Puisque l'orchestration est d\xe9sormais distribu\xe9e (au sens de \"\xe9parpill\xe9e\") dans plusieurs services, on parle alors de\nchor\xe9graphie."),a(),u(199,"pre"),s(200,"  "),u(201,"code",0),s(202,'\n    public static class InventoryService implements Listener {\n      ...\n\n     \t@Override\n      public void onMessage(Object msg){\n        Event event = (Event) msg;\n        if(event.getName().equals("TickedBooked")){\n        Event event = (Event) msg;\n        if(event.getName().equals("TickedBooked"))\n          int number = event.getValue();\n          handleTickedBookedEvent(number);\n        }\n      }\n\n      private void handleTickedBookedEvent(final int number){\n        int left = onTickedBooked(number);\n        if(left >= 0){\n          bus.send(new Event("BookingConfirmed", number));\n          bus.send(new Event("InventoryChanged", left));\n        }\n        else{\n        Event event = (Event) msg;\n          bus.send(new Event("BookingCancelled", 0));\n        }\n    }\n  '),a(),s(203,"\n"),a(),u(204,"p"),s(205,"Une partie de la logique issue de l'orchestration est clairement reconnaissable, mais elle est cette fois concentr\xe9e\ndans le service inventory, qui ne conna\xeet pas le service de notification (qui d'ailleurs n'existe pas encore)."),a(),u(206,"p"),s(207,"Lorsque nous d\xe9cidons plus tard d'ajouter un service de notification, aucune modification au reste du syst\xe8me est\nn\xe9cessaire : "),a(),u(208,"pre"),s(209,"  "),u(210,"code",0),s(211,'\n    public static class NotificationService implements Listener {\n      private final MessageBus bus;\n\n      public NotificationService(MessageBus bus){\n        this.bus = bus;\n      }\n\n      public void notifyAlert(String texte){\n        System.out.println("Attention :" + texte);\n      }\n\n      @Override\n      public void onMessage (Object msg){\n        Event event = (Event) msg;\n        if(event.getName().equals("BookingCancelled"){\n          final int number = event .getValue();\n          notifyAlert("Plus assez de place!");\n        }\n      }\n    }\n  '),a(),s(212,"\n"),a(),u(213,"p"),s(214,"Le diagramme suivant r\xe9sume cette approche de services qui se partagent un moyen de s'envoyer des \xe9v\xe8nements sans se\nconna\xeetre, pour avoir la possibilit\xe9 d'ajouter, supprimer ou remplacer des services sans aucune autre modification."),a(),j(215,"img",2),u(216,"p"),s(217,"Voici un bus partag\xe9 par les services de l'exemple. Le dernier service est en pointill\xe9 pour sugg\xe9rer qu'il peut\n\xeatre ajout\xe9 ou supprim\xe9 \xe0 volont\xe9."),a(),u(218,"p"),s(219,"C'est d\xe9sormais de la responsabilit\xe9 du service de notification de r\xe9agir \xe0 l'\xe9v\xe8nement signalant le manque de places\ndans l'inventaire en d\xe9cidant d'\xe9mettre une notification."),a(),u(220,"p"),s(221,"Autre avantage, les services peuvent se d\xe9clarer et s'abonner au bus dans n'importe quel ordre :"),a(),u(222,"pre"),s(223,"  "),u(224,"code",0),s(225,"\n    @Test\n    public void choreograph(){\n      MessageBus bus = new MessageBus();\n\n      BookingService booking = new BookingService(bus);\n      InventoryService inventory = new InventoryService(bus, 3);\n      TicketingService ticketing = new TicketingService(bus);\n      NotificationService notification = new NotificationService(bus);\n\n      bus.subscribe(booking);\n      bus.subscribe(inventory);\n      bus.subscribe(ticketing);\n      bus.subscribe(notification);\n\n      assertEquals(3, inventory.currentCapacity());\n      booking.bookTicket(1);\n      assertEquals(2, inventory.currentCapacity());\n    }\n  "),a(),s(226,"\n"),a(),u(227,"p"),s(228,"Et si le bus a la propri\xe9t\xe9 d'\xeatre durable, alors les services peuvent \xeatre \xe9teints puis red\xe9marr\xe9s ind\xe9pendamment,\ntandis que les \xe9v\xe8nements qu'ils doivent recevoir restent en attente sur le bus, pr\xeats \xe0 \xeatre trait\xe9s d\xe8s qu'un service\nredevient disponible."),a(),u(229,"p"),s(230,"Avec cet exemple simpliste, les avantages et inconv\xe9nients respectifs des approches de chor\xe9graphie ou d'orchestration\napparaissent clairement :"),a(),u(231,"ul")(232,"li")(233,"span",3),s(234,"Orchestration :"),a(),s(235," le processus complet est centralis\xe9 dans l'orchestrateur, qui est donc facile \xe0 auditer, et qui offre des bonnes garanties sur l'int\xe9grit\xe9 du processus complet. Tout cela suppose un changement d'orchestration \xe0 chaque ajout ou suppression d'un service."),a(),u(236,"li")(237,"span",3),s(238,"Chor\xe9graphie :"),a(),s(239," l'ajout, le remplacement ou la suppression des services peut s'effectuer sans aucun changement \xe0 effectuer dans un autre endroit du syst\xe8me. Mais cela entra\xeene une plus grande difficult\xe9 \xe0 comprendre ou v\xe9rifier le processus complet."),a()(),u(240,"p"),s(241,"Le style d'architecture orient\xe9 microservices avec son architecture \"Event-Driver\" sur un bus de message et la pr\xe9f\xe9rence\npour la chor\xe9graphie permettent fondamentalement d'appliquer le principe Open-Closed, \xe0 l'\xe9chelle des services que l'on\npeut ajouter et retirer sans aucun autre impact, conform\xe9ment \xe0 l'id\xe9e de d\xe9ploiement totalement ind\xe9pendant des services."),a(),u(242,"h3"),s(243,"Rendre un service stateless"),a(),u(244,"p"),s(245,"Le terme "),u(246,"span",3),s(247,"stateful"),a(),s(248," est le contraire du terme "),u(249,"span",3),s(250,"stateless"),a(),s(251,",\net qualifie un service qui conserve de l'\xe9tat dans le service lui-m\xeame. Traditionnellement, cela consistait \xe0 stocker de l'\xe9tat dans une session conserv\xe9e dans le service, ou bien en m\xe9moire, ou sur le disque local, ou les deux. De nombreux\nframeworks web historiques offraient fi\xe8rement ces fonctionnalit\xe9s de session stateful, et des g\xe9n\xe9rations de d\xe9veloppeurs\nen ont profit\xe9 par facilit\xe9. Certaines application allaient ainsi jusqu'\xe0 stocker le panier d'achat, un document en cours\nd'\xe9criture ou des formulaires en cours de remplissage en session."),a(),u(252,"p"),s(253,"Avec le d\xe9veloppement du web, notamment \xe0 des \xe9chelles de plus en plus grandes, mais aussi avec l'importance croissante\nde pouvoir bookmarker des pages et de pouvoir revenir en arri\xe8re entre pages, les services stateful ont rapidement r\xe9v\xe9l\xe9\nleur nombreux inconv\xe9nients. Le consensus aujourd'hui, encore renforc\xe9 par les contraintes de cloud et des services \xe0\nz\xe9ro-downtime (sans interruption de service), est que les services doivent \xeatre "),u(254,"span",3),s(255,"stateless"),a(),s(256," autant que possible. Mais il existe encore de nombreux service stateful dans les organisations, il est donc important\nde savoir les transformer en stateless quand le besoin s'en fait sentir."),a(),u(257,"p"),s(258,"Par exemple, un existant fictif d'un web-service qui stocke des informations de langue et de devise dans la session de\nl'utilisateur, session elle-m\xeame stock\xe9e dans un champ statique pour la rendre accessible entre threads, \xe0 la mani\xe8re des\nsessions en m\xe9moire ou sur disque."),a(),u(259,"app-callout-section",4)(260,"p"),s(261,"Un service stateful est d\xe9licat \xe0 tester, car son \xe9tat d\xe9pend des appels pr\xe9c\xe9dents."),a()(),u(262,"pre"),s(263,"  "),u(264,"code",0),s(265,'\n    /**\n    * Web controller fictif pour illustrer la d\xe9marche de refactorer en\n    * web-service de stateful \xe0 stateless\n    */\n\n    public class WebController {\n      private final static Map <String, Session> sessions = new HashMap<>();\n\n      // GET ...\n      public int getHome(String userId){\n        Session session = sessions.get(userId); // stateful session\n        if(session == null) {\n          session = new Session();\n          sessions.put(userId, session);\n        }\n\n        // stateful data storage directly in the session\n        Map<String, Object> data = session.getData();\n        Locale locale = (Locale) data.get("Local");\n        if(locale == null){\n          locale = Locale.FRENCH;\n          data.put("Locale", locale);\n        }\n\n        Currency currency = (Currency) data.get("Currency");\n        if(currency == null){\n          currency = Currency.getInstance(locale);\n          data.put("Currency", currency);\n        }\n\n        // ... display home page with locale and currency ...\n        return 200;\n      }\n\n      // ... PUT, POST, ...\n    }\n  '),a(),s(266,"\n"),a(),u(267,"p"),s(268,"Pour rendre ce web-service stateless, et non stateful, il faut donc d\xe9placer l'\xe9tat de session en dehors du service,\navec le choix parmi les 2 c\xf4t\xe9s du service : "),a(),u(269,"ul")(270,"li")(271,"span",3),s(272,"c\xf4t\xe9 bases de donn\xe9es"),a(),s(273," : d\xe9placer l'\xe9tat dans une variable base de donn\xe9es, SQL ou noSQL, qui sera partag\xe9e entre les multiples instances du service quand c'est le cas;"),a(),u(274,"li")(275,"span",3),s(276,"c\xf4t\xe9 client "),a(),s(277,": d\xe9placer l'\xe9tat dans le client, qui doit ensuite passer cet \xe9tat de session par valeur dans la requ\xeate, par exemple dans des param\xe8tres HTTP, ou par l'utilisation de token JWT."),a()(),u(278,"app-callout-section",5)(279,"p"),s(280,"Un service stateless est nettement plus facile \xe0 tester qu'un service stateful. Dans le cas d'une session base de donn\xe9es, il faudra remplacer la base de donn\xe9es par une doublure de test, un simple \"bouchon\" qui retourne une session pr\xe9d\xe9finie et constante. Dans le cas d'une session c\xf4t\xe9 client, c'est encore plus simple, il suffit de passer l'\xe9tat dans l'appel du cas de test."),a()(),u(281,"h4"),s(282,"5.1 Rendre stateless c\xf4t\xe9 base de donn\xe9es"),a(),u(283,"p"),s(284,"D\xe9placer l'\xe9tat c\xf4t\xe9 base de donn\xe9es consiste surtout \xe0 cr\xe9er une table dans une base de donn\xe9es ou une nouvelle\ncollection dans un datastore. On peut refactorer de la fa\xe7on suivante : "),a(),u(285,"ul")(286,"li"),s(287,"Extraire la map cl\xe9-valeurs qui concerne les pr\xe9f\xe9rences utilisateurs dans une classe Preferences, avec le userId comme cl\xe9, et avec une ou plusieurs instance(s) pr\xe9d\xe9finie(s) par d\xe9faut; cette \xe9tape est optionnelle mais est une am\xe9lioration de la conception."),a(),u(288,"li"),s(289,"Ajouter du code d'acc\xe8s aux donn\xe9es qui se substitue \xe0 l'acc\xe8s par la session, par exemple avec JPA/Hibernate ou directement sur MongoDB, avec des m\xe9thodes load(userid):Preferences et update(Preference) :"),a()(),u(290,"pre"),s(291,"  "),u(292,"code",0),s(293,"\n    public class WebController {\n      private final static Map <String, Session> sessions = new HashMap<>();\n\n      // GET ...\n      public int getHome(String userId){\n        final Preferences pref = loadBy(userId);\n        // display home page with locale and currency ...\n        return 200;\n      }\n\n      // charge les pr\xe9f\xe9rences d'un datastore d\xe9di\xe9\n      private Preference loadBy(String userId){\n        // load from a datastore, e.g. SQL DB, S3 ou Redis / MongoDB ...\n        return Preferences.DEFAULT; // pr\xe9f\xe9rence par d\xe9faut si absent du datastore\n      }\n\n      // ... PUT, POST, ...\n    }\n  "),a(),s(294,"\n"),a(),u(295,"p"),s(296,'Au passage, on a refactor\xe9 une session "fourre-tout" en session sp\xe9cialis\xe9e d\xe9di\xe9e aux pr\xe9f\xe9rences, avec une instance\nnomm\xe9e DEFAULT qui repr\xe9sente les pr\xe9f\xe9rences par d\xe9faut, comme champs singleton statique.'),a(),u(297,"p"),s(298,"Cet objet est immuable, avec des m\xe9thodes de mutation qui retourne une nouvelle instance :"),a(),u(299,"pre"),s(300,"  "),u(301,"code",0),s(302,"\n    public class Preference {\n      private final Locale locale;\n      private final Currency currency;\n\n      private final static Locale DEFAULT_LOCALE = Locale.FRENCH;\n      private final static Currency DEFAULT_CURRENCY = Currency.getInstance(DEFAULT_LOCALE);\n\n      public final static Preferences DEFAULT = new Preferences(DEFAULT_LOCALE, DEFAULT_CURRENCY);\n\n      public Preferences (Locale locale; Currency currency) {\n        this.locale = locales;\n        this.currency = currency:\n      }\n\n      public Preferences with (Locale locale) {\n        return new Preferences(locale, this.currency);\n      }\n\n      public Locale locale(){\n        return locale;\n      }\n\n      public Preferences with (Currency currency) {\n        return new Preferences(this.locale, currency);\n      }\n\n      public Currency currency(){\n        return currency;\n      }\n\n      // ... toString() ...\n    }\n  "),a(),s(303,"\n"),a(),u(304,"h4"),s(305,"5.2 Rendre stateless c\xf4t\xe9 client"),a(),u(306,"p"),s(307,"D\xe9placer l'\xe9tat c\xf4t\xe9 client consiste par exemple \xe0 renvoyer tout l'\xe9tat de la session au client dans les r\xe9ponses du serveur HTTP, puis r\xe9cup\xe9rer cet \xe9tat depuis le client \xe0 partir des param\xe8tres de la requ\xeate HTTP suivante : "),a(),u(308,"pre"),s(309,"  "),u(310,"code",0),s(311,"\n    public class WebController {\n      private final static Locale DEFAULT_LOCALE = Locale.FRENCH;\n      private final static Currency DEFAULT_CURRENCY = Currency.getInstance(DEFAULT_LOCALE);\n\n      // GET ... avec l'\xe9tat de session an param\xe8tres HTTP\n      public int getHome(String userId, String localeId, String currencyId) {\n        final Locale locale = localeId == null ? DEFAULT_LOCALE : Locale.forLanguageTag(localeId);\n        final Currency currency = currencyId == null ? DEFAULT_CURRENCY : Currency.getInstance(currencyId);\n        // display home page with locale and currency\n        return 200;\n      }\n\n      // ... PUT, POST, ...\n  "),a(),s(312,"\n"),a(),u(313,"p"),s(314,"Le choix entre les 2 approches d\xe9pend de nombreux facteurs, dont la taille de l'\xe9tat, les questions de s\xe9curit\xe9\n(passer un \xe9tat peut tromper le service) et la simplicit\xe9 de la solution."),a(),u(315,"h3"),s(316,"6. Rendre un service idempotent naturellement"),a(),u(317,"p"),s(318,"Imaginons un service qui re\xe7oit des \xe9v\xe8nements d'un bus au travers d'une m\xe9thode onMessage et qui d\xe9cr\xe9mente la capacit\xe9\nde places de th\xe9atre restantes du nombre de places r\xe9serv\xe9es :"),a(),u(319,"pre"),s(320,"  "),u(321,"code",0),s(322,'\n    private int capacity;\n\n    public void onMessage(String key, int value) {\n      if(key.equals("TicketBooked")){\n        capacity -= value; // d\xe9cr\xe9mente la capacit\xe9\n      }\n    }\n  '),a(),s(323,"\n"),a(),u(324,"p"),s(325,"Dans le cas normal, chaque \xe9v\xe8nement d\xe9cr\xe9mente bien la capacit\xe9 restante :"),a(),u(326,"pre"),s(327,"  "),u(328,"code",0),s(329,'\n    @Test\n    public void normalCase() {\n      capacity = 10;\n      assertEquals(capacity, 10);\n      onMessage("TicketBooked", 2);\n      assertEquals(capacity, 8); // nouvelle capacit\xe9\n    }\n  '),a(),s(330,"\n"),a(),u(331,"p"),s(332,"Mais, dans le cas d'un message qui arriverait en double, alors la capacit\xe9 restante serait r\xe9duite \xe9galement :"),a(),u(333,"pre"),s(334,"  "),u(335,"code",0),s(336,'\n    @Test\n    public void notIdempotent() {\n      capacity = 10;\n      assertEquals(capacity, 10);\n      onMessage("TicketBooked", 2);\n      onMessage("TicketBooked", 2); // doublon\n      assertEquals(capacity, 6); // r\xe9sultat incorrect\n    }\n  '),a(),s(337,"\n"),a(),u(338,"p"),s(339,"D\xe9cr\xe9menter la valeur d'un compteur 2 fois au lieu d'une donne un r\xe9sultat erron\xe9."),a(),u(340,"p"),s(341,"Parfois, il suffit de changer la requ\xeate entre l'appelant et le service pour contourner ce probl\xe8me, par exemple en\nrempla\xe7ant la d\xe9cr\xe9mentation par une affectation de la nouvelle valeur cible."),a(),u(342,"pre"),s(343,"  "),u(344,"code",0),s(345,'\n    public void onCapacityChanged(String key, int value) {\n      if(key.equals("CapacityChanged")){\n        capacity = value; // affectation\n      }\n    }\n  '),a(),s(346,"\n"),a(),u(347,"p"),s(348,"En effet affecter une nouvelle valeur plusieurs fois au lieu d'une, donne toujours le r\xe9sultat correct :"),a(),u(349,"pre"),s(350,"  "),u(351,"code",0),s(352,'\n    @Test\n    public void naturallyIdempotent() {\n      capacity = 10;\n      assertEquals(capacity, 10);\n      onCapacityChanged("CapacityChanged", 8);\n      onCapacityChanged("CapacityChanged", 8);\n      assertEquals(capacity, 8); // r\xe9sultat correct\n    }\n  '),a(),s(353,"\n"),a(),u(354,"p"),s(355,"Mais si modifier la requ\xeate n'est pas possible, alors il reste la possibilit\xe9 d'ignorer les doublons par l'ajout d'un\ncrit\xe8re de corr\xe9lation et d'une m\xe9moire c\xf4t\xe9 service."),a(),u(356,"p"),s(357,"Ajoutons un identifiant de corr\xe9lation comme param\xe8tre de la requ\xeate, ainsi qu'un stockage des identifiants d\xe9j\xe0 trait\xe9s\nc\xf4t\xe9 service, pour reconna\xeetre un identifiant d\xe9j\xe0 vu et pouvoir ainsi ignorer les appels r\xe9p\xe9t\xe9s :"),a(),u(358,"pre"),s(359,"  "),u(360,"code",0),s(361,'\n    public void onMessage(String correlationId, String key, int value) {\n      if(memory.contains(correlationId)){\n        return; // doublon d\xe9tect\xe9, abandon\n      }\n      if(key.equals("TicketBooked")){\n        capacity -= value;\n        memory.add(correlationId); // m\xe9moriser les ids d\xe9j\xe0 vus\n      }\n    }\n  '),a(),s(362,"\n"),a(),u(363,"p"),s(364,"L'ajout d'un crit\xe8re de corr\xe9lation (unique) permet de conna\xeetre et donc d'ignorer les appels en doublons : "),a(),u(365,"pre"),s(366,"  "),u(367,"code",0),s(368,'\n    @Test\n    public void idempotentByCorrelationId() {\n      capacity = 10;\n      assertEquals(capacity, 10);\n      onMessage("GUID123", "TicketBooked", 2);\n      onMessage("GUID123", "TicketBooked", 2); // doublon\n      assertEquals(capacity, 8); // r\xe9sultat correct\n    }\n  '),a(),s(369,"\n"),a(),u(370,"p"),s(371,"Cette approche ajoute une complexit\xe9 r\xe9elle, car la m\xe9moire doit en g\xe9n\xe9ral \xeatre persist\xe9e dans une technologie de stockage\ncomme une base de donn\xe9es, et les identifiants de corr\xe9lation doivent \xeatre strictement unique entre eux, ce qui n\xe9cessite\nd'utiliser des GUID ou des s\xe9quences partag\xe9es."),a())},dependencies:[Ft],styles:["img[_ngcontent-%COMP%]{max-width:500px}"]})}}return e})()},{path:"introduire-craft",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-introduire-craft"]],standalone:!0,features:[H],decls:93,vars:0,consts:[[1,"pink-purple-txt"],["href","https://www.coderetreat.org/?seed=9271"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Introduire le craft dans votre contexte"),a(),u(2,"h3"),s(3,"1. D\xe9marrer le craft \xe0 titre individuel ou entre coll\xe8gue"),a(),u(4,"p"),s(5,"Participer \xe0 des conf\xe9rences (NewCraft) ou non-conf\xe9rence (SoCraTES France) et assister aux sessions sur des pratiques\ncraft."),a(),u(6,"h4"),s(7,"Kata par kata"),a(),u(8,"ul")(9,"li")(10,"span",0),s(11,"FizzBuzz"),a(),s(12," : pratique du TDD."),a(),u(13,"li")(14,"span",0),s(15,"Roman Numerals"),a(),s(16," : comprendre l'importance de l'ordre de la s\xe9quence de tests dans le r\xe9sultat."),a(),u(17,"li")(18,"span",0),s(19,"Prime D\xe9composition"),a(),s(20," : montrer l'int\xe9r\xeat du TDD."),a(),u(21,"li")(22,"span",0),s(23,"Gilded Rose"),a(),s(24," : code l\xe9gacy (et d'autre kata d'Emily Bache comme : Pourrez-vous rendre le code existant plus facile \xe0 maintenir ?)"),a(),u(25,"li")(26,"span",0),s(27,"Tennis ou Bowling"),a(),s(28," : mod\xe9liser un m\xe9tier de complexit\xe9 mod\xe9r\xe9e."),a(),u(29,"li")(30,"span",0),s(31,"Mars Rover"),a(),s(32," : pratique des design pattern en prime."),a(),u(33,"li")(34,"span",0),s(35,"SuperMarket Pricing"),a(),s(36," : pour sp\xe9cifier (\xe0 faire avec PO et Business Analysts)."),a()(),u(37,"p"),s(38,"Il est \xe9galement possible de refaire les kata avec d'autres contraintes, comme celles des objets callisth\xe9niques, ou\ntout autre point (TDD plus strict, responsabilit\xe9 unique,..., ou mieux conna\xeetre les raccourcis du clavier)"),a(),u(39,"p"),s(40,"Le "),u(41,"a",1),s(42," code retreat"),a(),s(43,", est un \xe9v\xe8nement d'une journ\xe9e o\xf9 les participants\nr\xe9alisent le m\xeame kata 6 fois avec des contraintes diff\xe9rentes."),a(),u(44,"h3"),s(45,"2. Introduire le craft dans une organisation"),a(),u(46,"p"),s(47,"Avoir une approche en 2 temps : initialiser une dynamique relativement informelle dans un premier temps, sur laquelle\nconstruire ensuite une d\xe9marche plus formelle et avec des sponsors."),a(),u(48,"h4"),s(49,"2.1 Initialiser une dynamique"),a(),u(50,"p"),s(51,"Commencer par des actions suffisamment modestes pour ne pas n\xe9cessiter de soutien hi\xe9rarchique. Une pause d\xe9jeuner par semaine sous forme de coding dojo."),a(),u(52,"p"),s(53,"Puis \xe9duquer \xe9quipe par \xe9quipe."),a(),u(54,"h4"),s(55,"2.2 Convaincre les sponsors"),a(),u(56,"ul")(57,"li")(58,"span",0),s(59,"\xc9conomique "),a(),s(60,": le temps de cycle, la r\xe9duction du nombre de d\xe9fauts, la fr\xe9quence des livraisons, la vitesse de rem\xe9diation en cas d'anomalie."),a(),u(61,"li")(62,"span",0),s(63,"Benchmarking"),a(),s(64," : savoir que les concurrents sont engag\xe9es dans des d\xe9marches craft."),a(),u(65,"li")(66,"span",0),s(67,"\xc9volution culturelle"),a(),s(68," : contribue \xe0 faire \xe9voluer la culture des \xe9quipes vers les enjeux d'actualit\xe9, dont elle augmente les chances de succ\xe8s : move-to-cloud, microservice, .... sont des sujets qui requi\xe8rent une bonne ma\xeetrise de la complexit\xe9 technologique et collaborative, au coeur du craft."),a(),u(69,"li")(70,"span",0),s(71,"Marque employeur"),a()()(),u(72,"h3"),s(73,"3. Les causes d'\xe9chec du craft"),a(),u(74,"ul")(75,"li")(76,"span",0),s(77,"Le craft comme une fin en soi"),a(),s(78," : l'objectif est de livrer de la valeur."),a(),u(79,"li")(80,"span",0),s(81,"Le craft comme source de procrastination"),a(),s(82," : arrive quand le travail attendu para\xeet ennuyeux ou peu int\xe9ressant."),a(),u(83,"li")(84,"span",0),s(85,"Am\xe9lioration sans fin "),a(),s(86,": objectif de l'am\xe9lioration est d'avoir des b\xe9n\xe9fices attendus et av\xe9r\xe9s."),a(),u(87,"li")(88,"span",0),s(89,"Arrogance face au client"),a()(),u(90,"li")(91,"span",0),s(92,"\xc9litisme"),a()()())}})}}return e})()},{path:"etat-esprit",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-etat-esprit"]],standalone:!0,features:[H],decls:55,vars:0,consts:[[1,"pink-purple-txt"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Etat d'esprit"),a(),u(2,"h3"),s(3,"1. D\xe9velopper son savoir faire"),a(),u(4,"h4"),s(5,"1.2 C'est en craftant..."),a(),u(6,"p"),s(7,"3 phases d'apprentissage :"),a(),u(8,"ul")(9,"li")(10,"span",0),s(11,"Apprendre les bases"),a(),s(12,";"),a(),u(13,"li")(14,"span",0),s(15,"Acqu\xe9rir des automatismes"),a(),s(16,";"),a(),u(17,"li")(18,"span",0),s(19,"Monter en intensit\xe9"),a(),s(20,";"),a()(),u(21,"h4"),s(22,"1.2 Th\xe9orie des 10 000 heures"),a(),u(23,"h4"),s(24,"1.3 Progression par la r\xe9p\xe9tition : les kata de code"),a(),u(25,"h4"),s(26,"1.4 Organiser sa veille"),a(),u(27,"ul")(28,"li")(29,"span",0),s(30,"R\xe9seaux sociaux"),a()(),u(31,"li")(32,"span",0),s(33,"Meetups"),a()(),u(34,"li")(35,"span",0),s(36,"Blog, live coding, talk et conf\xe9rences"),a()(),u(37,"li")(38,"span",0),s(39,"Podcast"),a()(),u(40,"li")(41,"span",0),s(42,"Livre"),a()()(),u(43,"h4"),s(44,"1.5 Transmission"),a(),u(45,"h3"),s(46,"2. Professionnalisme"),a(),u(47,"h4"),s(48,"Choix et entretien des outils"),a(),u(49,"p"),s(50,"Les bons artisans travaillent avec les meilleurs outils, pour lesquels ils renforcent leur ma\xeetrise au quotidien."),a(),u(51,"p"),s(52,"L'IDE doit pouvoir g\xe9rer quasi automatiquement l'\xe9dition de code, la navigation dans le code, les patterns basiques\nde refactoring (renommage, extraction, inlining, d\xe9placement). Le d\xe9veloppeur doit savoir manier ces fonctionnalit\xe9s\navec virtuosit\xe9 (ne plus utiliser la souris)."),a(),u(53,"p"),s(54,"Lorsque les outils n'existent pas, un crafter n'h\xe9sitera pas \xe0 cr\xe9er ses propres outils ou \xe0 faire \xe9voluer les outils\nexistant pour se faciliter la vie et celle des autres. "),a())}})}}return e})()},{path:"craft-2",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-craft20"]],standalone:!0,features:[H],decls:34,vars:0,consts:[[1,"pink-purple-txt"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Craft 2.0"),a(),u(2,"h3"),s(3,"Attitudes"),a(),u(4,"ul")(5,"li")(6,"span",0),s(7,"Commencer par le but \xe0 atteindre"),a(),s(8," : le d\xe9veloppement dirig\xe9 par les tests."),a(),u(9,"li")(10,"span",0),s(11,"Collaborer en continu"),a(),s(12,"Collaborer en continu : d\xe9veloppement dirig\xe9 par le comportement (BDD)."),a(),u(13,"li")(14,"span",0),s(15,"Clean code"),a(),s(16,"Clean code : rendre le code lisible (nommage)."),a(),u(17,"li")(18,"span",0),s(19,"Limiter la taille des artefacts"),a(),s(20,"Limiter la taille des artefacts : m\xe9thodes courtes et r\xe8gle des objets callist\xe9niques."),a(),u(21,"li")(22,"span",0),s(23,"Des fa\xe7ons de faire diff\xe9rentes selon les contextes."),a()(),u(24,"li")(25,"span",0),s(26,"Baby step"),a(),s(27," : TDD, Scrum."),a(),u(28,"li")(29,"span",0),s(30,"Chercher le feedback rapide."),a()(),u(31,"li")(32,"span",0),s(33,"KISS."),a()()())}})}}return e})()},{path:"annexe",component:(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-annexe"]],standalone:!0,features:[H],decls:88,vars:0,consts:[[1,"pink-purple-txt"],["href","https://codingdojo.org/kata/FizzBuzz/"],["href","https://codingdojo.org/kata/LeapYears/"],["href","https://codingdojo.org/kata/StringCalculator/"],["href","https://codingdojo.org/kata/RomanCalculator/"],["href","https://codingdojo.org/kata/Tennis/"],["href","https://github.com/emilybache/Tennis-Refactoring-Kata"],["href","https://codingdojo.org/kata/Bowling/"],["href","https://codingdojo.org/kata/gilded-rose/"],["href","https://github.com/sandromancuso/trip-service-kata"],["href","https://www.eyrolles.com/Informatique/Livre/design-patterns-9780201633610/"],["href","https://www.fnac.com/SearchResult/ResultList.aspx?Search=Head+First+Design+Patterns%3A+Building+Extensible+and+Maintainable+Object-Oriented+Software&sft=1&sa=0"],["href","https://www.eyrolles.com/Entreprise/Livre/working-effectively-with-legacy-code-9780131177055/"]],template:function(r,i){1&r&&(u(0,"h2"),s(1,"Kata incontournables"),a(),u(2,"ul")(3,"li")(4,"span",0)(5,"a",1),s(6,"Fizz Buzz"),a()(),s(7," : il y a \xe9galement des variantes. L'objectif est de nous orienter vers une approche plus d\xe9clarative bas\xe9e sur la programmation fonctionnelle."),a(),u(8,"li")(9,"span",0)(10,"a",2),s(11,"Leap Years"),a()(),s(12," : pour le TDD, mais attention \xe0 l'ordre des tests."),a(),u(13,"li")(14,"span",0)(15,"a",3),s(16,"String Calculator"),a()(),s(17," : TDD et refactoring. "),a(),u(18,"li")(19,"span",0)(20,"a",4),s(21,"Roman Numerals"),a()(),s(22," : Mod\xe9liser les correspondances de chiffre sous forme d'enum est une \xe9tape cl\xe9 pour aborder ce kata."),a(),u(23,"li")(24,"span",0)(25,"a",5),s(26,"Tennis"),a()(),s(27," : Il existe 3 version. Objectif refactoring. Tr\xe8s bon kata pour initier la code review. "),u(28,"a",6),s(29,"Repo"),a()(),u(30,"li")(31,"span",0)(32,"a",7),s(33,"Bowling"),a()(),s(34," : illustre le concept de design \xe9mergent"),a(),u(35,"li")(36,"span",0)(37,"a",8),s(38,"Gilded Rose"),a()(),s(39," : la difficult\xe9 se situe dans la compr\xe9hension du code, il invite \xe0 cr\xe9er un golden master. Bon kata pour apprendre les raccourcis clavier."),a(),u(40,"li")(41,"span",0)(42,"a",9),s(43,"Tip Service"),a()(),s(44," : refactoring. Difficile \xe0 tester. Apprendre \xe0 s'affranchir des d\xe9pendances, et est une bonne introduction au principe d'inversion de d\xe9pendances."),a()(),u(45,"p"),s(46,"Aller voir des r\xe9solutions de kata sur Youtube."),a(),u(47,"h2"),s(48,"Biblioth\xe8que"),a(),u(49,"h3"),s(50,"Les classiques/fondamentaux"),a(),u(51,"p")(52,"a",10),s(53," Design patterns: Elements of Reusable Object-Oriented Software - Erich Gamma, Richard Helm, Ralph Johnson, John Vlissides\n"),a(),s(54," La bible des design patterns."),a(),u(55,"p")(56,"a",11),s(57,"Head First Design Patterns"),a(),s(58,"\nles patterns les plus utiles et fr\xe9quents, en partant d'un probl\xe8me de conception concret. Tr\xe8s p\xe9dagogique. "),a(),u(59,"p"),s(60,"The Pragmatic Programmer: lecture ais\xe9e; attitude et posture du d\xe9veloppeur; organisation, choix et\nma\xeetrise des outils."),a(),u(61,"p"),s(62,"Extreme Programming Explained : une des premi\xe8re m\xe9thodes agiles."),a(),u(63,"h3"),s(64,"Les core craft"),a(),u(65,"p"),s(66,"Test-Driven Development by exemple : initie \xe0 l'approche TDD"),a(),u(67,"p"),s(68,"Clean code : facile \xe0 lire, une bonne porte d'entr\xe9e au craft."),a(),u(69,"p"),s(70,"Refactoring: Improving the Design of Existing Code - Martin Fowler : la pratique du refactoring expliqu\xe9 progressivement."),a(),u(71,"p"),s(72,"The Software Craftsmanship : attitude et valeur du d\xe9veloppeur."),a(),u(73,"p"),s(74,"The clean coder : centr\xe9 sur la production de code de qualit\xe9. Facile \xe0 lire."),a(),u(75,"h3"),s(76,"Les crafts avanc\xe9"),a(),u(77,"p")(78,"a",12),s(79,"Working Effectively with Legacy Code"),a()(),u(80,"p"),s(81,"xUnit Test Patterns Refactoring Test Code"),a(),u(82,"p"),s(83,"Domain Driver Design : d\xe9crit les patterns strat\xe9giques et tactiques en pla\xe7ant le m\xe9tier au coeur des pr\xe9occupation."),a(),u(84,"p"),s(85,"Growing Object-Oriented Software : pour d\xe9veloppeur confirm\xe9. TDD li\xe9es \xe0 la collaboration entre les classes."),a(),u(86,"p"),s(87,"Living Documentation - Cyrille Martaire"),a())}})}}return e})()}]}];class kl{}class ql{}class Lt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?"string"==typeof t?this.lazyInit=()=>{this.headers=new Map,t.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),o=i.toLowerCase(),l=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof Lt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){const n=new Lt;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Lt?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){const n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,n);const i=("a"===t.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const o=t.value;if(o){let l=this.headers.get(n);if(!l)return;l=l.filter(c=>-1===o.indexOf(c)),0===l.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,l)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(t,n){const r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}}class z5{encodeKey(t){return Pw(t)}encodeValue(t){return Pw(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const W5=/%(\d[a-f0-9])/gi,Q5={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pw(e){return encodeURIComponent(e).replace(W5,(t,n)=>Q5[n]??t)}function Vl(e){return`${e}`}class rr{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new z5,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function G5(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[l,c]=-1==o?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],d=n.get(l)||[];d.push(c),n.set(l,d)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{const r=t.fromObject[n],i=Array.isArray(r)?r.map(Vl):[Vl(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){const n=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const n=new rr({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const n=("a"===t.op?this.map.get(t.param):void 0)||[];n.push(Vl(t.value)),this.map.set(t.param,n);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(Vl(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class Z5{constructor(){this.map=new Map}set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Fw(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Lw(e){return typeof Blob<"u"&&e instanceof Blob}function kw(e){return typeof FormData<"u"&&e instanceof FormData}class Yo{constructor(t,n,r,i){let o;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Y5(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Lt,this.context??=new Z5,this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=n;else{const c=n.indexOf("?");this.urlWithParams=n+(-1===c?"?":c<n.length-1?"&":"")+l}}else this.params=new rr,this.urlWithParams=n}serializeBody(){return null===this.body?null:"string"==typeof this.body||Fw(this.body)||Lw(this.body)||kw(this.body)||function K5(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)?this.body:this.body instanceof rr?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||kw(this.body)?null:Lw(this.body)?this.body.type||null:Fw(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof rr?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.transferCache??this.transferCache,l=void 0!==t.body?t.body:this.body,c=t.withCredentials??this.withCredentials,d=t.reportProgress??this.reportProgress;let p=t.headers||this.headers,f=t.params||this.params;const h=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((m,g)=>m.set(g,t.setHeaders[g]),p)),t.setParams&&(f=Object.keys(t.setParams).reduce((m,g)=>m.set(g,t.setParams[g]),f)),new Yo(n,r,l,{params:f,headers:p,context:h,reportProgress:d,responseType:i,withCredentials:c,transferCache:o})}}var ir=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(ir||{});class Yh{constructor(t,n=Ko.Ok,r="OK"){this.headers=t.headers||new Lt,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class jl extends Yh{constructor(t={}){super(t),this.type=ir.ResponseHeader}clone(t={}){return new jl({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Fr extends Yh{constructor(t={}){super(t),this.type=ir.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Fr({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ns extends Yh{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}var Ko=function(e){return e[e.Continue=100]="Continue",e[e.SwitchingProtocols=101]="SwitchingProtocols",e[e.Processing=102]="Processing",e[e.EarlyHints=103]="EarlyHints",e[e.Ok=200]="Ok",e[e.Created=201]="Created",e[e.Accepted=202]="Accepted",e[e.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",e[e.NoContent=204]="NoContent",e[e.ResetContent=205]="ResetContent",e[e.PartialContent=206]="PartialContent",e[e.MultiStatus=207]="MultiStatus",e[e.AlreadyReported=208]="AlreadyReported",e[e.ImUsed=226]="ImUsed",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.Found=302]="Found",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.Unused=306]="Unused",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.LengthRequired=411]="LengthRequired",e[e.PreconditionFailed=412]="PreconditionFailed",e[e.PayloadTooLarge=413]="PayloadTooLarge",e[e.UriTooLong=414]="UriTooLong",e[e.UnsupportedMediaType=415]="UnsupportedMediaType",e[e.RangeNotSatisfiable=416]="RangeNotSatisfiable",e[e.ExpectationFailed=417]="ExpectationFailed",e[e.ImATeapot=418]="ImATeapot",e[e.MisdirectedRequest=421]="MisdirectedRequest",e[e.UnprocessableEntity=422]="UnprocessableEntity",e[e.Locked=423]="Locked",e[e.FailedDependency=424]="FailedDependency",e[e.TooEarly=425]="TooEarly",e[e.UpgradeRequired=426]="UpgradeRequired",e[e.PreconditionRequired=428]="PreconditionRequired",e[e.TooManyRequests=429]="TooManyRequests",e[e.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",e[e.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout",e[e.HttpVersionNotSupported=505]="HttpVersionNotSupported",e[e.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",e[e.InsufficientStorage=507]="InsufficientStorage",e[e.LoopDetected=508]="LoopDetected",e[e.NotExtended=510]="NotExtended",e[e.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",e}(Ko||{});function Kh(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,transferCache:e.transferCache}}let X5=(()=>{class e{constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof Yo)o=n;else{let d,p;d=i.headers instanceof Lt?i.headers:new Lt(i.headers),i.params&&(p=i.params instanceof rr?i.params:new rr({fromObject:i.params})),o=new Yo(n,r,void 0!==i.body?i.body:null,{headers:d,context:i.context,params:p,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}const l=B(o).pipe(To(d=>this.handler.handle(d)));if(n instanceof Yo||"events"===i.observe)return l;const c=l.pipe(Kn(d=>d instanceof Fr));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(X(d=>{if(null!==d.body&&!(d.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return d.body}));case"blob":return c.pipe(X(d=>{if(null!==d.body&&!(d.body instanceof Blob))throw new Error("Response is not a Blob.");return d.body}));case"text":return c.pipe(X(d=>{if(null!==d.body&&"string"!=typeof d.body)throw new Error("Response is not a string.");return d.body}));default:return c.pipe(X(d=>d.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:(new rr).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Kh(i,r))}post(n,r,i={}){return this.request("POST",n,Kh(i,r))}put(n,r,i={}){return this.request("PUT",n,Kh(i,r))}static{this.\u0275fac=function(r){return new(r||e)(k(kl))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function Vw(e,t){return t(e)}const Xo=new A(""),jw=new A(""),Uw=new A("");let Bw=(()=>{class e extends kl{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=I(Cr);const i=I(Uw,{optional:!0});this.backend=i??n}handle(n){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Xo),...this.injector.get(jw,[])]));this.chain=i.reduceRight((o,l)=>function iq(e,t,n){return(r,i)=>Dn(n,()=>t(r,o=>e(o,i)))}(o,l,this.injector),Vw)}const r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(ll(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||e)(k(ql),k(yt))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();const dq=/^\)\]\}',?\n/;let Hw=(()=>{class e{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new w(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?ze(r.\u0275loadImpl()):B(null)).pipe(hn(()=>new xe(o=>{const l=r.build();if(l.open(n.method,n.urlWithParams),n.withCredentials&&(l.withCredentials=!0),n.headers.forEach((v,y)=>l.setRequestHeader(v,y.join(","))),n.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const v=n.detectContentTypeHeader();null!==v&&l.setRequestHeader("Content-Type",v)}if(n.responseType){const v=n.responseType.toLowerCase();l.responseType="json"!==v?v:"text"}const c=n.serializeBody();let d=null;const p=()=>{if(null!==d)return d;const v=l.statusText||"OK",y=new Lt(l.getAllResponseHeaders()),b=function pq(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(l)||n.url;return d=new jl({headers:y,status:l.status,statusText:v,url:b}),d},f=()=>{let{headers:v,status:y,statusText:b,url:C}=p(),M=null;y!==Ko.NoContent&&(M=typeof l.response>"u"?l.responseText:l.response),0===y&&(y=M?Ko.Ok:0);let R=y>=200&&y<300;if("json"===n.responseType&&"string"==typeof M){const Q=M;M=M.replace(dq,"");try{M=""!==M?JSON.parse(M):null}catch(re){M=Q,R&&(R=!1,M={error:re,text:M})}}R?(o.next(new Fr({body:M,headers:v,status:y,statusText:b,url:C||void 0})),o.complete()):o.error(new ns({error:M,headers:v,status:y,statusText:b,url:C||void 0}))},h=v=>{const{url:y}=p(),b=new ns({error:v,status:l.status||0,statusText:l.statusText||"Unknown Error",url:y||void 0});o.error(b)};let m=!1;const g=v=>{m||(o.next(p()),m=!0);let y={type:ir.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),"text"===n.responseType&&l.responseText&&(y.partialText=l.responseText),o.next(y)},E=v=>{let y={type:ir.UploadProgress,loaded:v.loaded};v.lengthComputable&&(y.total=v.total),o.next(y)};return l.addEventListener("load",f),l.addEventListener("error",h),l.addEventListener("timeout",h),l.addEventListener("abort",h),n.reportProgress&&(l.addEventListener("progress",g),null!==c&&l.upload&&l.upload.addEventListener("progress",E)),l.send(c),o.next({type:ir.Sent}),()=>{l.removeEventListener("error",h),l.removeEventListener("abort",h),l.removeEventListener("load",f),l.removeEventListener("timeout",h),n.reportProgress&&(l.removeEventListener("progress",g),null!==c&&l.upload&&l.upload.removeEventListener("progress",E)),l.readyState!==l.DONE&&l.abort()}})))}static{this.\u0275fac=function(r){return new(r||e)(k(k1))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();const e0=new A(""),zw=new A("",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Gw=new A("",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Ww{}let mq=(()=>{class e{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=M1(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||e)(k(Wt),k(Er),k(zw))}}static{this.\u0275prov=T({token:e,factory:e.\u0275fac})}}return e})();function gq(e,t){const n=e.url.toLowerCase();if(!I(e0)||"GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t(e);const r=I(Ww).getToken(),i=I(Gw);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),t(e)}const wq={providers:[function N8(e,...t){return Wr([{provide:Cl,multi:!0,useValue:e},[],{provide:Ki,useFactory:_9,deps:[Mt]},{provide:hf,multi:!0,useFactory:I9},t.map(n=>n.\u0275providers)])}(H5),function Eq(...e){const t=[X5,Hw,Bw,{provide:kl,useExisting:Bw},{provide:ql,useExisting:Hw},{provide:Xo,useValue:gq,multi:!0},{provide:e0,useValue:!0},{provide:Ww,useClass:mq}];for(const n of e)t.push(...n.\u0275providers);return Wr(t)}()]},_q=(e,t)=>t.id,Iq=(e,t)=>t.title,Sq=()=>({exact:!0});function Mq(e,t){if(1&e&&(u(0,"li",5),s(1),function nC(e,t){const n=Y();let r;const i=e+V;n.firstCreatePass?(r=function LR(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=lr(r.type)),c=ut(_);try{const d=xa(!1),p=o();return xa(d),function oR(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,D(),i,p),p}finally{ut(c)}}(2,"titlecase"),a()),2&e){const n=t.$implicit;Tu("routerLink",n.path),Ir("routerLinkActiveOptions",function Yb(e,t,n){const r=et()+e,i=D();return i[r]===U?un(i,r,n?t.call(n):t()):function eo(e,t){return e[t]}(i,r)}(5,Sq)),Nt(),ki(" ",rC(2,3,n.title)," ")}}function Aq(e,t){if(1&e&&(u(0,"ul",4),Up(1,Mq,3,6,"li",5,Iq),a()),2&e){const n=Yp().$implicit;Nt(),Bp(n.chapter)}}function Tq(e,t){if(1&e){const n=function Fy(){return D()}();u(0,"li",0),mt("click",function(){const i=function Dm(e){return F.lFrame.contextLView=e,e[he]}(n).$implicit;return function wm(e){return F.lFrame.contextLView=null,e}(Yp().toggleSubmenu(i.id))}),u(1,"div",1),j(2,"span",2),s(3),a(),j(4,"i",3),a(),vi(5,Aq,3,0,"ul",4)}if(2&e){const n=t.$implicit;Tu("routerLink",n.path),Nt(3),ki(" ",n.title," "),Nt(),so("fa-rotate-90",!n.isOpen),Nt(),function Ny(e,t,n){an("NgControlFlow");const r=D(),i=Bt(),o=$p(r,V+e);if(Me(r,i,t)){const c=G(null);try{if(Kd(o,0),-1!==t){const d=Hp(r[S],V+t),p=gi(o,d.tView.ssrId);Us(o,js(r,d,n,{dehydratedView:p}),0,mi(d,p))}}finally{G(c)}}else{const c=TE(o,0);void 0!==c&&(c[he]=n)}}(5,n.isOpen?5:-1)}}let xq=(()=>{class e{constructor(){this.menu=[{id:0,path:"angular",title:"Angular",isOpen:!1,chapter:[{path:"angular/introduction",title:"introduction"},{path:"angular/tutorial",title:"tutorial"},{path:"angular/component",title:"component"},{path:"angular/template",title:"template"},{path:"angular/directives",title:"directives"},{path:"angular/pipes",title:"pipes"},{path:"angular/services",title:"services"},{path:"angular/routing",title:"routing"},{path:"angular/observables",title:"observables"},{path:"angular/exercices",title:"exercices"}]},{id:1,path:"cSharp",title:"C#",isOpen:!1,chapter:[]},{id:2,path:"github",title:"Github",isOpen:!1,chapter:[]},{id:3,path:"algorithms",title:"Algorithme",isOpen:!1,chapter:[]},{id:4,path:"softwareCraft",title:"Software Craft",isOpen:!1,chapter:[{path:"softwareCraft/introduction",title:"introduction"},{path:"softwareCraft/tdd",title:"TDD"},{path:"softwareCraft/clean-code",title:"Clean Code"},{path:"softwareCraft/bdd",title:"BDD"},{path:"softwareCraft/pair-programming",title:"Pair Programming"},{path:"softwareCraft/refactoring",title:"Refactoring"},{path:"softwareCraft/legacy-code",title:"Code legacy"},{path:"softwareCraft/kata-fraction",title:"Kata fraction"},{path:"softwareCraft/principes-et-outils",title:"Principes et outils"},{path:"softwareCraft/techniques-avancees-tdd",title:"Outils et techniques avanc\xe9es de TDD"},{path:"softwareCraft/techniques-conception",title:"Techniques de conception"},{path:"softwareCraft/architecture",title:"Transformation de code \xe0 caract\xe8re architectural"},{path:"softwareCraft/introduire-craft",title:"Introduire le craft"},{path:"softwareCraft/etat-esprit",title:"Un \xe9tat esprit"},{path:"softwareCraft/craft-2",title:"Craft 2.0"},{path:"softwareCraft/annexe",title:"Annexe"}]},{id:5,path:"english",title:"English",isOpen:!1,chapter:[]}],this.currentPath=""}ngOnInit(){}toggleSubmenu(n){this.menu.forEach((r,i)=>{r.isOpen=i===n&&!r.isOpen})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-sidebar"]],standalone:!0,features:[H],decls:4,vars:0,consts:[["routerLinkActive","pink-purple-txt",1,"d-flex","space-between",3,"click","routerLink"],[1,"d-flex"],[1,"highlight"],[1,"fa-solid","fa-chevron-down"],[1,"mx-1"],["routerLinkActive","submenuActive",1,"submenuPadding-05",3,"routerLink","routerLinkActiveOptions"]],template:function(r,i){1&r&&(u(0,"nav")(1,"ul"),Up(2,Tq,6,5,null,null,_q),a()()),2&r&&(Nt(2),Bp(i.menu))},dependencies:[wl,D9,O1,Ow],styles:[".bg-light[_ngcontent-%COMP%]{background-color:#f3f3f8}.bg-dark[_ngcontent-%COMP%]{background-color:#010115}.light[_ngcontent-%COMP%]{color:#f3f3f8}.pink-purple-txt[_ngcontent-%COMP%]{background:-webkit-linear-gradient(90deg,#FA30C5 0%,#bf25ff 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.pink-purple[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#fa30c5,#bf25ff 60%)}.red-yellow-txt[_ngcontent-%COMP%]{background:-webkit-linear-gradient(90deg,#fcbf2e 0%,#de1e12 60%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.red-yellow[_ngcontent-%COMP%]{background-image:linear-gradient(90deg,#fcbf2e,#de1e12 60%)}.red[_ngcontent-%COMP%]{color:#de1e12}.blue[_ngcontent-%COMP%]{color:#2069ff}.blue-purple[_ngcontent-%COMP%]{background:linear-gradient(0deg,#bf25ff,#2069ff 90%)}.blue-purple-txt[_ngcontent-%COMP%]{background:linear-gradient(0deg,#bf25ff,#2069ff 90%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.blue-green[_ngcontent-%COMP%]{background-image:linear-gradient(0deg,#25ff6f,#2069ff 90%)}.blue-green-txt[_ngcontent-%COMP%]{background:-webkit-linear-gradient(90deg,#25ff6f 0%,#2069ff 60%);-webkit-background-clip:text;-webkit-text-fill-color:transparent}[_nghost-%COMP%]{width:250px;height:calc(100vh - 96px);background-color:#010115;display:block;padding:1em}li[_ngcontent-%COMP%]{list-style:none;margin-bottom:.5em;color:#fff}ul[_ngcontent-%COMP%]{padding:0;color:#fff}a[_ngcontent-%COMP%]{text-decoration:none;color:#f3f3f8}.submenuActive[_ngcontent-%COMP%]{background:linear-gradient(0deg,#2069ff99,#bf25ff99);color:#f3f3f8;border-radius:5px}.submenuPadding-05[_ngcontent-%COMP%]{padding:.2em 0 .2em .7em}"]})}}return e})(),Nq=(()=>{class e{constructor(){this.titleModel=rg.required()}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-title"]],inputs:{titleModel:[de.SignalBased,"titleModel"]},standalone:!0,features:[H],decls:6,vars:3,consts:[[1,"d-flex","align-center","p-sticky","z-index-1","blur"],[1,"techno-logo",3,"src","alt"],[1,"text-center"],["src","./assets/images/chatbot.png","alt","chatbot",1,"bot","blue-purple"]],template:function(r,i){1&r&&(u(0,"div",0),j(1,"img",1),u(2,"h1",2),s(3),a(),j(4,"img",3),a(),j(5,"router-outlet")),2&r&&(Nt(),Ir("src",i.titleModel().imgUrl,Md)("alt",i.titleModel().alt),Nt(2),Xp(i.titleModel().title))},dependencies:[Jn]})}}return e})(),Rq=(()=>{class e{constructor(n){this.router=n,this.titleModel={title:"Angular",imgUrl:"assets/angular.png",alt:"logo Angular"},this.url="angular"}ngOnInit(){console.log("je suis le chemin body:"+this.router.url)}static{this.\u0275fac=function(r){return new(r||e)(_(Mt))}}static{this.\u0275cmp=$({type:e,selectors:[["app-body"]],inputs:{currentPath:"currentPath"},standalone:!0,features:[H],decls:5,vars:1,consts:[[1,"d-flex"],[3,"titleModel"]],template:function(r,i){1&r&&(u(0,"div",0),j(1,"app-sidebar"),u(2,"div"),j(3,"app-title",1)(4,"router-outlet"),a()()),2&r&&(Nt(3),Ir("titleModel",i.titleModel))},dependencies:[xq,Jn,Nq,Ow],styles:["div[_ngcontent-%COMP%]{width:100%}"]})}}return e})(),Oq=(()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-header"]],standalone:!0,features:[H],decls:24,vars:0,consts:[[1,"bg-dark"],[1,"d-flex","test"],["id","logo","src","./assets/kitsuneIcon.png","alt","logo"],["id","title",1,"noto","blue-purple-txt"],[1,"light"]],template:function(r,i){1&r&&(u(0,"header",0)(1,"div",1),j(2,"img",2),u(3,"div")(4,"h1",3)(5,"ruby"),s(6," \u72d0 "),u(7,"rp"),s(8,"("),a(),u(9,"rt"),s(10,"\u304d\u3064\u306d"),a(),u(11,"rp"),s(12,")"),a()(),s(13,"\u306e"),u(14,"ruby"),s(15," \u9053 "),u(16,"rp"),s(17,"("),a(),u(18,"rt"),s(19,"\u307f\u3061"),a(),u(20,"rp"),s(21,")"),a()()(),u(22,"p",4),s(23,"Le chemin du renard"),a()()()())},styles:["header[_ngcontent-%COMP%]{height:90px;width:100%;padding:1em}#logo[_ngcontent-%COMP%]{width:64px;height:64px}#title[_ngcontent-%COMP%]{font-size:2em;font-weight:700;margin:0}.w-100[_ngcontent-%COMP%]{width:100%}li[_ngcontent-%COMP%]{cursor:pointer;list-style:none}p[_ngcontent-%COMP%]{font-size:.7em;margin:0}"]})}}return e})();(function lL(e,t){return MP({rootComponent:e,...tD(t)})})((()=>{class e{static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275cmp=$({type:e,selectors:[["app-root"]],standalone:!0,features:[H],decls:2,vars:0,template:function(r,i){1&r&&j(0,"app-header")(1,"app-body")},dependencies:[Rq,Oq],encapsulation:2})}}return e})(),wq).catch(e=>console.error(e))}},rs=>{rs(rs.s=790)}]);